{"version":3,"sources":["../../../src/config/defineConfig.ts","../../../../../node_modules/.pnpm/tailwindcss@3.4.18_tsx@4.20.6_yaml@2.8.1/node_modules/tailwindcss/tailwind.css","../../../src/ui/FrameProvider.tsx","../../../src/quarry/transports/methods/estimateUserOperationGas.ts","../../../src/quarry/transports/methods/sendUserOperation.ts","../../../src/debug.ts","../../../src/quarry/debug.ts","../../../src/quarry/transports/userOpExecutor.ts","../../../src/getBundlerTransport.ts","../../../src/EntryKitConfigProvider.tsx","../../../src/useTheme.ts","../../../src/ui/Shadow.tsx","../../../src/ui/Modal.tsx","../../../src/useAccountModal.ts","../../../src/icons/PendingIcon.tsx","../../../src/ui/Button.tsx","../../../src/icons/Logo.tsx","../../../src/usePreloadImage.tsx","../../../src/AppInfo.tsx","../../../src/ConnectWallet.tsx","../../../src/quarry/common.ts","../../../src/getPaymaster.ts","../../../src/onboarding/quarry/getSpender.ts","../../../src/onboarding/quarry/useSpender.ts","../../../src/common.ts","../../../src/onboarding/getDelegation.ts","../../../src/onboarding/useDelegation.ts","../../../src/store.ts","../../../src/getSessionSigner.ts","../../../src/getSessionAccount.ts","../../../src/useSessionAccount.ts","../../../src/quarry/getAllowance.ts","../../../src/onboarding/quarry/useAllowance.ts","../../../src/quarry/getBalance.ts","../../../src/onboarding/quarry/useBalance.ts","../../../src/useFunds.ts","../../../src/onboarding/usePrerequisites.ts","../../../src/useENS.ts","../../../src/ui/TruncatedHex.tsx","../../../src/errors/store.ts","../../../src/errors/useShowMutationError.ts","../../../src/onboarding/Wallet.tsx","../../../src/utils/defineCall.ts","../../../src/utils/signCall.ts","../../../src/utils/callWithSignature.ts","../../../src/actions/cachedFeesPerGas.ts","../../../src/createBundlerClient.ts","../../../src/onboarding/useSetupSession.ts","../../../src/getSessionClient.ts","../../../src/useSessionClient.ts","../../../src/errors/useShowQueryError.ts","../../../src/onboarding/Session.tsx","../../../src/icons/EthIcon.tsx","../../../src/formatBalance.ts","../../../src/ui/Balance.tsx","../../../src/data/relayChains.json","../../../src/onboarding/useSetBalance.ts","../../../src/errors/usePrevious.ts","../../../src/icons/IconSVG.tsx","../../../src/icons/CopyIcon.tsx","../../../src/icons/CheckIcon.tsx","../../../src/onboarding/GasBalance.tsx","../../../src/icons/ChevronUpIcon.tsx","../../../src/icons/ChevronDownIcon.tsx","../../../src/ui/Slot.tsx","../../../src/ui/Input.tsx","../../../src/onboarding/deposit/PreloadedImage.tsx","../../../src/onboarding/deposit/ChainIcon.tsx","../../../src/onboarding/deposit/useRelay.ts","../../../src/onboarding/deposit/useChainBalances.ts","../../../src/onboarding/deposit/ChainSelect.tsx","../../../src/onboarding/deposit/AmountInput.tsx","../../../src/onboarding/deposit/SubmitButton.tsx","../../../src/icons/WarningIcon.tsx","../../../src/formatGas.ts","../../../src/onboarding/deposit/DepositForm.tsx","../../../src/onboarding/deposit/useDeposits.ts","../../../src/onboarding/deposit/DepositViaTransferForm.tsx","../../../src/onboarding/deposit/DepositViaRelayForm.tsx","../../../src/icons/CloseIcon.tsx","../../../src/onboarding/deposit/DepositStatus.tsx","../../../src/onboarding/deposit/TransferDepositStatus.tsx","../../../src/onboarding/deposit/RelayDepositStatus.tsx","../../../src/onboarding/deposit/Deposits.tsx","../../../src/onboarding/deposit/DepositFormContainer.tsx","../../../src/icons/ArrowLeftIcon.tsx","../../../src/onboarding/quarry/WithdrawGasBalanceButton.tsx","../../../src/quarry/transports/quarrySponsor.ts","../../../src/quarry/requestAllowance.ts","../../../src/onboarding/quarry/useRequestAllowance.ts","../../../src/onboarding/quarry/GasBalance.tsx","../../../src/onboarding/ConnectedSteps.tsx","../../../src/AccountModalContent.tsx","../../../src/errors/ErrorOverlay.tsx","../../../src/errors/ErrorFallback.tsx","../../../src/errors/ErrorsOverlay.tsx","../../../src/AccountModal.tsx","../../../src/EntryKitProvider.tsx","../../../src/AccountName.tsx","../../../src/AccountButton.tsx","../../../src/useSessionClientReady.ts","../../../src/connectors/walletConnect.ts","../../../src/getDefaultConnectors.ts","../../../src/createWagmiConfig.ts","../../../src/utils/withFeeCache.ts","../../../src/validateSigner.ts"],"names":["debug","entryPoint07Address","log","Context","createContext","useContext","jsx","Shadow","useEffect","DialogRoot","jsxs","twMerge","error","useRef","parseAbi","getRecord","queryOptions","skipToken","store","createStore","privateKeyToAccount","getAction","useClient","useQuery","getBalanceQueryOptions","useQueryClient","useConfig","viem_writeContract","viem_createBundlerClient","isIdPlaceConnector","parseEventLogs","entryPoint07Abi","sendUserOperation","resourceToHex","worldSystemsConfig","waitForTransactionReceipt","formatEther","useMutation","setBalance","useState","useBalance","parseEther","Fragment","fallback","forwardRef","ChainIcon","createClient","useWagmiConfig","getBalance","useMemo","value","AmountInput","useAccount","useSwitchChain","useWatchBlockNumber","useStore","useCallback","encodeFunctionData","receipt","quote","amount","useChains","chain","useWriteContract","http","GasBalance","requestAllowance","steps","AccountButton","useConnectorClient","listener","numberToHex","readContract"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGO,SAAS,aAAa,KAA4C,EAAA;AACvE,EAAO,OAAA;AAAA,IACL,GAAG,KAAA;AAAA,IACH,OAAA,EAAS,KAAM,CAAA,OAAA,IAAW,QAAS,CAAA,KAAA;AAAA,IACnC,OAAA,EAAS,MAAM,OAAW,IAAA,QAAA,CAAS,cAAc,mBAAmB,CAAA,EAAG,YAAa,CAAA,MAAM,CAAK,IAAA;AAAA,GACjG;AACF;;;ACTA,IAAA,gBAAA,GAAA,8/iCAAA;ACOA,IAAM,OAAA,GAAU,cAAmC,IAAI,CAAA;AAOhD,SAAS,aAAc,CAAA,EAAE,KAAO,EAAA,QAAA,EAAmB,EAAA;AACxD,EAAM,MAAA,KAAA,GAAQ,WAAW,OAAO,CAAA;AAChC,EAAA,IAAI,KAAO,EAAA,MAAM,IAAI,KAAA,CAAM,wCAAwC,CAAA;AACnE,EAAO,uBAAA,GAAA,CAAC,QAAQ,QAAR,EAAA,EAAiB,OAAO,EAAE,KAAA,IAAU,QAAS,EAAA,CAAA;AACvD;AAEO,SAAS,QAAyB,GAAA;AACvC,EAAM,MAAA,KAAA,GAAQ,WAAW,OAAO,CAAA;AAChC,EAAA,IAAI,CAAC,KAAA,EAAa,MAAA,IAAI,MAAM,uDAAuD,CAAA;AACnF,EAAO,OAAA,KAAA;AACT;AChBA,eAAsB,yBAEpB,OACkC,EAAA;AAClC,EAAA,OAAO,0BAA2B,CAAA;AAAA,IAChC,YAAc,EAAA,SAAA;AAAA,IACd,kBAAoB,EAAA,OAAA;AAAA,IACpB,oBAAsB,EAAA,QAAA;AAAA,IACtB,6BAA+B,EAAA,OAAA;AAAA,IAC/B,uBAAyB,EAAA;AAAA,GAC1B,CAAA;AACH;ACDA,eAAsB,iBAAkB,CAAA;AAAA,EACtC,QAAA;AAAA,EACA;AACF,CAOE,EAAA;AACA,EAAM,MAAA,MAAA,GAAS,oBAAoB,SAAS,CAAA;AAC5C,EAAM,MAAA,YAAA,GAAe,sBAAsB,MAAM,CAAA;AAEjD,EAAA,MAAM,aAAa,oBAAqB,CAAA;AAAA,IACtC,aAAe,EAAA,MAAA;AAAA,IACf,OAAA,EAAS,SAAS,KAAM,CAAA,EAAA;AAAA,IACxB,iBAAmB,EAAA,KAAA;AAAA,IACnB,iBAAmB,EAAA;AAAA,GACpB,CAAA;AAED,EAAA,MAAM,kBAAkB,MAAM,SAAA;AAAA,IAC5B,QAAA;AAAA,IACA,aAAA;AAAA,IACA;AAAA,GACA,CAAA;AAAA,IACA,GAAK,EAAA,eAAA;AAAA,IACL,OAAS,EAAA,mBAAA;AAAA,IACT,YAAc,EAAA,WAAA;AAAA,IACd,MAAM,CAAC,CAAC,YAAY,CAAG,EAAA,QAAA,CAAS,QAAQ,OAAO,CAAA;AAAA,IAC/C,OAAO,QAAS,CAAA,KAAA;AAAA,IAChB,SAAS,QAAS,CAAA;AAAA,GACnB,CAAA;AAED,EAAA,MAAM,UAAU,MAAM,SAAA;AAAA,IACpB,QAAA;AAAA,IACA,yBAAA;AAAA,IACA;AAAA,GACA,CAAA,EAAE,IAAM,EAAA,eAAA,EAAiB,CAAA;AAG3B,EAAA,MAAM,aAAa,cAAe,CAAA;AAAA,IAChC,MAAM,OAAQ,CAAA,IAAA;AAAA,IACd,GAAK,EAAA,eAAA;AAAA,IACL,SAAW,EAAA;AAAA,GACZ,CAAA;AAED,EAAO,OAAA;AAAA,IACL,OAAS,EAAA,UAAA,CAAW,CAAC,CAAA,CAAG,IAAK,CAAA,OAAA;AAAA,IAC7B,UAAA;AAAA,IACA;AAAA,GACF;AACF;ACpEO,IAAM,KAAA,GAAQ,YAAY,cAAc,CAAA;AACxC,IAAM,KAAA,GAAQ,YAAY,cAAc,CAAA;AAG/C,KAAA,CAAM,GAAM,GAAA,OAAA,CAAQ,KAAM,CAAA,IAAA,CAAK,OAAO,CAAA;AAGtC,KAAA,CAAM,GAAM,GAAA,OAAA,CAAQ,KAAM,CAAA,IAAA,CAAK,OAAO,CAAA;;;ACP/B,IAAMA,MAAAA,GAAQ,KAAY,CAAA,MAAA,CAAO,QAAQ,CAAA;ACyBzC,SAAS,cAAe,CAAA;AAAA,EAC7B,QAAA;AAAA,EACA;AACF,CAGc,EAAA;AACZ,EAAA,OAAO,CAAC,IAAS,KAAA;AACf,IAAAA,MAAM,CAAA,gCAAA,EAAkC,QAAS,CAAA,OAAA,CAAQ,OAAO,CAAA;AAEhE,IAAI,IAAA,QAAA,CAAS,KAAM,CAAA,EAAA,KAAO,KAAO,EAAA;AAC/B,MAAAA,OAAM,0BAA0B,CAAA;AAChC,MAAA,UAAA;AAAA,QACE,SAAS,MAAO,CAAA,OAAO,EAAE,IAAA,EAAM,SAAU,CAAA,CAAA;AAAA,QACzC;AAAA,UACE,OAAA,EAAS,SAAS,OAAQ,CAAA,OAAA;AAAA,UAC1B,KAAA,EAAO,WAAW,KAAK;AAAA;AACzB,OACF;AAAA;AAGF,IAAM,MAAA,QAAA,uBAAe,GAA0C,EAAA;AAG/D,IAAA,MAAM,OAAgD,GAAA,OAAO,EAAE,MAAA,EAAQ,QAAa,KAAA;AAElF,MAAA,IAAI,WAAW,aAAe,EAAA;AAC5B,QAAO,OAAA,WAAA,CAAY,QAAS,CAAA,KAAA,CAAM,EAAE,CAAA;AAAA;AAGtC,MAAA,IAAI,WAAW,0BAA4B,EAAA;AACzC,QAAA,OAAO,CAACC,mBAAmB,CAAA;AAAA;AAG7B,MAAA,IAAI,WAAW,uBAAyB,EAAA;AACtC,QAAM,MAAA,CAAC,SAAW,EAAA,UAAU,CAAI,GAAA,MAAA;AAChC,QAAA,IAAI,eAAeA,mBAAqB,EAAA;AACtC,UAAA,MAAM,SAAS,MAAM,iBAAA,CAAkB,EAAE,QAAA,EAAU,WAAW,CAAA;AAC9D,UAAS,QAAA,CAAA,GAAA,CAAI,MAAO,CAAA,UAAA,EAAY,MAAwC,CAAA;AACxE,UAAA,OAAO,MAAO,CAAA,UAAA;AAAA;AAChB;AAGF,MAAA,IAAI,WAAW,6BAA+B,EAAA;AAC5C,QAAM,MAAA,CAAC,UAAU,CAAI,GAAA,MAAA;AACrB,QAAA,IAAI,SAAS,GAAI,CAAA,UAAU,GAAU,OAAA,QAAA,CAAS,IAAI,UAAU,CAAA;AAE5D,QAAA,MAAM,QAAQ,UAAW,CAAA;AAAA,UACvB,GAAK,EAAA,eAAA;AAAA,UACL,IAAM,EAAA;AAAA,SACP,CAAA;AAED,QAAM,MAAA,GAAA,GAAA,CACJ,MAAM,OAAA,CAAQ,QAAU,EAAA;AAAA,UACtB,OAAS,EAAA,CAAC,mBAAqBA,EAAAA,mBAAAA,EAAqB,mBAAmB,CAAA;AAAA,UACvE,KAAA;AAAA,UACA,IAAA,EAAM,EAAE,UAAW;AAAA,SACpB,CACD,EAAA,EAAA,CAAG,CAAC,CAAA;AAEN,QAAI,IAAA,CAAC,KAAY,OAAA,IAAA;AACjB,QAAA,MAAM,OAAO,GAAI,CAAA,eAAA;AACjB,QAAA,MAAM,UAAU,MAAM,qBAAA,CAAsB,QAAU,EAAA,EAAE,MAAM,CAAA;AAE9D,QAAM,MAAA,aAAA,GAAgB,wBAAwB,UAAY,EAAA;AAAA,UACxD,GAAG,OAAA;AAAA,UACH,cAAc,OAAQ,CAAA,YAAA,GAAe,WAAY,CAAA,OAAA,CAAQ,YAAY,CAAI,GAAA,MAAA;AAAA,UACzE,aAAa,OAAQ,CAAA,WAAA,GAAc,WAAY,CAAA,OAAA,CAAQ,WAAW,CAAI,GAAA,MAAA;AAAA,UACtE,WAAA,EAAa,WAAY,CAAA,OAAA,CAAQ,WAAW,CAAA;AAAA,UAC5C,iBAAA,EAAmB,WAAY,CAAA,OAAA,CAAQ,iBAAiB,CAAA;AAAA,UACxD,iBAAA,EAAmB,WAAY,CAAA,OAAA,CAAQ,iBAAiB,CAAA;AAAA,UACxD,OAAA,EAAS,WAAY,CAAA,OAAA,CAAQ,OAAO,CAAA;AAAA,UACpC,IAAM,EAAA,OAAA,CAAQ,IAAK,CAAA,GAAA,CAAI,CAACC,IAAS,MAAA;AAAA,YAC/B,GAAGA,IAAAA;AAAA,YACH,WAAA,EAAa,WAAYA,CAAAA,IAAAA,CAAI,WAAW,CAAA;AAAA,YACxC,QAAA,EAAU,WAAYA,CAAAA,IAAAA,CAAI,QAAQ,CAAA;AAAA,YAClC,gBAAA,EAAkB,WAAYA,CAAAA,IAAAA,CAAI,gBAAgB;AAAA,WAClD,CAAA,CAAA;AAAA,UACF,QAAQ,OAAQ,CAAA,MAAA;AAAA,UAChB,gBAAA,EAAkB,WAAY,CAAA,OAAA,CAAQ,gBAAgB;AAAA,SACvD,CAAA;AAED,QAAO,OAAA,aAAA;AAAA;AAGT,MAAA,IAAI,WAAW,8BAAgC,EAAA;AAC7C,QAAO,OAAA,MAAM,yBAA+B,CAAA;AAAA;AAG9C,MAAAF,MAAAA,CAAM,CAA2B,wBAAA,EAAA,MAAM,CAAsD,oDAAA,CAAA,CAAA;AAC7F,MAAA,MAAM,EAAE,OAAA,EAAS,eAAgB,EAAA,GAAI,yBAAyB,IAAI,CAAA;AAElE,MAAA,OAAO,eAAgB,CAAA,EAAE,MAAQ,EAAA,MAAA,EAAQ,CAAA;AAAA,KAC3C;AAEA,IAAA,OAAO,eAAgB,CAAA;AAAA,MACrB,GAAK,EAAA,gBAAA;AAAA,MACL,IAAM,EAAA,gBAAA;AAAA,MACN,IAAM,EAAA,mCAAA;AAAA,MACN;AAAA,KACD,CAAA;AAAA,GACH;AACF;AC3HO,SAAS,oBAAoB,KAAc,EAAA;AAChD,EAAI,IAAA,SAAA,IAAa,MAAM,OAAS,EAAA;AAC9B,IAAA,OAAO,OAAQ,EAAA;AAAA;AAIjB,EAAA,MAAM,cAAiB,GAAA,KAAA,CAAM,OAAQ,CAAA,OAAA,EAAS,KAAK,CAAC,CAAA;AACpD,EAAA,IAAI,cAAgB,EAAA;AAClB,IAAA,OAAO,KAAK,cAAc,CAAA;AAAA;AAG5B,EAAI,IAAA,KAAA,CAAM,OAAO,KAAO,EAAA;AACtB,IAAA,OAAO,cAAe,CAAA;AAAA,MACpB,UAAU,YAAa,CAAA;AAAA,QACrB,KAAA;AAAA,QACA,WAAW,QAAS,CAAA,CAAC,WAAa,EAAA,IAAA,EAAM,CAAC,CAAA;AAAA,QACzC,SAAS,mBAAoB,CAAA,SAAA,CAAU,WAAY,CAAA,wBAAwB,CAAC,CAAC,CAAA;AAAA,QAC7E,eAAiB,EAAA;AAAA,OAClB,CAAA,CAAE,MAAO,CAAA,gBAAA,EAAkB,CAAA;AAAA,MAC5B,0BAA0B,IAAK;AAAA,KAChC,CAAA;AAAA;AAGH,EAAA,MAAM,IAAI,KAAA,CAAM,CAAS,MAAA,EAAA,KAAA,CAAM,EAAE,CAA4C,0CAAA,CAAA,CAAA;AAC/E;AClBA,IAAMG,QAAAA,GAAUC,cAAmC,IAAI,CAAA;AAOhD,SAAS,sBAAuB,CAAA,EAAE,MAAQ,EAAA,QAAA,EAAmB,EAAA;AAClE,EAAM,MAAA,aAAA,GAAgBC,WAAWF,QAAO,CAAA;AACxC,EAAA,IAAI,aAAe,EAAA,MAAM,IAAI,KAAA,CAAM,2CAA2C,CAAA;AAI9E,EAAA,MAAM,SAAS,SAAU,EAAA;AACzB,EAAM,MAAA,KAAA,GAAQ,OAAO,IAAK,CAAA,CAAC,EAAE,EAAG,EAAA,KAAM,EAAO,KAAA,MAAA,CAAO,OAAO,CAAA;AAC3D,EAAI,IAAA,CAAC,OAAa,MAAA,IAAI,MAAM,CAAgD,6CAAA,EAAA,MAAA,CAAO,OAAO,CAAG,CAAA,CAAA,CAAA;AAG7F,EAAA,mBAAA,CAAoB,KAAK,CAAA;AAEzB,EAAA,uBACEG,GAAAA;AAAA,IAAC,kBAAA;AAAA,IAAA;AAAA,MACC,KAAM,EAAA,UAAA;AAAA,MACN,OAAS,EAAA;AAAA,QACP,sBAAwB,EAAA,IAAA;AAAA;AAAA;AAAA,QAGxB,gBAAgB,KAAM,CAAA;AAAA,OACxB;AAAA,MAEA,QAAA,kBAAAA,GAACH,CAAAA,QAAAA,CAAQ,QAAR,EAAA,EAAiB,KAAO,EAAA,EAAE,GAAG,MAAA,EAAQ,KAAM,EAAA,EAAI,QAAS,EAAA;AAAA;AAAA,GAC3D;AAEJ;AAEO,SAAS,iBAAkC,GAAA;AAChD,EAAM,MAAA,MAAA,GAASE,WAAWF,QAAO,CAAA;AACjC,EAAA,IAAI,CAAC,MAAA,EAAc,MAAA,IAAI,MAAM,mEAAmE,CAAA;AAChG,EAAO,OAAA,MAAA;AACT;;;AChDO,SAAS,QAAW,GAAA;AACzB,EAAA,MAAM,EAAE,KAAA,EAAO,YAAa,EAAA,GAAI,iBAAkB,EAAA;AAClD,EAAM,MAAA,QAAA,GAAW,cAAc,8BAA8B,CAAA;AAC7D,EAAM,MAAA,KAAA,GAAQ,YAAiB,KAAA,QAAA,GAAW,MAAS,GAAA,OAAA,CAAA;AACnD,EAAO,OAAA,KAAA;AACT;ACKA,SAAS,OAAQ,CAAA;AAAA,EACf,MAAA;AAAA,EACA,GAAG;AACL,CAE+B,EAAA;AAC7B,EAAM,MAAA,GAAA,GAAM,OAA8B,IAAI,CAAA;AAC9C,EAAA,iBAAA,CAAkB,EAAE,GAAA,EAAK,QAAU,EAAA,MAAA,EAAQ,CAAA;AAC3C,EAAA,uBAAOG,GAAAA,CAAC,KAAI,EAAA,EAAA,GAAA,EAAW,GAAG,KAAA,EAAO,KAAO,EAAA,EAAE,GAAG,KAAA,CAAM,KAAO,EAAA,OAAA,EAAS,eAAiB,EAAA,CAAA;AACtF;AAKO,IAAM,MAAA,GAAS,WAAqC,SAASC,OAAAA,CAAO,EAAE,IAAM,EAAA,QAAA,IAAY,YAAc,EAAA;AAC3G,EAAM,MAAA,QAAA,GAAW,OAAiC,IAAI,CAAA;AACtD,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAI,SAAS,KAAK,CAAA;AAC1C,EAAM,MAAA,KAAA,GAAQ,MAAS,GAAA,QAAA,CAAS,OAAU,GAAA,IAAA;AAE1C,EAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAI,QAAoE,CAAA;AAAA,IACpG,KAAO,EAAA,MAAA;AAAA,IACP,MAAQ,EAAA;AAAA,GACT,CAAA;AAED,EAAA,MAAM,gBAAgB,KAAO,EAAA,eAAA;AAC7B,EAAA,MAAM,QAAQ,QAAS,EAAA;AACvB,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,IAAI,aAAe,EAAA;AACjB,MAAc,aAAA,CAAA,IAAA,CAAK,YAAa,CAAA,YAAA,EAAc,KAAK,CAAA;AAAA;AACrD,GACC,EAAA,CAAC,aAAe,EAAA,KAAK,CAAC,CAAA;AAEzB,EAAM,MAAA,UAAA,GACJ,SAAS,OACL,GAAA;AAAA,IACE,GAAK,EAAA,OAAA;AAAA,IACL,OAAS,EAAA,OAAA;AAAA,IACT,QAAU,EAAA,OAAA;AAAA,IACV,KAAO,EAAA,GAAA;AAAA,IACP,KAAO,EAAA,MAAA;AAAA,IACP,MAAQ,EAAA,MAAA;AAAA;AAAA;AAAA,IAGR,MAAQ,EAAA;AAAA,GAEV,GAAA,SAAA,CAAU,KAAS,IAAA,SAAA,CAAU,MAC3B,GAAA;AAAA,IACE,GAAK,EAAA,OAAA;AAAA,IACL,OAAS,EAAA,aAAA;AAAA,IACT,KAAA,EAAO,CAAG,EAAA,SAAA,CAAU,KAAK,CAAA,EAAA,CAAA;AAAA,IACzB,MAAA,EAAQ,CAAG,EAAA,SAAA,CAAU,MAAM,CAAA,EAAA;AAAA,GAE7B,GAAA;AAAA,IACE,GAAK,EAAA,OAAA;AAAA,IACL,OAAS,EAAA,OAAA;AAAA,IACT,QAAU,EAAA,OAAA;AAAA,IACV,KAAO,EAAA,GAAA;AAAA,IACP,KAAO,EAAA,MAAA;AAAA,IACP,MAAQ,EAAA,MAAA;AAAA,IACR,OAAS,EAAA,CAAA;AAAA,IACT,aAAe,EAAA;AAAA,GACjB;AAER,EAAA,uBACED,GAAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,GAAK,EAAA,SAAA,CAAU,CAAC,YAAA,EAAc,QAAQ,CAAC,CAAA;AAAA,MACvC,KAAO,EAAA,UAAA;AAAA,MACP,MAAA,EAAQ,MAAM,SAAA,CAAU,IAAI,CAAA;AAAA,MAC5B,MAAO,EAAA,sCAAA;AAAA,MAEN,0BACG,QAAS,CAAA,YAAA;AAAA,wBACP,IAAA,CAAC,iBAAc,KAKb,EAAA,QAAA,EAAA;AAAA,0BAAAA,GAAAA,CAAC,KAAK,EAAA,EAAA,QAAA,EAAA,IAAA,KAAS,OAAU,GAAA,QAAA,mBAAWA,GAAAA,CAAC,OAAQ,EAAA,EAAA,MAAA,EAAQ,YAAe,EAAA,QAAA,EAAS,CAAW,EAAA,CAAA;AAAA,0BACxFA,GAAC,CAAA,OAAA,EAAA,EAAM,yBAAyB,EAAE,MAAA,EAAQ,kBAAO,EAAA;AAAA,SACnD,EAAA,CAAA;AAAA,QACA,aAAc,CAAA;AAAA,OAEhB,GAAA;AAAA;AAAA,GACN;AAEJ,CAAC,CAAA;ACjFM,SAAS,KAAM,CAAA,EAAE,IAAM,EAAA,YAAA,EAAc,UAAmB,EAAA;AAI7D,EAAAE,UAAU,MAAM;AACd,IAAA,SAAS,UAAU,KAAsB,EAAA;AACvC,MAAA,IAAI,MAAM,gBAAkB,EAAA;AAE5B,MAAI,IAAA,KAAA,CAAM,GAAQ,KAAA,QAAA,IAAY,IAAM,EAAA;AAClC,QAAA,KAAA,CAAM,cAAe,EAAA;AACrB,QAAA,YAAA,GAAe,KAAK,CAAA;AAAA;AACtB;AAGF,IAAO,MAAA,CAAA,gBAAA,CAAiB,WAAW,SAAS,CAAA;AAC5C,IAAA,OAAO,MAAM;AACX,MAAO,MAAA,CAAA,mBAAA,CAAoB,WAAW,SAAS,CAAA;AAAA,KACjD;AAAA,GACC,EAAA,CAAC,YAAc,EAAA,IAAI,CAAC,CAAA;AAEvB,EAAA,uBACEF,GAAAA,CAACG,IAAW,EAAA,EAAA,IAAA,EAAY,YAEtB,EAAA,QAAA,kBAAAH,GAAC,CAAA,YAAA,EAAA,EACC,QAAAI,kBAAAA,IAAAA,CAAC,MAAO,EAAA,EAAA,IAAA,EAAK,OAKX,EAAA,QAAA,EAAA;AAAA,oBAAAJ,IAAC,KAAI,EAAA,EAAA,SAAA,EAAW,QAAQ,eAAiB,EAAA,mBAAA,EAAqB,yCAAyC,CAAG,EAAA,CAAA;AAAA,oBAC1GA,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAW,EAAA,OAAA;AAAA,UACT,eAAA;AAAA,UACA,gCAAA;AAAA,UACA;AAAA,SACF;AAAA,QAEA,0BAAAA,GAAC,CAAA,KAAA,EAAA,EACC,0BAAAI,IAAC,CAAA,aAAA,EAAA,EAAc,WAAU,2CACvB,EAAA,QAAA,EAAA;AAAA,0BAAAJ,GAAC,CAAA,WAAA,EAAA,EAAY,SAAU,EAAA,SAAA,EAAU,QAAQ,EAAA,UAAA,EAAA,CAAA;AAAA,0BACzCA,GAAAA,CAAC,iBAAkB,EAAA,EAAA,SAAA,EAAU,WAAU,QAAmB,EAAA,qBAAA,EAAA,CAAA;AAAA,UAEzD;AAAA,SAAA,EACH,CACF,EAAA;AAAA;AAAA;AACF,GAAA,EACF,GACF,CACF,EAAA,CAAA;AAEJ;AC/DA,IAAM,QAAQ,WAAY,CAAA,OAAO,EAAE,IAAA,EAAM,OAAQ,CAAA,CAAA;AAS1C,SAAS,eAAyC,GAAA;AACvD,EAAA,MAAM,mBAAmB,QAAS,CAAA,KAAA,EAAO,CAAC,KAAA,KAAU,MAAM,IAAI,CAAA;AAE9D,EAAM,MAAA,gBAAA,GAAmB,YAAY,MAAM;AACzC,IAAA,KAAA,CAAM,QAAS,CAAA,EAAE,IAAM,EAAA,IAAA,EAAM,CAAA;AAAA,GAC/B,EAAG,EAAE,CAAA;AAEL,EAAM,MAAA,iBAAA,GAAoB,YAAY,MAAM;AAC1C,IAAA,KAAA,CAAM,QAAS,CAAA,EAAE,IAAM,EAAA,KAAA,EAAO,CAAA;AAAA,GAChC,EAAG,EAAE,CAAA;AAEL,EAAM,MAAA,kBAAA,GAAqB,WAAY,CAAA,CAAC,IAAkB,KAAA;AACxD,IAAM,KAAA,CAAA,QAAA,CAAS,EAAE,IAAA,EAAY,CAAA;AAAA,GAC/B,EAAG,EAAE,CAAA;AAEL,EAAO,OAAA,OAAA;AAAA,IACL,OAAO;AAAA,MACL,gBAAA;AAAA,MACA,gBAAA;AAAA,MACA,iBAAA;AAAA,MACA;AAAA,KACF,CAAA;AAAA,IACA,CAAC,gBAAA,EAAkB,gBAAkB,EAAA,iBAAA,EAAmB,kBAAkB;AAAA,GAC5E;AACF;AChCO,SAAS,WAAY,CAAA,EAAE,SAAW,EAAA,GAAG,OAAgB,EAAA;AAC1D,EAAA,uBACEI,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAWC,OAAQ,CAAA,kDAAA,EAAoD,SAAS,CAAA;AAAA,MAChF,KAAM,EAAA,4BAAA;AAAA,MACN,IAAK,EAAA,MAAA;AAAA,MACL,OAAQ,EAAA,WAAA;AAAA,MACP,GAAG,KAAA;AAAA,MAEJ,QAAA,EAAA;AAAA,wBAAAL,GAAC,CAAA,QAAA,EAAA,EAAO,SAAU,EAAA,YAAA,EAAa,EAAG,EAAA,IAAA,EAAK,EAAG,EAAA,IAAA,EAAK,CAAE,EAAA,IAAA,EAAK,MAAO,EAAA,cAAA,EAAe,aAAY,GAAI,EAAA,CAAA;AAAA,wBAC5FA,GAAAA;AAAA,UAAC,MAAA;AAAA,UAAA;AAAA,YACC,SAAU,EAAA,YAAA;AAAA,YACV,IAAK,EAAA,cAAA;AAAA,YACL,CAAE,EAAA;AAAA;AAAA;AACJ;AAAA;AAAA,GACF;AAEJ;ACTA,IAAM,kBAAkB,CAAC,EAAE,UAAU,WAAY,EAAA,GAA4B,EAC3EK,KAAAA,OAAAA;AAAA,EACE,gFAAA;AAAA,EACA,uDAAA;AAAA,EACA,yBAAA;AAAA,EACA,iEAAA;AAAA;AAAA,EAEA,0BAAA;AAAA,EACA,uBAAA;AAAA,EACA;AAAA,IACE,OAAA,EAASA,QAAQ,kDAAkD,CAAA;AAAA,IACnE,SAAA,EAAWA,QAAQ,mDAAmD,CAAA;AAAA,IACtE,QAAA,EAAUA,QAAQ,mDAAmD;AAAA,IACrE,OAAO;AACX,CAAA;AASK,IAAM,MAAA,GAAS,CAAC,EAAE,OAAS,EAAA,OAAA,EAAS,IAAM,EAAA,SAAA,EAAW,QAAU,EAAA,QAAA,EAAU,GAAG,KAAA,EAAmB,KAAA;AACpG,EAAA,uBACEL,GAAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,MAAM,IAAQ,IAAA,QAAA;AAAA,MACd,SAAA,EAAWK,QAAQ,eAAgB,CAAA,EAAE,OAAiB,CAAC,GAAG,SAAS,CAAA;AAAA,MACnE,WAAW,EAAA,OAAA;AAAA,MACX,eAAe,EAAA,QAAA;AAAA,MACf,UAAU,QAAY,IAAA,OAAA;AAAA,MACrB,GAAG,KAAA;AAAA,MAEJ,QAAAD,kBAAAA,IAAAA,CAAC,MAAK,EAAA,EAAA,SAAA,EAAU,qCACd,EAAA,QAAA,EAAA;AAAA,wBAAAJ,GAAC,CAAA,MAAA,EAAA,EAAK,SAAU,EAAA,4CAAA,EACd,QAAAA,kBAAAA,GAAAA,CAAC,MAAK,EAAA,EAAA,SAAA,EAAU,6JACd,EAAA,QAAA,kBAAAA,GAAC,CAAA,WAAA,EAAA,EAAY,GACf,CACF,EAAA,CAAA;AAAA,wBACAA,GAAC,CAAA,MAAA,EAAA,EAAM,QAAS,EAAA;AAAA,OAClB,EAAA;AAAA;AAAA,GACF;AAEJ,CAAA;ACnDO,SAAS,IAAK,CAAA,EAAE,SAAW,EAAA,GAAG,OAAgB,EAAA;AACnD,EAAA,uBACEI,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,KAAM,EAAA,4BAAA;AAAA,MACN,OAAQ,EAAA,SAAA;AAAA,MACR,IAAK,EAAA,cAAA;AAAA,MACL,cAAe,EAAA,YAAA;AAAA,MACf,SAAA,EAAWC,OAAQ,CAAA,qCAAA,EAAuC,SAAS,CAAA;AAAA,MAClE,GAAG,KAAA;AAAA,MAGJ,QAAA,EAAA;AAAA,wBAAAL,GAAAA,CAAC,MAAK,EAAA,EAAA,CAAA,EAAE,mNAAoN,EAAA,CAAA;AAAA,wBAC5NA,GAAAA;AAAA,UAAC,MAAA;AAAA,UAAA;AAAA,YACC,CAAE,EAAA,sIAAA;AAAA,YACF,OAAQ,EAAA;AAAA;AAAA,SACV;AAAA,wBACAA,GAAAA,CAAC,MAAK,EAAA,EAAA,CAAA,EAAE,qGAAsG,EAAA;AAAA;AAAA;AAAA,GAChH;AAEJ;ACtBO,SAAS,gBAAgB,GAAyB,EAAA;AACvD,EAAA,OAAO,QAAS,CAAA;AAAA,IACd,OAAA,EAAS,CAAC,CAAC,GAAA;AAAA,IACX,KAAO,EAAA,KAAA;AAAA,IACP,YAAc,EAAA,KAAA;AAAA,IACd,cAAgB,EAAA,KAAA;AAAA,IAChB,oBAAsB,EAAA,KAAA;AAAA,IACtB,QAAA,EAAU,CAAC,cAAA,EAAgB,GAAG,CAAA;AAAA,IAC9B,SAAS,MACP,IAAI,OAAoC,CAAA,CAAC,SAAS,MAAW,KAAA;AAC3D,MAAA,IAAI,CAAC,GAAA,EAAW,MAAA,IAAI,MAAM,uDAAuD,CAAA;AACjF,MAAM,MAAA,KAAA,GAAQ,IAAI,KAAM,EAAA;AACxB,MAAM,KAAA,CAAA,MAAA,GAAS,MAAM,OAAA,CAAQ,KAAK,CAAA;AAClC,MAAA,KAAA,CAAM,OAAU,GAAA,MAAM,MAAO,CAAA,IAAI,KAAM,CAAA,CAAA;;AAAA,MAAoD,EAAA,GAAG,EAAE,CAAC,CAAA;AACjG,MAAA,KAAA,CAAM,GAAM,GAAA,GAAA;AAAA,KACb;AAAA,GACJ,CAAA;AACH;ACfO,SAAS,OAAU,GAAA;AACxB,EAAA,MAAM,EAAE,OAAA,EAAS,OAAQ,EAAA,GAAI,iBAAkB,EAAA;AAC/C,EAAA,MAAM,EAAE,IAAM,EAAA,UAAA,EAAY,WAAW,cAAe,EAAA,GAAI,gBAAgB,OAAO,CAAA;AAE/E,EAAA,uBACEI,IAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,2DACb,EAAA,QAAA,EAAA;AAAA,oBAAAJ,GAAC,CAAA,KAAA,EAAA,EAAI,SAAU,EAAA,eAAA,EACZ,QAAC,EAAA,CAAA,cAAA,GACA,UACE,mBAAAA,GAAC,CAAA,KAAA,EAAA,EAAI,GAAK,EAAA,OAAA,EAAS,WAAU,4BAA6B,EAAA,CAAA;AAAA;AAAA,sBAG1DA,GAAAA,CAAC,IAAK,EAAA,EAAA,SAAA,EAAU,8CAA+C,EAAA;AAAA,KAAA,GAE/D,IACN,EAAA,CAAA;AAAA,oBACAA,GAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,mCAAmC,QAAQ,EAAA,OAAA,EAAA;AAAA,GAC5D,EAAA,CAAA;AAEJ;ACdO,SAAS,aAAgB,GAAA;AAC9B,EAAA,MAAM,aAAa,aAAc,EAAA;AACjC,EAAM,MAAA,KAAA,GAAQ,UAAW,CAAA,IAAA,CAAK,kBAAkB,CAAA;AAIhD,EAAA,uBACEI,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAWC,OAAQ,CAAA,yBAAA,EAA2B,gEAAgE,CAAA;AAAA,MAE9G,QAAA,EAAA;AAAA,wBAAAL,IAAC,KAAI,EAAA,EAAA,SAAA,EAAU,OAEb,QAAAA,kBAAAA,GAAAA,CAAC,WAAQ,CACX,EAAA,CAAA;AAAA,wBACAA,GAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,wCACZ,QAAQ,EAAA,KAAA,mBAAAA,GAAC,CAAA,aAAA,EAAA,EAAc,WAAW,KAAO,EAAA,CAAA,mBAAKA,GAAAA,CAAC,gBAAa,CAC/D,EAAA;AAAA;AAAA;AAAA,GACF;AAEJ;AAEA,SAAS,aAAA,CAAc,EAAE,SAAA,EAA8C,EAAA;AACrE,EAAM,MAAA,EAAE,OAAQ,EAAA,GAAI,QAAS,EAAA;AAC7B,EAAA,MAAM,EAAE,OAAS,EAAA,SAAA,EAAW,KAAAM,EAAAA,MAAAA,KAAU,UAAW,EAAA;AACjD,EAAM,MAAA,EAAE,OAAQ,EAAA,GAAI,iBAAkB,EAAA;AAEtC,EAAA,IAAIA,MAAO,EAAA;AACT,IAAQ,OAAA,CAAA,KAAA,CAAM,iBAAiBA,MAAK,CAAA;AAAA;AAGtC,EACE,uBAAAF,KAAA,QACE,EAAA,EAAA,QAAA,EAAA;AAAA,oBAAAJ,GAAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QAEC,OAAQ,EAAA,WAAA;AAAA,QACR,SAAU,EAAA,+BAAA;AAAA,QACV,OAAS,EAAA,SAAA;AAAA,QACT,OAAA,EAAS,MACP,OAAQ,CAAA;AAAA,UACN,SAAA;AAAA;AAAA;AAAA;AAAA,UAIA,OAAA;AAAA,UACA,cAAc;AAAC,SAChB,CAAA;AAAA,QAEH,SAAS,EAAA,IAAA;AAAA,QACV,QAAA,EAAA;AAAA,OAAA;AAAA,MAfK;AAAA,KAiBN;AAAA,oBACAA,GAAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAU,EAAA,sEAAA;AAAA,QACV,OAAA,EAAS,MAAM,OAAA,CAAQ,IAAI,CAAA;AAAA,QAC5B,QAAA,EAAA;AAAA;AAAA;AAED,GACF,EAAA,CAAA;AAEJ;AAEA,SAAS,YAAe,GAAA;AACtB,EAAA,MAAM,EAAE,IAAA,EAAM,OAAQ,EAAA,GAAI,QAAS,EAAA;AACnC,EAAM,MAAA,gBAAA,GAAmBO,OAAO,KAAK,CAAA;AAErC,EAAAL,UAAU,MAAM;AACd,IAAA,IAAI,CAAC,IAAA,IAAQ,CAAC,gBAAA,CAAiB,OAAS,EAAA;AACtC,MAAA,OAAA,CAAQ,IAAI,CAAA;AACZ,MAAA,gBAAA,CAAiB,OAAU,GAAA,IAAA;AAAA;AAC7B,GACC,EAAA,CAAC,IAAM,EAAA,OAAO,CAAC,CAAA;AAElB,EACE,uBAAAF,GAAA,CAAA,QAAA,EAAA,EACE,QAAAA,kBAAAA,GAAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MAEC,OAAQ,EAAA,WAAA;AAAA,MACR,SAAU,EAAA,+BAAA;AAAA,MACV,OAAA,EAAS,MAAM,OAAA,CAAQ,IAAI,CAAA;AAAA,MAC3B,SAAS,EAAA,IAAA;AAAA,MACV,QAAA,EAAA;AAAA,KAAA;AAAA,IALK;AAAA,GAQR,EAAA,CAAA;AAEJ;ACzFO,IAAM,eAAe,QAAS,CAAA;AAAA;AAAA,EAEnC,kFAAA;AAAA,EACA,oFAAA;AAAA,EACA,+DAAA;AAAA,EACA,yDAAA;AAAA,EACA,4DAAA;AAAA;AAAA,EAEA,yEAAA;AAAA,EACA,uEAAA;AAAA,EACA,0EAAA;AAAA,EACA,kEAAA;AAAA;AAAA,EAEA,wFAAA;AAAA,EACA,wCAAA;AAAA,EACA,iDAAA;AAAA;AAAA,EAEA,sEAAA;AAAA,EACA,oDAAA;AAAA,EACA,2CAAA;AAAA;AAAA,EAEA,8HAAA;AAAA,EACA;AACF,CAAC,CAAA;AAEM,IAAM,kBAAkB,WAAY,CAAA;AAAA,EACzC,UAAY,EAAA;AAAA,IACV,IAAM,EAAA;AAAA,MACJ,SAAW,EAAA,EAAA;AAAA,MACX,MAAQ,EAAA;AAAA;AAAA,QAEN,OAAS,EAAA;AAAA,UACP,MAAQ,EAAA;AAAA,YACN,IAAM,EAAA,SAAA;AAAA,YACN,OAAS,EAAA;AAAA,WACX;AAAA,UACA,GAAA,EAAK,CAAC,MAAM;AAAA,SACd;AAAA;AAAA;AAAA,QAGA,SAAW,EAAA;AAAA,UACT,IAAM,EAAA,aAAA;AAAA,UACN,MAAQ,EAAA;AAAA,YACN,IAAM,EAAA,SAAA;AAAA,YACN,OAAS,EAAA,SAAA;AAAA,YACT,SAAW,EAAA,SAAA;AAAA,YACX,IAAM,EAAA,SAAA;AAAA,YACN,QAAU,EAAA;AAAA,WACZ;AAAA,UACA,GAAA,EAAK,CAAC,MAAA,EAAQ,SAAS;AAAA,SACzB;AAAA,QACA,aAAe,EAAA;AAAA,UACb,MAAQ,EAAA;AAAA,YACN,IAAM,EAAA,SAAA;AAAA,YACN,KAAO,EAAA,SAAA;AAAA,YACP,MAAQ,EAAA;AAAA,WACV;AAAA,UACA,GAAA,EAAK,CAAC,MAAM;AAAA,SACd;AAAA,QACA,OAAS,EAAA;AAAA,UACP,MAAQ,EAAA;AAAA,YACN,OAAS,EAAA,SAAA;AAAA,YACT,IAAM,EAAA;AAAA,WACR;AAAA,UACA,GAAA,EAAK,CAAC,SAAS;AAAA,SACjB;AAAA,QACA,YAAc,EAAA;AAAA,UACZ,MAAQ,EAAA;AAAA,YACN,UAAY,EAAA;AAAA,WACd;AAAA,UACA,KAAK;AAAC;AACR;AACF;AACF;AAEJ,CAAC,CAAA;AAEM,IAAM,eAAA,GAAkB,eAAgB,CAAA,UAAA,CAAW,IAAK,CAAA,MAAA;;;ACjExD,SAAS,YAAA,CACd,OACA,iBACuB,EAAA;AACvB,EAAM,MAAA,SAAA,GAAY,KAAM,CAAA,SAAA,IAAa,EAAC;AAEtC,EAAA,IAAI,iBAAmB,EAAA;AACrB,IAAO,OAAA;AAAA,MACL,IAAM,EAAA,QAAA;AAAA,MACN,eAAiB,EAAA;AAAA,KACnB;AAAA;AAGF,EAAA,IAAI,iBAAqB,IAAA,SAAA,IAAa,SAAU,CAAA,eAAA,IAAmB,IAAM,EAAA;AACvE,IAAI,IAAA,SAAA,IAAa,UAAU,eAAiB,EAAA;AAC1C,MAAO,OAAA;AAAA,QACL,IAAM,EAAA,QAAA;AAAA,QACN,OAAA,EAAS,UAAU,eAAgB,CAAA,OAAA;AAAA,QACnC,YAAY,CAAC,CAAC,MAAM,OAAQ,CAAA,aAAA,EAAe,OAAO,CAAC;AAAA,OACrD;AAAA;AACF;AAGF,EAAA,IAAI,WAAe,IAAA,SAAA,IAAa,SAAU,CAAA,SAAA,IAAa,IAAM,EAAA;AAC3D,IAAI,IAAA,SAAA,IAAa,UAAU,SAAW,EAAA;AACpC,MAAO,OAAA;AAAA,QACL,IAAM,EAAA,QAAA;AAAA,QACN,OAAA,EAAS,UAAU,SAAU,CAAA;AAAA,OAC/B;AAAA;AACF;AAEJ;;;ACrCA,eAAsB,UAAW,CAAA,EAAE,MAAQ,EAAA,WAAA,EAAa,gBAAoC,EAAA;AAC1F,EAAA,MAAM,SAAY,GAAA,YAAA,CAAa,MAAO,CAAA,KAAA,EAAO,MAAS,CAAA;AACtD,EAAI,IAAA,SAAA,EAAW,IAAS,KAAA,QAAA,EAAiB,OAAA,IAAA;AAEzC,EAAM,MAAA,MAAA,GAAS,MAAM,SAAA,CAAU,MAAQ,EAAA;AAAA,IACrC,SAAS,SAAU,CAAA,OAAA;AAAA,IACnB,OAAO,eAAgB,CAAA,OAAA;AAAA,IACvB,GAAA,EAAK,EAAE,OAAA,EAAS,cAAe,EAAA;AAAA,IAC/B,QAAU,EAAA;AAAA,GACX,CAAA;AACD,EAAA,OAAO,MAAO,CAAA,IAAA,CAAK,WAAY,EAAA,KAAM,YAAY,WAAY,EAAA;AAC/D;;;AChBO,SAAS,sBAAuB,CAAA;AAAA,EACrC,MAAA;AAAA,EACA,WAAA;AAAA,EACA;AACF,CAIG,EAAA;AACD,EAAA,OAAO,YAAa,CAAA;AAAA,IAClB,UAAU,CAAC,YAAA,EAAc,MAAQ,EAAA,GAAA,EAAK,aAAa,cAAc,CAAA;AAAA,IACjE,OAAA,EACE,MAAU,IAAA,WAAA,IAAe,cAAiB,GAAA,MAAM,UAAW,CAAA,EAAE,MAAQ,EAAA,WAAA,EAAa,cAAe,EAAC,CAAI,GAAA;AAAA,GACzG,CAAA;AACH;ACJO,IAAM,mBAAsB,GAAA;AAAA,EACjC,eAAiB,EAAA;AACnB,CAAA;AAGO,IAAM,4BAAA,GAA+B,cAAc,EAAE,IAAA,EAAM,UAAU,SAAW,EAAA,EAAA,EAAI,IAAM,EAAA,WAAA,EAAa,CAAA;AAEvG,IAAM,WAAA,GAAc,WAAY,CAAA,UAAA,CAAW,KAAM,CAAA,MAAA;AAEjD,IAAM,WAAWQ,QAAS,CAAA;AAAA,EAC/B;AACF,CAAC,CAAA;;;ACdD,eAAsB,aAAc,CAAA;AAAA,EAClC,MAAA;AAAA,EACA,YAAA;AAAA,EACA,WAAA;AAAA,EACA,cAAA;AAAA;AAAA,EAEA,QAAW,GAAA;AACb,CAAwB,EAAA;AACtB,EAAM,MAAA,MAAA,GAAS,MAAMC,SAAAA,CAAU,MAAQ,EAAA;AAAA,IACrC,OAAS,EAAA,YAAA;AAAA,IACT,OAAO,WAAY,CAAA,qBAAA;AAAA,IACnB,GAAK,EAAA,EAAE,SAAW,EAAA,WAAA,EAAa,WAAW,cAAe,EAAA;AAAA,IACzD;AAAA,GACD,CAAA;AACD,EAAA,OAAO,OAAO,mBAAwB,KAAA,4BAAA;AACxC;;;ACtBO,SAAS,yBAA0B,CAAA;AAAA,EACxC,MAAA;AAAA,EACA,YAAA;AAAA,EACA,WAAA;AAAA,EACA;AACF,CAKG,EAAA;AACD,EAAA,OAAOC,YAAa,CAAA;AAAA,IAClB,UAAU,CAAC,eAAA,EAAiB,QAAQ,GAAK,EAAA,YAAA,EAAc,aAAa,cAAc,CAAA;AAAA,IAClF,OACE,EAAA,MAAA,IAAU,WAAe,IAAA,cAAA,GACrB,MAAM,aAAA,CAAc,EAAE,MAAA,EAAQ,YAAc,EAAA,WAAA,EAAa,cAAe,EAAC,CACzEC,GAAAA;AAAA,GACP,CAAA;AACH;ACdO,IAAMC,MAAQC,GAAAA,WAAAA;AAAA,EACnB,OAAA;AAAA,IACE,OAAO;AAAA,MACL,SAAS;AAAC,KACZ,CAAA;AAAA,IACA;AAAA,MACE,IAAM,EAAA,cAAA;AAAA,MACN,YAAY,CAAC,EAAE,OAAQ,EAAA,MAAO,EAAE,OAAQ,EAAA;AAAA;AAC1C;AAEJ,CAAA;AAGA,SAAS,SAAS,KAAqB,EAAA;AACrC,EAAA,IAAI,MAAM,GAAQD,KAAAA,MAAAA,CAAM,OAAQ,CAAA,UAAA,GAAa,IAAM,EAAA;AACjD,IAAAA,MAAAA,CAAM,QAAQ,SAAU,EAAA;AAAA;AAE5B;AAEA,IAAI,OAAO,WAAW,WAAa,EAAA;AACjC,EAAO,MAAA,CAAA,gBAAA,CAAiB,WAAW,QAAQ,CAAA;AAC7C;AC3BO,SAAS,iBAAiB,WAAsB,EAAA;AACrD,EAAM,MAAA,KAAA,GAAQ,YAAY,WAAY,EAAA;AACtC,EAAA,MAAM,0BACJA,MAAM,CAAA,QAAA,GAAW,OAAQ,CAAA,KAAK,MAC7B,MAAM;AAEL,IAAM,MAAA,oBAAA,GAAuB,YAC1B,CAAA,OAAA,CAAQ,CAA4B,yBAAA,EAAA,WAAA,CAAY,WAAY,EAAC,CAAE,CAAA,CAAA,EAC9D,OAAQ,CAAA,UAAA,EAAY,IAAI,CAAA;AAC5B,IAAA,MAAM,UAAa,GAAA,KAAA,CAAM,oBAAoB,CAAA,GAAI,uBAAuB,kBAAmB,EAAA;AAC3F,IAAAA,MAAAA,CAAM,QAAS,CAAA,CAAC,KAAW,MAAA;AAAA,MACzB,OAAS,EAAA;AAAA,QACP,GAAG,KAAM,CAAA,OAAA;AAAA,QACT,CAAC,KAAK,GAAG;AAAA;AACX,KACA,CAAA,CAAA;AACF,IAAO,OAAA,UAAA;AAAA,GACN,GAAA;AAEL,EAAA,OAAOE,oBAAoB,uBAAuB,CAAA;AACpD;;;ACdA,eAAsB,iBAAuC,CAAA;AAAA,EAC3D,MAAA;AAAA,EACA;AACF,CAGyC,EAAA;AACvC,EAAM,MAAA,MAAA,GAAS,iBAAiB,WAAW,CAAA;AAC3C,EAAA,MAAM,UAAU,MAAM,oBAAA,CAAqB,EAAE,MAAQ,EAAA,KAAA,EAAO,QAAQ,CAAA;AACpE,EAAO,OAAA,EAAE,SAAS,MAAO,EAAA;AAC3B;;;ACdO,SAAS,6BAA8B,CAAA;AAAA,EAC5C,MAAA;AAAA,EACA;AACF,CAG6D,EAAA;AAC3D,EAAA,OAAOJ,YAA0C,CAAA;AAAA,IAC/C,QAAU,EAAA,CAAC,mBAAqB,EAAA,MAAA,EAAQ,KAAK,WAAW,CAAA;AAAA,IACxD,OAAA,EAAS,UAAU,WAAc,GAAA,MAAM,kBAAkB,EAAE,MAAA,EAAQ,WAAY,EAAC,CAAIC,GAAAA,SAAAA;AAAA,IACpF,SAAW,EAAA,QAAA;AAAA;AAAA,IAEX,KAAO,EAAA;AAAA,GACR,CAAA;AACH;ACTA,eAAsB,YAAa,CAAA,EAAE,MAAQ,EAAA,WAAA,EAA2D,EAAA;AACtG,EAAA,MAAM,SAAY,GAAA,YAAA,CAAa,MAAO,CAAA,KAAA,EAAO,MAAS,CAAA;AACtD,EAAI,IAAA,SAAA,EAAW,IAAS,KAAA,QAAA,EAAiB,OAAA,IAAA;AAEzC,EAAA,OAAO,MAAMI,SAAAA;AAAA,IACX,MAAA;AAAA,IACA,YAAA;AAAA,IACA;AAAA,GACA,CAAA;AAAA,IACA,SAAS,SAAU,CAAA,OAAA;AAAA,IACnB,GAAK,EAAA,YAAA;AAAA,IACL,YAAc,EAAA,cAAA;AAAA,IACd,IAAA,EAAM,CAAC,WAAW;AAAA,GACnB,CAAA;AACH;;;ACnBO,SAAS,wBAAyB,CAAA;AAAA,EACvC,MAAA;AAAA,EACA;AACF,CAGG,EAAA;AACD,EAAA,OAAOL,YAAa,CAAA;AAAA,IAClB,QAAU,EAAA,CAAC,cAAgB,EAAA,MAAA,EAAQ,KAAK,WAAW,CAAA;AAAA,IACnD,OAAA,EAAS,UAAU,WAAc,GAAA,MAAM,aAAa,EAAE,MAAA,EAAQ,WAAY,EAAC,CAAIC,GAAAA;AAAA,GAChF,CAAA;AACH;AAEO,SAAS,aAAa,WAAkC,EAAA;AAC7D,EAAM,MAAA,EAAE,OAAQ,EAAA,GAAI,iBAAkB,EAAA;AACtC,EAAA,MAAM,MAASK,GAAAA,SAAAA,CAAU,EAAE,OAAA,EAAS,CAAA;AACpC,EAAA,OAAOC,SAAS,wBAAyB,CAAA,EAAE,MAAQ,EAAA,WAAA,EAAa,CAAC,CAAA;AACnE;ACbA,eAAsB,UAAW,CAAA,EAAE,MAAQ,EAAA,WAAA,EAAiC,EAAA;AAC1E,EAAA,MAAM,SAAY,GAAA,YAAA,CAAa,MAAO,CAAA,KAAA,EAAO,MAAS,CAAA;AACtD,EAAI,IAAA,SAAA,EAAW,IAAS,KAAA,QAAA,EAAiB,OAAA,IAAA;AAEzC,EAAM,MAAA,MAAA,GAAS,MAAMR,SAAAA,CAAU,MAAQ,EAAA;AAAA,IACrC,SAAS,SAAU,CAAA,OAAA;AAAA,IACnB,OAAO,eAAgB,CAAA,OAAA;AAAA,IACvB,GAAA,EAAK,EAAE,IAAA,EAAM,WAAY,EAAA;AAAA,IACzB,QAAU,EAAA;AAAA,GACX,CAAA;AACD,EAAA,OAAO,MAAO,CAAA,OAAA;AAChB;;;ACfO,SAAS,sBAAuB,CAAA;AAAA,EACrC,MAAA;AAAA,EACA;AACF,CAGG,EAAA;AACD,EAAA,OAAOC,YAAa,CAAA;AAAA,IAClB,QAAU,EAAA,CAAC,YAAc,EAAA,MAAA,EAAQ,KAAK,WAAW,CAAA;AAAA,IACjD,OAAA,EAAS,UAAU,WAAc,GAAA,MAAM,WAAW,EAAE,MAAA,EAAQ,WAAY,EAAC,CAAIC,GAAAA;AAAA,GAC9E,CAAA;AACH;AAEO,SAAS,WAAW,WAAkC,EAAA;AAC3D,EAAM,MAAA,EAAE,OAAQ,EAAA,GAAI,iBAAkB,EAAA;AACtC,EAAA,MAAM,MAASK,GAAAA,SAAAA,CAAU,EAAE,OAAA,EAAS,CAAA;AACpC,EAAA,OAAOC,SAAS,sBAAuB,CAAA,EAAE,MAAQ,EAAA,WAAA,EAAa,CAAC,CAAA;AACjE;;;ACdO,SAAS,oBAAqB,CAAA;AAAA,EACnC,WAAA;AAAA,EACA,MAAA;AAAA,EACA,MAAA;AAAA,EACA;AACF,CAKG,EAAA;AACD,EAAA,OAAOP,YAAa,CAAA;AAAA,IAClB,QAAU,EAAA,CAAC,UAAY,EAAA,MAAA,EAAQ,KAAK,WAAW,CAAA;AAAA,IAC/C,SAAS,YAAY;AACnB,MAAA,IAAI,CAAC,MAAA,EAAc,MAAA,IAAI,MAAM,wBAAwB,CAAA;AACrD,MAAA,IAAI,CAAC,WAAA,EAAmB,MAAA,IAAI,MAAM,qBAAqB,CAAA;AAEvD,MAAM,MAAA;AAAA,QACJ,OAAA,EAAS,EAAE,OAAA,EAAS,cAAe;AAAA,OACrC,GAAI,MAAM,WAAY,CAAA,UAAA,CAAW,8BAA8B,EAAE,MAAA,EAAQ,WAAY,EAAC,CAAC,CAAA;AAEvF,MAAA,MAAM,CAAC,cAAgB,EAAA,kBAAA,EAAoB,gBAAgB,CAAI,GAAA,MAAM,QAAQ,GAAI,CAAA;AAAA,QAC/E,WAAY,CAAA,UAAA,CAAWQ,wBAAuB,CAAA,MAAA,EAAQ,EAAE,OAAA,EAAS,MAAO,CAAA,KAAA,CAAM,EAAI,EAAA,OAAA,EAAS,cAAe,EAAC,CAAC,CAAA;AAAA,QAC5G,YAAY,UAAW,CAAA,wBAAA,CAAyB,EAAE,MAAQ,EAAA,WAAA,EAAa,CAAC,CAAA;AAAA,QACxE,YAAY,UAAW,CAAA,sBAAA,CAA6B,EAAE,MAAQ,EAAA,WAAA,EAAa,CAAC;AAAA,OAC7E,CAAA;AAED,MAAO,OAAA;AAAA,QACL,cAAA,EAAgB,gBAAgB,KAAS,IAAA,IAAA;AAAA,QACzC,kBAAA;AAAA,QACA;AAAA,OACF;AAAA,KACF;AAAA,IACA,KAAO,EAAA;AAAA,GACR,CAAA;AACH;AAEO,SAAS,SAAS,WAAkC,EAAA;AACzD,EAAA,MAAM,cAAc,cAAe,EAAA;AACnC,EAAA,MAAM,SAAS,SAAU,EAAA;AACzB,EAAM,MAAA,EAAE,OAAQ,EAAA,GAAI,iBAAkB,EAAA;AACtC,EAAA,MAAM,MAASF,GAAAA,SAAAA,CAAU,EAAE,OAAA,EAAS,CAAA;AAEpC,EAAOC,OAAAA,QAAAA,CAAS,qBAAqB,EAAE,WAAA,EAAa,QAAQ,MAAQ,EAAA,WAAA,EAAa,CAAA,EAAG,WAAW,CAAA;AACjG;;;AC5CO,SAAS,0BAA2B,CAAA;AAAA,EACzC,WAAA;AAAA,EACA,MAAA;AAAA,EACA,MAAA;AAAA,EACA,WAAA;AAAA,EACA;AACF,CAMG,EAAA;AACD,EAAA,OAAOP,YAAa,CAAA;AAAA,IAClB,QAAU,EAAA,CAAC,kBAAoB,EAAA,MAAA,EAAQ,KAAK,WAAW,CAAA;AAAA,IACvD,SAAS,YAAY;AACnB,MAAA,IAAI,CAAC,MAAA,EAAc,MAAA,IAAI,MAAM,wBAAwB,CAAA;AACrD,MAAA,IAAI,CAAC,WAAA,EAAmB,MAAA,IAAI,MAAM,qBAAqB,CAAA;AAEvD,MAAM,MAAA;AAAA,QACJ,OAAA,EAAS,EAAE,OAAA,EAAS,cAAe;AAAA,OACrC,GAAI,MAAM,WAAY,CAAA,UAAA,CAAW,8BAA8B,EAAE,MAAA,EAAQ,WAAY,EAAC,CAAC,CAAA;AAEvF,MAAA,MAAM,CAAC,KAAO,EAAA,OAAA,EAAS,aAAa,CAAI,GAAA,MAAM,QAAQ,GAAI,CAAA;AAAA,QACxD,WAAA,CAAY,WAAW,oBAAqB,CAAA,EAAE,aAAa,MAAQ,EAAA,MAAA,EAAQ,WAAY,EAAC,CAAC,CAAA;AAAA,QACzF,WAAA,CAAY,WAAW,sBAAuB,CAAA,EAAE,QAAQ,WAAa,EAAA,cAAA,EAAgB,CAAC,CAAA;AAAA,QACtF,WAAA,CAAY,WAAW,yBAA0B,CAAA,EAAE,QAAQ,YAAc,EAAA,WAAA,EAAa,cAAe,EAAC,CAAC;AAAA,OACxG,CAAA;AAGD,MAAA,MAAM,YAAe,GAAA,KAAA,CAAM,kBAAsB,IAAA,IAAA,IAAQ,MAAM,kBAAqB,GAAA,EAAA;AACpF,MAAM,MAAA,SAAA,GAAY,OAAW,IAAA,IAAA,GAAO,IAAO,GAAA,OAAA;AAC3C,MAAA,MAAM,aAAgB,GAAA,KAAA,CAAM,cAAkB,IAAA,IAAA,IAAQ,MAAM,cAAiB,GAAA,EAAA;AAC7E,MAAA,MAAM,mBAAsB,GAAA,KAAA,CAAM,gBAAoB,IAAA,IAAA,IAAQ,MAAM,gBAAmB,GAAA,EAAA;AAEvF,MAAO,OAAA;AAAA,QACL,cAAA;AAAA,QACA,YAAA;AAAA,QACA,SAAA;AAAA,QACA,aAAA;AAAA,QACA,mBAAA;AAAA,QACA,aAAA;AAAA;AAAA,QAEA,UAAU,SAAa,IAAA;AAAA,OACzB;AAAA,KACF;AAAA,IACA,KAAO,EAAA;AAAA,GACR,CAAA;AACH;AAEO,SAAS,iBAAiB,WAAkC,EAAA;AACjE,EAAA,MAAM,cAAcS,cAAe,EAAA;AACnC,EAAA,MAAM,SAASC,SAAU,EAAA;AACzB,EAAA,MAAM,EAAE,OAAA,EAAS,YAAa,EAAA,GAAI,iBAAkB,EAAA;AACpD,EAAA,MAAM,MAASJ,GAAAA,SAAAA,CAAU,EAAE,OAAA,EAAS,CAAA;AAIpC,EAAA,MAAM,OAAUC,GAAAA,QAAAA;AAAA,IACd,0BAA2B,CAAA;AAAA,MACzB,WAAA;AAAA,MACA,MAAA;AAAA,MACA,MAAA;AAAA,MACA,WAAA;AAAA,MACA;AAAA,KACD,CAAA;AAAA,IACD;AAAA,GACF;AAEA,EAAO,OAAA,OAAA;AACT;AC5EO,SAAS,OAAO,OAA0B,EAAA;AAC/C,EAAM,MAAA,iBAAA,GAAoB,SAAS,WAAY,EAAA;AAC/C,EAAA,OAAOA,QAKJ,CAAA;AAAA,IACD,OAAA,EAAS,CAAC,CAAC,iBAAA;AAAA,IACX,QAAA,EAAU,CAAC,KAAA,EAAO,iBAAiB,CAAA;AAAA,IAEnC,SAAS,YAAY;AAEnB,MAAA,MAAM,IAAO,GAAA,MAAM,KAAM,CAAA,CAAA,qCAAA,EAAwC,iBAAiB,CAAA,CAAE,CAAE,CAAA,IAAA,CAAK,CAAC,GAAA,KAAQ,GAAI,CAAA,IAAA,EAAM,CAAA;AAC9G,MAAO,OAAA;AAAA,QACL,OAAA,EAAS,KAAK,OAAW,IAAA,MAAA;AAAA,QACzB,IAAA,EAAM,KAAK,IAAQ,IAAA,MAAA;AAAA,QACnB,WAAA,EAAa,KAAK,WAAe,IAAA,MAAA;AAAA,QACjC,MAAA,EAAQ,KAAK,MAAU,IAAA;AAAA,OACzB;AAAA;AACF,GACD,CAAA;AACH;ACnBO,SAAS,YAAA,CAAa,EAAE,GAAA,EAAc,EAAA;AAC3C,EAAI,IAAA,GAAA,CAAI,UAAU,EAAI,EAAA;AACpB,IAAA,uBAAOjB,GAAAA,CAAC,MAAK,EAAA,EAAA,KAAA,EAAO,KAAM,QAAI,EAAA,GAAA,EAAA,CAAA;AAAA;AAGhC,EAAA,uBACEI,IAAAA,CAAC,MAAK,EAAA,EAAA,KAAA,EAAO,GACX,EAAA,QAAA,EAAA;AAAA,oBAAAJ,GAAAA,CAAC,UAAK,SAAU,EAAA,4CAAA,EAAyC,cAAI,KAAM,CAAA,CAAA,EAAG,CAAC,CAAE,EAAA,CAAA;AAAA,oBACzEA,IAAC,MAAK,EAAA,EAAA,SAAA,EAAU,oCAAoC,QAAI,EAAA,GAAA,CAAA,KAAA,CAAM,CAAG,EAAA,EAAE,CAAE,EAAA,CAAA;AAAA,IACpE,GAAA,CAAI,MAAM,EAAE;AAAA,GACf,EAAA,CAAA;AAEJ;ACfO,IAAMY,MAAAA,GAAQC,YAQlB,OAAO;AAAA,EACR,MAAQ,EAAA,CAAA;AAAA,EACR,QAAQ;AACV,CAAE,CAAA,CAAA;AAEK,SAAS,QAAS,CAAA;AAAA,EACvB,KAAAP,EAAAA,MAAAA;AAAA,EACA,KAAA;AAAA,EACA;AACF,CAIG,EAAA;AAED,EAAI,IAAA,SAAA,CAAUA,QAAO,CAAC,EAAE,MAAW,KAAA,IAAA,KAAS,0BAA0B,CAAG,EAAA;AACvE,IAAA;AAAA;AAGF,EAAAM,MAAAA,CAAM,QAAS,CAAA,CAAC,KAAU,KAAA;AACxB,IAAI,IAAA,KAAA,CAAM,OAAO,IAAK,CAAA,CAAC,MAAM,CAAE,CAAA,KAAA,KAAUN,MAAK,CAAG,EAAA;AAC/C,MAAA,OAAO,EAAC;AAAA;AAGV,IAAM,MAAA,EAAA,GAAK,MAAM,MAAS,GAAA,CAAA;AAC1B,IAAO,OAAA;AAAA,MACL,MAAQ,EAAA,EAAA;AAAA,MACR,MAAQ,EAAA;AAAA,QACN,GAAG,KAAM,CAAA,MAAA;AAAA,QACT;AAAA,UACE,EAAA;AAAA,UACA,KAAAA,EAAAA,MAAAA;AAAA,UACA,OAAA,EAAS,UACL,MAAM;AACJ,YAAA,WAAA,CAAYA,MAAK,CAAA;AACjB,YAAQ,OAAA,EAAA;AAAA,WAEV,GAAA,MAAA;AAAA,UACJ,KAAA,EAAO,QACH,YAAY;AACV,YAAA,WAAA,CAAYA,MAAK,CAAA;AACjB,YAAA,MAAM,KAAM,EAAA;AAAA,WAEd,GAAA;AAAA;AACN;AACF,KACF;AAAA,GACD,CAAA;AAED,EAAA,OAAO,MAAM;AACX,IAAA,WAAA,CAAYA,MAAK,CAAA;AAAA,GACnB;AACF;AAEO,SAAS,YAAYA,MAAc,EAAA;AACxC,EAAAM,MAAAA,CAAM,QAAS,CAAA,CAAC,KAAW,MAAA;AAAA,IACzB,MAAA,EAAQ,MAAM,MAAO,CAAA,MAAA,CAAO,CAAC,CAAM,KAAA,CAAA,CAAE,UAAUN,MAAK;AAAA,GACpD,CAAA,CAAA;AACJ;ACjEO,SAAS,qBACd,MACQ,EAAA;AACR,EAAA,MAAM,EAAE,KAAA,EAAAA,MAAO,EAAA,KAAA,EAAU,GAAA,MAAA;AAEzB,EAAAJ,UAAU,MAAM;AACd,IAAA,IAAI,CAACI,MAAO,EAAA;AACZ,IAAA,OAAO,SAAS,EAAE,KAAA,EAAAA,MAAO,EAAA,OAAA,EAAS,OAAO,CAAA;AAAA,GACxC,EAAA,CAACA,MAAO,EAAA,KAAK,CAAC,CAAA;AAEjB,EAAO,OAAA,MAAA;AACT;ACFO,SAAS,MAAO,CAAA,EAAE,QAAU,EAAA,UAAA,EAAY,aAAsB,EAAA;AACnE,EAAA,MAAM,EAAE,IAAA,EAAM,GAAI,EAAA,GAAI,OAAO,WAAW,CAAA;AACxC,EAAA,MAAM,EAAE,UAAY,EAAA,SAAA,EAAW,qBAAwB,GAAA,oBAAA,CAAqB,eAAe,CAAA;AAC3F,EAAM,MAAA,EAAE,iBAAkB,EAAA,GAAI,eAAgB,EAAA;AAG9C,EAAA,uBACEF,IAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,qBACb,EAAA,QAAA,EAAA;AAAA,oBAAAA,IAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,4BACb,EAAA,QAAA,EAAA;AAAA,sBAAAA,KAAC,KACC,EAAA,EAAA,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,SAAI,QAAO,EAAA,SAAA,EAAA,CAAA;AAAA,wBACZA,GAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,sBAAwB,EAAA,QAAA,EAAA,GAAA,EAAK,IAAQ,oBAAAA,GAAC,CAAA,YAAA,EAAA,EAAa,GAAK,EAAA,WAAA,EAAa,CAAG,EAAA;AAAA,OACzF,EAAA,CAAA;AAAA,sBACAA,GAAAA;AAAA,QAAC,MAAA;AAAA,QAAA;AAAA,UACC,OAAA,EAAS,WAAW,SAAY,GAAA,UAAA;AAAA,UAChC,SAAU,EAAA,gCAAA;AAAA,UACV,SAAW,EAAA,QAAA;AAAA,UACX,OAAS,EAAA,mBAAA;AAAA,UACT,SAAS,MAAM;AACb,YAAkB,iBAAA,EAAA;AAClB,YAAW,UAAA,EAAA;AAAA,WACb;AAAA,UACD,QAAA,EAAA;AAAA;AAAA;AAED,KACF,EAAA,CAAA;AAAA,IACC,6BACCA,GAAAA,CAAC,OAAE,SAAU,EAAA,SAAA,EAAU,uFAAyE,CAC9F,GAAA;AAAA,GACN,EAAA,CAAA;AAEJ;;;AC1CO,SAAS,WACd,IAIA,EAAA;AACA,EAAO,OAAA,IAAA;AACT;ACSA,eAAsB,QAAsC,CAAA;AAAA,EAC1D,UAAA;AAAA,EACA,YAAA;AAAA,EACA,QAAA;AAAA,EACA,QAAA;AAAA,EACA,KAAO,EAAA,YAAA;AAAA,EACP;AACF,CAA2B,EAAA;AACzB,EAAA,MAAM,KACJ,GAAA,YAAA,KACC,MAEK,GAAA,CAAA,MAAMS,UAAU,MAAQ,EAAA;AAAA,IACtB,OAAS,EAAA,YAAA;AAAA,IACT,KAAA,EAAO,aAAa,MAAO,CAAA,uBAAA;AAAA,IAC3B,GAAK,EAAA,EAAE,MAAQ,EAAA,UAAA,CAAW,QAAQ,OAAQ,EAAA;AAAA,IAC1C,QAAU,EAAA;AAAA,GACX,GACD,KACF,GAAA,EAAA,CAAA;AAEN,EAAA,MAAM,EAAE,SAAW,EAAA,eAAA,EAAiB,MAAM,UAAW,EAAA,GAAI,cAAc,QAAQ,CAAA;AAE/E,EAAA,OAAO,MAAMM,SAAAA;AAAA,IACX,UAAA;AAAA,IACA,aAAA;AAAA,IACA;AAAA,GACA,CAAA;AAAA,IACA,SAAS,UAAW,CAAA,OAAA;AAAA,IACpB,MAAQ,EAAA;AAAA,MACN,iBAAmB,EAAA,YAAA;AAAA,MACnB,IAAA,EAAM,MAAM,UAAW,CAAA,KAAA,CAAM,IAAI,EAAE,IAAA,EAAM,IAAI;AAAA,KAC/C;AAAA,IACA,KAAO,EAAA,sBAAA;AAAA,IACP,WAAa,EAAA,MAAA;AAAA,IACb,OAAS,EAAA;AAAA,MACP,MAAA,EAAQ,WAAW,OAAQ,CAAA,OAAA;AAAA,MAC3B,eAAA;AAAA,MACA,UAAA;AAAA,MACA,QAAA;AAAA,MACA;AAAA;AACF,GACD,CAAA;AACH;AChDA,eAAsB,iBAA+C,CAAA;AAAA,EACnE,aAAA;AAAA,EACA,GAAG;AACL,CAAoC,EAAA;AAClC,EAAM,MAAA,YAAA,GAAe,MAAM,QAAA,CAAS,IAAI,CAAA;AAGxC,EAAA,MAAM,EAAE,OAAA,EAAS,SAAU,EAAA,GAAI,sBAAsB,YAAY,CAAA;AACjE,EAAA,IAAI,WAAW,IAAM,EAAA;AACnB,IAAA,MAAM,IAAI,KAAA;AAAA,MACR;AAAA,KACF;AAAA;AAGF,EAAOA,OAAAA,SAAAA;AAAA,IACL,aAAA;AAAA,IACAM,aAAA;AAAA,IACA;AAAA,GACA,CAAA;AAAA,IACA,SAAS,IAAK,CAAA,YAAA;AAAA,IACd,GAAK,EAAA,oBAAA;AAAA,IACL,YAAc,EAAA,mBAAA;AAAA,IACd,IAAA,EAAM,CAAC,IAAA,CAAK,UAAW,CAAA,OAAA,CAAQ,SAAS,IAAK,CAAA,QAAA,EAAU,IAAK,CAAA,QAAA,EAAU,SAAS;AAAA,GACvE,CAAA;AACZ;AC9BO,SAAS,iBACd,MACA,EAAA,OAAA,GAAmC,EAAE,eAAA,EAAiB,KACE,EAAA;AACxD,EAAA,IAAI,IAAuD,GAAA,IAAA;AAE3D,EAAA,eAAe,WAAc,GAAA;AAC3B,IAAO,IAAA,GAAA,MAAM,mBAAmB,MAAM,CAAA;AAAA;AAGxC,EAAY,WAAA,EAAA;AACZ,EAAY,WAAA,CAAA,WAAA,EAAa,QAAQ,eAAe,CAAA;AAEhD,EAAA,OAAO,YAAY;AACjB,IAAA,IAAI,MAAa,OAAA,IAAA;AACjB,IAAO,IAAA,GAAA,MAAM,mBAAmB,MAAM,CAAA;AACtC,IAAO,OAAA,IAAA;AAAA,GACT;AACF;;;ACdO,SAAS,oBAOd,MAC6D,EAAA;AAE7D,EAAA,MAAM,SAAS,MAAO,CAAA,MAAA;AACtB,EAAA,IAAI,CAAC,MAAA,EAAc,MAAA,IAAI,MAAM,gDAAgD,CAAA;AAE7E,EAAM,MAAA,KAAA,GAAQ,MAAO,CAAA,KAAA,IAAS,MAAO,CAAA,KAAA;AACrC,EAAA,MAAM,YAAY,KAAQ,GAAA,YAAA,CAAa,KAAO,EAAA,MAAA,CAAO,SAAS,CAAI,GAAA,MAAA;AAGlE,EAAA,OAAOC,qBAAyB,CAAA;AAAA,IAC9B,GAAG,mBAAA;AAAA,IACH,WAAW,SACP,GAAA,SAAA,CAAU,IAAS,KAAA,QAAA,GACjB,UAAU,eACV,GAAA;AAAA,MACE,kBAAkB,aAAa;AAAA,QAC7B,WAAW,SAAU,CAAA,OAAA;AAAA,QACrB,aAAe,EAAA;AAAA,OACjB;AAAA,KAEJ,GAAA,MAAA;AAAA,IACJ,aAAe,EAAA;AAAA,MACb,kBAAA,EAAoB,mBAAmB,MAAM;AAAA,KAC/C;AAAA,IACA,GAAG;AAAA,GACJ,CAAA;AACH;AAEA,SAAS,mBAAmB,MAAsF,EAAA;AAChH,EAAI,IAAA,CAAC,OAAO,KAAO,EAAA;AAMnB,EAAI,IAAA,MAAA,CAAO,KAAM,CAAA,EAAA,KAAO,KAAO,EAAA;AAC7B,IAAA,OAAO,aAAa,EAAE,YAAc,EAAA,OAAA,EAAU,sBAAsB,EAAG,EAAA,CAAA;AAAA;AAMzE,EAAI,IAAA,CAAC,KAAK,KAAO,EAAA,MAAM,EAAE,QAAS,CAAA,MAAA,CAAO,KAAM,CAAA,EAAE,CAAG,EAAA;AAClD,IAAA,OAAO,iBAAiB,MAAM,CAAA;AAAA;AAElC;AC5CO,SAAS,eAAgB,CAAA,EAAE,SAAW,EAAA,UAAA,EAAqE,EAAA;AAChH,EAAA,MAAM,cAAcH,cAAe,EAAA;AACnC,EAAA,MAAM,EAAE,OAAA,EAAS,YAAc,EAAA,iBAAA,KAAsB,iBAAkB,EAAA;AACvE,EAAA,MAAM,MAASH,GAAAA,SAAAA,CAAU,EAAE,OAAA,EAAS,CAAA;AAEpC,EAAM,MAAA,WAAA,GAAc,CAAC,cAAgB,EAAA,MAAA,EAAQ,MAAM,EAAI,EAAA,UAAA,CAAW,QAAQ,OAAO,CAAA;AACjF,EAAA,OAAO,WAAY,CAAA;AAAA,IACjB,KAAO,EAAA,CAAA;AAAA,IACP,WAAA;AAAA,IACA,YAAY,OAAO;AAAA,MACjB,aAAA;AAAA,MACA,eAAA;AAAA,MACA;AAAA,KAKmB,KAAA;AACnB,MAAA,IAAI,CAAC,MAAA,EAAc,MAAA,IAAI,MAAM,mBAAmB,CAAA;AAChD,MAAA,MAAM,SAAY,GAAA,YAAA,CAAa,MAAO,CAAA,KAAA,EAAO,iBAAiB,CAAA;AAC9D,MAAM,MAAA,cAAA,GAAiB,cAAc,OAAQ,CAAA,OAAA;AAE7C,MAAQ,OAAA,CAAA,GAAA,CAAI,sBAAsB,UAAU,CAAA;AAE5C,MAAIO,IAAAA,kBAAAA,CAAmB,SAAS,CAAG,EAAA;AAEjC,QAAA,MAAM,QAAQ,EAAC;AAEf,QAAI,IAAA,eAAA,IAAmB,SAAW,EAAA,IAAA,KAAS,QAAU,EAAA;AACnD,UAAA,OAAA,CAAQ,IAAI,qBAAqB,CAAA;AACjC,UAAM,KAAA,CAAA,IAAA;AAAA,YACJ,UAAW,CAAA;AAAA,cACT,IAAI,SAAU,CAAA,OAAA;AAAA,cACd,GAAK,EAAA,YAAA;AAAA,cACL,YAAc,EAAA,iBAAA;AAAA,cACd,IAAA,EAAM,CAAC,cAAc;AAAA,aACtB;AAAA,WACH;AAAA;AAGF,QAAA,IAAI,kBAAoB,EAAA;AACtB,UAAA,OAAA,CAAQ,IAAI,wBAAwB,CAAA;AACpC,UAAM,KAAA,CAAA,IAAA;AAAA,YACJ,UAAW,CAAA;AAAA,cACT,EAAI,EAAA,YAAA;AAAA,cACJ,GAAK,EAAA,QAAA;AAAA,cACL,YAAc,EAAA,oBAAA;AAAA,cACd,IAAM,EAAA,CAAC,cAAgB,EAAA,4BAAA,EAA8B,IAAI;AAAA,aAC1D;AAAA,WACH;AAAA;AAGF,QAAI,IAAA,CAAC,MAAM,MAAQ,EAAA;AAEnB,QAAA,OAAA,CAAQ,IAAI,yBAA2B,EAAA,KAAA,EAAO,UAAW,CAAA,OAAA,CAAQ,SAAS,cAAc,CAAA;AAExF,QAAM,MAAA,EAAE,EAAG,EAAA,GAAI,MAAMR,SAAAA;AAAA,UACnB,UAAA;AAAA,UACA,SAAA;AAAA,UACA;AAAA,SACA,CAAA;AAAA,UACA,SAAS,UAAW,CAAA,OAAA;AAAA,UACpB;AAAA,SACD,CAAA;AACD,QAAQ,OAAA,CAAA,GAAA,CAAI,qBAAqB,EAAE,CAAA;AAInC,QAAA,MAAM,gBAAgB,mBAAoB,CAAA;AAAA,UACxC,SAAA,EAAW,mBAAoB,CAAA,MAAA,CAAO,KAAK,CAAA;AAAA,UAC3C;AAAA,SACD,CAAA;AAED,QAAA,OAAA,CAAQ,IAAI,qBAAqB,CAAA;AACjC,QAAA,MAAM,UAAU,MAAMA,SAAAA;AAAA,UACpB,aAAA;AAAA,UACA,2BAAA;AAAA,UACA;AAAA,SACA,CAAA,EAAE,IAAM,EAAA,EAAA,EAAW,CAAA;AAErB,QAAQ,OAAA,CAAA,GAAA,CAAI,cAAc,OAAO,CAAA;AACjC,QAAQ,OAAA,CAAA,GAAA;AAAA,UACN,aAAA;AAAA,UACA,YAAA;AAAA,UACAS,cAAe,CAAA;AAAA,YACb,MAAM,OAAQ,CAAA,IAAA;AAAA,YACd,GAAK,EAAA;AAAA,cACH,GAAGC,eAAAA;AAAA;AAAA;AAAA,cAGH,GAAG,QAAA;AAAA,cACH,GAAG,cAAA;AAAA,cACH,GAAG,KAAM,CAAA,OAAA,CAAQ,CAAC,IAAA,KAAS,KAAK,GAAY;AAAA;AAC9C,WACD;AAAA,SACH;AAAA,OACS,MAAA,IAAA,UAAA,CAAW,OAAQ,CAAA,IAAA,KAAS,OAAS,EAAA;AAE9C,QAAA,MAAM,QAAQ,EAAC;AAEf,QAAI,IAAA,eAAA,IAAmB,SAAW,EAAA,IAAA,KAAS,QAAU,EAAA;AACnD,UAAA,OAAA,CAAQ,IAAI,qBAAqB,CAAA;AACjC,UAAM,KAAA,CAAA,IAAA;AAAA,YACJ,UAAW,CAAA;AAAA,cACT,IAAI,SAAU,CAAA,OAAA;AAAA,cACd,GAAK,EAAA,YAAA;AAAA,cACL,YAAc,EAAA,iBAAA;AAAA,cACd,IAAA,EAAM,CAAC,cAAc;AAAA,aACtB;AAAA,WACH;AAAA;AAGF,QAAA,IAAI,kBAAoB,EAAA;AACtB,UAAA,OAAA,CAAQ,IAAI,wBAAwB,CAAA;AACpC,UAAM,KAAA,CAAA,IAAA;AAAA,YACJ,UAAW,CAAA;AAAA,cACT,EAAI,EAAA,YAAA;AAAA,cACJ,GAAK,EAAA,QAAA;AAAA,cACL,YAAc,EAAA,oBAAA;AAAA,cACd,IAAM,EAAA,CAAC,cAAgB,EAAA,4BAAA,EAA8B,IAAI;AAAA,aAC1D;AAAA,WACH;AAAA;AAGF,QAAI,IAAA,CAAC,MAAM,MAAQ,EAAA;AAEnB,QAAQ,OAAA,CAAA,GAAA,CAAI,yBAA2B,EAAA,KAAA,EAAO,UAAU,CAAA;AACxD,QAAM,MAAA,IAAA,GAAO,MAAMV,SAAU,CAAA,UAAA,EAAYW,qBAAmB,mBAAmB,CAAA,CAAE,EAAE,KAAA,EAAO,CAAA;AAC1F,QAAQ,OAAA,CAAA,GAAA,CAAI,oBAAoB,IAAI,CAAA;AAEpC,QAAA,MAAM,UAAU,MAAMX,SAAAA;AAAA,UACpB,UAAA;AAAA,UACA,2BAAA;AAAA,UACA;AAAA,SACF,CAAE,EAAE,IAAA,EAAM,CAAA;AACV,QAAQ,OAAA,CAAA,GAAA,CAAI,uBAAuB,OAAO,CAAA;AAE1C,QAAI,IAAA,CAAC,QAAQ,OAAS,EAAA;AACpB,UAAQ,OAAA,CAAA,KAAA,CAAM,mBAAmB,OAAO,CAAA;AAAA;AAC1C,OACK,MAAA;AAEL,QAAA,MAAM,MAAa,EAAC;AAEpB,QAAI,IAAA,eAAA,IAAmB,SAAW,EAAA,IAAA,KAAS,QAAU,EAAA;AACnD,UAAA,OAAA,CAAQ,IAAI,qBAAqB,CAAA;AACjC,UAAM,MAAA,EAAA,GAAK,MAAM,iBAAkB,CAAA;AAAA,YACjC,MAAA;AAAA,YACA,UAAA;AAAA,YACA,aAAA;AAAA,YACA,cAAc,SAAU,CAAA,OAAA;AAAA,YACxB,QAAA,EAAUY,cAAc,EAAE,IAAA,EAAM,UAAU,SAAW,EAAA,EAAA,EAAI,IAAM,EAAA,eAAA,EAAiB,CAAA;AAAA,YAChF,UAAU,kBAAmB,CAAA;AAAA,cAC3B,GAAK,EAAA,YAAA;AAAA,cACL,YAAc,EAAA,iBAAA;AAAA,cACd,IAAA,EAAM,CAAC,cAAc;AAAA,aACtB;AAAA,WACF,CAAA;AACD,UAAQ,OAAA,CAAA,GAAA,CAAI,kBAAkB,EAAE,CAAA;AAChC,UAAA,GAAA,CAAI,KAAK,EAAE,CAAA;AAAA;AAGb,QAAA,IAAI,kBAAoB,EAAA;AACtB,UAAA,OAAA,CAAQ,IAAI,wBAAwB,CAAA;AACpC,UAAM,MAAA,EAAA,GAAK,MAAM,iBAAkB,CAAA;AAAA,YACjC,MAAA;AAAA,YACA,UAAA;AAAA,YACA,aAAA;AAAA,YACA,YAAA;AAAA,YACA,QAAA,EAAUC,aAAmB,CAAA,OAAA,CAAQ,kBAAmB,CAAA,QAAA;AAAA,YACxD,UAAU,kBAAmB,CAAA;AAAA,cAC3B,GAAK,EAAA,aAAA;AAAA,cACL,YAAc,EAAA,oBAAA;AAAA,cACd,IAAM,EAAA,CAAC,cAAgB,EAAA,4BAAA,EAA8B,IAAI;AAAA,aAC1D;AAAA,WACF,CAAA;AACD,UAAQ,OAAA,CAAA,GAAA,CAAI,qBAAqB,EAAE,CAAA;AACnC,UAAA,GAAA,CAAI,KAAK,EAAE,CAAA;AAAA;AAGb,QAAI,IAAA,CAAC,IAAI,MAAQ,EAAA;AAEjB,QAAA,OAAA,CAAQ,GAAI,CAAA,aAAA,EAAe,GAAI,CAAA,MAAA,EAAQ,UAAU,CAAA;AACjD,QAAA,KAAA,MAAW,QAAQ,GAAK,EAAA;AACtB,UAAM,MAAA,OAAA,GAAU,MAAMb,SAAU,CAAA,MAAA,EAAQc,2BAA2B,2BAA2B,CAAA,CAAE,EAAE,IAAA,EAAM,CAAA;AACxG,UAAQ,OAAA,CAAA,GAAA,CAAI,kBAAkB,OAAO,CAAA;AACrC,UAAI,IAAA,OAAA,CAAQ,WAAW,UAAY,EAAA;AACjC,YAAQ,OAAA,CAAA,KAAA,CAAM,gBAAgB,OAAO,CAAA;AAAA;AACvC;AACF;AAKF,MAAA,MAAA,CAAO,YAAY;AACjB,QAAA,IAAI,MAAM,aAAA,CAAc,OAAQ,CAAA,UAAA,IAAgB,EAAA;AAEhD,QAAA,OAAA,CAAQ,IAAI,mDAAmD,CAAA;AAC/D,QAAA,MAAM,OAAO,MAAMd,SAAAA;AAAA,UACjB,aAAA;AAAA,UACAW,mBAAAA;AAAA,UACA;AAAA,SACA,CAAA;AAAA,UACA,KAAO,EAAA,CAAC,EAAE,EAAA,EAAI,aAAa;AAAA,SAC5B,CAAA;AAED,QAAA,MAAM,UAAU,MAAMX,SAAAA;AAAA,UACpB,aAAA;AAAA,UACA,2BAAA;AAAA,UACA;AAAA,SACF,CAAE,EAAE,IAAA,EAAM,CAAA;AACV,QAAQ,OAAA,CAAA,GAAA,CAAI,uBAAuB,OAAO,CAAA;AAAA,OACzC,GAAA;AAEH,MAAA,MAAM,QAAQ,GAAI,CAAA;AAAA,QAChB,YAAY,iBAAkB,CAAA,EAAE,UAAU,CAAC,YAAY,GAAG,CAAA;AAAA,QAC1D,YAAY,iBAAkB,CAAA,EAAE,UAAU,CAAC,eAAe,GAAG,CAAA;AAAA,QAC7D,YAAY,iBAAkB,CAAA,EAAE,UAAU,CAAC,kBAAkB,GAAG;AAAA,OACjE,CAAA;AAAA;AACH,GACD,CAAA;AACH;ACxOA,eAAsB,gBAAiB,CAAA;AAAA,EACrC,WAAA;AAAA,EACA,cAAA;AAAA,EACA,aAAA;AAAA,EACA,YAAA;AAAA,EACA;AACF,CAM2B,EAAA;AACzB,EAAA,MAAM,SAAS,cAAe,CAAA,MAAA;AAC9B,EAAI,IAAA,CAAC,cAAe,CAAA,MAAM,CAAG,EAAA;AAC3B,IAAM,MAAA,IAAI,MAAM,iDAAiD,CAAA;AAAA;AAGnE,EAAA,MAAM,gBAAgB,mBAAoB,CAAA;AAAA,IACxC,SAAA,EAAW,mBAAoB,CAAA,MAAA,CAAO,KAAK,CAAA;AAAA,IAC3C,MAAA;AAAA,IACA,OAAS,EAAA,cAAA;AAAA,IACT,SAAW,EAAA;AAAA,GACZ,CAAA;AAED,EAAA,MAAM,aAAgB,GAAA,aAAA,CACnB,MAAO,CAAA,mBAAmB,CAC1B,CAAA,MAAA;AAAA,IACC,QAAS,CAAA;AAAA,MACP,YAAA;AAAA,MACA,gBAAkB,EAAA,WAAA;AAAA,MAClB,YAAc,EAAA;AAAA,KACf;AAAA,GAEF,CAAA,MAAA;AAAA,IACC,qBAAsB,CAAA;AAAA,MACpB,YAAA;AAAA,MACA,gBAAkB,EAAA,WAAA;AAAA,MAClB,YAAc,EAAA;AAAA,KACf;AAAA,GACH,CAEC,OAAO,OAAO,EAAE,aAAa,YAAc,EAAA,eAAA,EAAiB,eAAgB,CAAA,CAAA;AAE/E,EAAO,OAAA,aAAA;AACT;AAEA,SAAS,eAMP,MAC4E,EAAA;AAC5E,EAAA,OAAO,OAAO,KAAS,IAAA,IAAA;AACzB;;;ACjDO,SAAS,4BAA6B,CAAA;AAAA,EAC3C,WAAA;AAAA,EACA,MAAA;AAAA,EACA,WAAA;AAAA,EACA,YAAA;AAAA,EACA;AACF,CAM+C,EAAA;AAC7C,EAAA,OAAOL,YAA4B,CAAA;AAAA,IACjC,UAAU,CAAC,kBAAA,EAAoB,MAAQ,EAAA,GAAA,EAAK,aAAa,YAAY,CAAA;AAAA,IACrE,SAAS,YAAY;AACnB,MAAA,IAAI,CAAC,WAAA,EAAmB,MAAA,IAAI,MAAM,qBAAqB,CAAA;AAEvD,MAAA,MAAM,EAAE,OAAS,EAAA,cAAA,EAAgB,QAAQ,aAAc,EAAA,GAAI,MAAM,WAAY,CAAA,UAAA;AAAA,QAC3E,6BAA8B,CAAA,EAAE,MAAQ,EAAA,WAAA,EAAa;AAAA,OACvD;AACA,MAAA,OAAO,MAAM,gBAAiB,CAAA;AAAA,QAC5B,cAAA;AAAA,QACA,aAAA;AAAA,QACA,WAAA;AAAA,QACA,YAAA;AAAA,QACA;AAAA,OACD,CAAA;AAAA,KACH;AAAA,IACA,SAAW,EAAA,QAAA;AAAA;AAAA,IAEX,KAAO,EAAA;AAAA,GACR,CAAA;AACH;AAEO,SAAS,iBAAiB,WAAiE,EAAA;AAChG,EAAA,MAAM,cAAcS,cAAe,EAAA;AACnC,EAAA,MAAM,EAAE,OAAA,EAAS,YAAc,EAAA,iBAAA,KAAsB,iBAAkB,EAAA;AACvE,EAAA,MAAM,MAASH,GAAAA,SAAAA,CAAU,EAAE,OAAA,EAAS,CAAA;AACpC,EAAOC,OAAAA,QAAAA;AAAA,IACL,4BAA6B,CAAA;AAAA,MAC3B,WAAA;AAAA,MACA,MAAA;AAAA,MACA,WAAA;AAAA,MACA,YAAA;AAAA,MACA;AAAA,KACD;AAAA,GACH;AACF;AC5DO,SAAS,kBAA4E,MAAwB,EAAA;AAClH,EAAA,MAAM,EAAE,KAAA,EAAAX,MAAO,EAAA,OAAA,EAAY,GAAA,MAAA;AAE3B,EAAAJ,UAAU,MAAM;AACd,IAAA,IAAI,CAACI,MAAO,EAAA;AACZ,IAAA,OAAO,SAAS,EAAE,KAAA,EAAAA,QAAO,KAAO,EAAA,OAAA,EAAS,SAAS,MAAM;AAAA,OAAI,CAAA;AAAA,GAC3D,EAAA,CAACA,MAAO,EAAA,OAAO,CAAC,CAAA;AAEnB,EAAO,OAAA,MAAA;AACT;ACOO,SAAS,OAAA,CAAQ,EAAE,QAAU,EAAA,UAAA,EAAY,WAAW,UAAY,EAAA,eAAA,EAAiB,oBAA6B,EAAA;AACnH,EAAA,MAAM,gBAAgB,iBAAkB,CAAA,gBAAA,CAAiB,UAAW,CAAA,OAAA,CAAQ,OAAO,CAAC,CAAA;AACpF,EAAA,MAAM,QAAQ,oBAAqB,CAAA,eAAA,CAAgB,EAAE,UAAY,EAAA,SAAA,EAAW,CAAC,CAAA;AAC7E,EAAM,MAAA,UAAA,GAAa,CAAC,kBAAA,IAAsB,CAAC,kBAAA;AAC3C,EAAA,MAAM,EAAE,IAAM,EAAA,aAAA,KAAkB,gBAAiB,CAAA,UAAA,CAAW,QAAQ,OAAO,CAAA;AAC3E,EAAA,MAAM,EAAE,YAAc,EAAA,aAAA,EAAe,mBAAoB,EAAA,GAAI,iBAAiB,EAAC;AAE/E,EAAAJ,UAAU,MAAM;AAKd,IAAM,MAAA,KAAA,GAAQ,WAAW,MAAM;AAC7B,MACE,IAAA,QAAA,IACA,KAAM,CAAA,MAAA,KAAW,MACjB,IAAA,aAAA,CAAc,QACd,CAAC,UAAA,KACA,YAAgB,IAAA,aAAA,IAAiB,mBAClC,CAAA,EAAA;AAQF,KACD,CAAA;AACD,IAAO,OAAA,MAAM,aAAa,KAAK,CAAA;AAAA,GAC9B,EAAA;AAAA,IACD,UAAA;AAAA,IACA,QAAA;AAAA,IACA,kBAAA;AAAA,IACA,eAAA;AAAA,IACA,aAAA;AAAA,IACA,KAAA;AAAA,IACA,YAAA;AAAA,IACA,aAAA;AAAA,IACA;AAAA,GACD,CAAA;AAED,EAAA,uBACEE,IAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,qBACb,EAAA,QAAA,EAAA;AAAA,oBAAAA,IAAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAU,4BACb,EAAA,QAAA,EAAA;AAAA,sBAAAA,KAAC,KACC,EAAA,EAAA,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,SAAI,QAAO,EAAA,SAAA,EAAA,CAAA;AAAA,wBACZA,GAAC,CAAA,KAAA,EAAA,EAAI,WAAU,sBAAwB,EAAA,QAAA,EAAA,UAAA,GAAa,YAAY,QAAS,EAAA;AAAA,OAC3E,EAAA,CAAA;AAAA,MACC,UACC,mBAAAA,GAAC,CAAA,MAAA,EAAA,EAAO,SAAQ,UAAW,EAAA,SAAA,EAAU,gCAAiC,EAAA,SAAA,EAAW,QAAU,EAAA,QAAA,EAAQ,IAAC,EAAA,QAAA,EAAA,SAAA,EAEpG,oBAEAA,GAAAA;AAAA,QAAC,MAAA;AAAA,QAAA;AAAA,UACC,OAAA,EAAS,WAAW,SAAY,GAAA,UAAA;AAAA,UAChC,SAAU,EAAA,gCAAA;AAAA,UACV,SAAW,EAAA,QAAA;AAAA,UACX,OAAS,EAAA,CAAC,aAAc,CAAA,IAAA,IAAQ,MAAM,MAAW,KAAA,SAAA;AAAA,UACjD,OACE,EAAA,aAAA,CAAc,IACV,GAAA,MACE,MAAM,MAAO,CAAA;AAAA,YACX,eAAe,aAAc,CAAA,IAAA;AAAA,YAC7B,eAAA;AAAA,YACA;AAAA,WACD,CACH,GAAA,MAAA;AAAA,UAEP,QAAA,EAAA;AAAA;AAAA;AAED,KAEJ,EAAA,CAAA;AAAA,IACC,6BACCA,GAAAA,CAAC,OAAE,SAAU,EAAA,SAAA,EAAU,sFAAwE,CAC7F,GAAA;AAAA,GACN,EAAA,CAAA;AAEJ;AC9FO,SAAS,OAAQ,CAAA,EAAE,SAAW,EAAA,GAAG,OAAgB,EAAA;AACtD,EAAA,uBACEI,IAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,KAAM,EAAA,4BAAA;AAAA,MACN,OAAQ,EAAA,aAAA;AAAA,MACR,IAAK,EAAA,cAAA;AAAA,MACL,SAAA,EAAWC,OAAQ,CAAA,mBAAA,EAAqB,SAAS,CAAA;AAAA,MAChD,GAAG,KAAA;AAAA,MAEJ,QAAA,EAAA;AAAA,wBAAAL,GAAAA,CAAC,MAAK,EAAA,EAAA,CAAA,EAAE,+BAAgC,EAAA,CAAA;AAAA,wBACxCA,GAAC,CAAA,MAAA,EAAA,EAAK,CAAE,EAAA,oBAAA,EAAqB,aAAY,KAAM,EAAA,CAAA;AAAA,wBAC/CA,GAAAA,CAAC,MAAK,EAAA,EAAA,CAAA,EAAE,oBAAqB,EAAA,CAAA;AAAA,wBAC7BA,GAAC,CAAA,MAAA,EAAA,EAAK,CAAE,EAAA,yBAAA,EAA0B,aAAY,KAAM,EAAA;AAAA;AAAA;AAAA,GACtD;AAEJ;AClBO,SAAS,cAAc,GAAa,EAAA;AAEzC,EAAM,MAAA,SAAA,GAAY,YAAY,GAAG,CAAA;AACjC,EAAM,MAAA,MAAA,GAAS,WAAW,SAAS,CAAA;AAEnC,EAAI,IAAA,MAAA,GAAS,CAAK,IAAA,MAAA,GAAS,IAAS,EAAA;AAClC,IAAO,OAAA,UAAA;AAAA;AAGT,EAAA,MAAM,YAAY,IAAK,CAAA,KAAA,CAAM,MAAM,CAAA,CAAE,UAAW,CAAA,MAAA;AAChD,EAAO,OAAA,MAAA,CAAO,cAAe,CAAA,OAAA,EAAS,EAAE,qBAAA,EAAuB,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,CAAA,GAAI,SAAS,CAAA,EAAG,CAAA;AAC7F;ACLO,SAAS,OAAA,CAAQ,EAAE,GAAA,EAAc,EAAA;AACtC,EACE,uBAAAI,KAAC,MAAK,EAAA,EAAA,SAAA,EAAU,kCAAiC,KAAO0B,EAAAA,WAAAA,CAAY,GAAG,CACpE,EAAA,QAAA,EAAA;AAAA,IAAA,aAAA,CAAc,GAAG,CAAA;AAAA,IAAE,GAAA;AAAA,oBAAC9B,IAAC,OAAQ,EAAA,EAAA;AAAA,GAChC,EAAA,CAAA;AAEJ;;;ACdA,IAAA,mBAAA,GAAA;AAAA,EACE,GAAK,EAAA;AAAA,IACH,SAAa,EAAA;AAAA,GACf;AAAA,EACA,IAAM,EAAA;AAAA,IACJ,SAAa,EAAA;AAAA,GACf;AAAA,EACA,IAAM,EAAA;AAAA,IACJ,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,KAAO,EAAA;AAAA,IACL,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,MAAQ,EAAA;AAAA,IACN,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IACP,SAAa,EAAA;AAAA,GACf;AAAA,EACA,OAAS,EAAA;AAAA,IA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","file":"internal.js","sourcesContent":["import { EntryKitConfigInput } from \"./input\";\nimport { EntryKitConfig } from \"./output\";\n\nexport function defineConfig(input: EntryKitConfigInput): EntryKitConfig {\n  return {\n    ...input,\n    appName: input.appName ?? document.title,\n    appIcon: input.appIcon ?? document.querySelector(\"link[rel~='icon']\")?.getAttribute(\"href\") ?? \"/favico.ico\",\n  };\n}\n","*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.18 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */ /* 3 */\n  tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n\n.container {\n  width: 100%;\n}\n\n@media (min-width: 640px) {\n\n  .container {\n    max-width: 640px;\n  }\n}\n\n@media (min-width: 768px) {\n\n  .container {\n    max-width: 768px;\n  }\n}\n\n@media (min-width: 1024px) {\n\n  .container {\n    max-width: 1024px;\n  }\n}\n\n@media (min-width: 1280px) {\n\n  .container {\n    max-width: 1280px;\n  }\n}\n\n@media (min-width: 1536px) {\n\n  .container {\n    max-width: 1536px;\n  }\n}\n\n.grid-cols-2.divide-y > :not([hidden]) ~ :not([hidden]):nth-child(-n + 2) {\n  border-top-width: 0;\n  border-bottom-width: 0;\n}\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.pointer-events-none {\n  pointer-events: none;\n}\n\n.pointer-events-auto {\n  pointer-events: auto;\n}\n\n.fixed {\n  position: fixed;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.relative {\n  position: relative;\n}\n\n.sticky {\n  position: sticky;\n}\n\n.inset-0 {\n  inset: 0px;\n}\n\n.bottom-0 {\n  bottom: 0px;\n}\n\n.left-0 {\n  left: 0px;\n}\n\n.right-0 {\n  right: 0px;\n}\n\n.top-0 {\n  top: 0px;\n}\n\n.col-start-1 {\n  grid-column-start: 1;\n}\n\n.row-start-1 {\n  grid-row-start: 1;\n}\n\n.m-0 {\n  margin: 0px;\n}\n\n.m-2 {\n  margin: 0.5rem;\n}\n\n.-mx-0\\.5 {\n  margin-left: -0.125rem;\n  margin-right: -0.125rem;\n}\n\n.-my-1 {\n  margin-top: -0.25rem;\n  margin-bottom: -0.25rem;\n}\n\n.-my-\\[0\\.125em\\] {\n  margin-top: -0.125em;\n  margin-bottom: -0.125em;\n}\n\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.-ml-3 {\n  margin-left: -0.75rem;\n}\n\n.-mr-1 {\n  margin-right: -0.25rem;\n}\n\n.-mt-2 {\n  margin-top: -0.5rem;\n}\n\n.mt-1 {\n  margin-top: 0.25rem;\n}\n\n.mt-4 {\n  margin-top: 1rem;\n}\n\n.block {\n  display: block;\n}\n\n.inline-block {\n  display: inline-block;\n}\n\n.flex {\n  display: flex;\n}\n\n.inline-flex {\n  display: inline-flex;\n}\n\n.table {\n  display: table;\n}\n\n.grid {\n  display: grid;\n}\n\n.inline-grid {\n  display: inline-grid;\n}\n\n.contents {\n  display: contents;\n}\n\n.hidden {\n  display: none;\n}\n\n.aspect-square {\n  aspect-ratio: 1 / 1;\n}\n\n.h-10 {\n  height: 2.5rem;\n}\n\n.h-12 {\n  height: 3rem;\n}\n\n.h-16 {\n  height: 4rem;\n}\n\n.h-3 {\n  height: 0.75rem;\n}\n\n.h-3\\.5 {\n  height: 0.875rem;\n}\n\n.h-4 {\n  height: 1rem;\n}\n\n.h-6 {\n  height: 1.5rem;\n}\n\n.h-64 {\n  height: 16rem;\n}\n\n.h-\\[1\\.25em\\] {\n  height: 1.25em;\n}\n\n.h-\\[1em\\] {\n  height: 1em;\n}\n\n.h-\\[2px\\] {\n  height: 2px;\n}\n\n.h-full {\n  height: 100%;\n}\n\n.max-h-\\[230px\\] {\n  max-height: 230px;\n}\n\n.max-h-full {\n  max-height: 100%;\n}\n\n.w-10 {\n  width: 2.5rem;\n}\n\n.w-16 {\n  width: 4rem;\n}\n\n.w-24 {\n  width: 6rem;\n}\n\n.w-28 {\n  width: 7rem;\n}\n\n.w-3 {\n  width: 0.75rem;\n}\n\n.w-3\\.5 {\n  width: 0.875rem;\n}\n\n.w-4 {\n  width: 1rem;\n}\n\n.w-48 {\n  width: 12rem;\n}\n\n.w-6 {\n  width: 1.5rem;\n}\n\n.w-60 {\n  width: 15rem;\n}\n\n.w-8 {\n  width: 2rem;\n}\n\n.w-\\[0\\.6em\\] {\n  width: 0.6em;\n}\n\n.w-\\[1\\.25em\\] {\n  width: 1.25em;\n}\n\n.w-\\[352px\\] {\n  width: 352px;\n}\n\n.w-full {\n  width: 100%;\n}\n\n.max-w-\\[26rem\\] {\n  max-width: 26rem;\n}\n\n.flex-shrink-0 {\n  flex-shrink: 0;\n}\n\n.flex-grow {\n  flex-grow: 1;\n}\n\n.-translate-y-2 {\n  --tw-translate-y: -0.5rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.-translate-y-4 {\n  --tw-translate-y: -1rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.translate-x-2 {\n  --tw-translate-x: 0.5rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.translate-y-0 {\n  --tw-translate-y: 0px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.scale-100 {\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.scale-50 {\n  --tw-scale-x: .5;\n  --tw-scale-y: .5;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n@keyframes spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.cursor-text {\n  cursor: text;\n}\n\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n\n.grid-cols-\\[1fr_auto_1fr\\] {\n  grid-template-columns: 1fr auto 1fr;\n}\n\n.flex-col {\n  flex-direction: column;\n}\n\n.place-items-center {\n  place-items: center;\n}\n\n.items-end {\n  align-items: flex-end;\n}\n\n.items-center {\n  align-items: center;\n}\n\n.justify-end {\n  justify-content: flex-end;\n}\n\n.justify-center {\n  justify-content: center;\n}\n\n.justify-between {\n  justify-content: space-between;\n}\n\n.gap-1 {\n  gap: 0.25rem;\n}\n\n.gap-2 {\n  gap: 0.5rem;\n}\n\n.gap-2\\.5 {\n  gap: 0.625rem;\n}\n\n.gap-4 {\n  gap: 1rem;\n}\n\n.gap-5 {\n  gap: 1.25rem;\n}\n\n.gap-6 {\n  gap: 1.5rem;\n}\n\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n\n.space-y-6 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));\n}\n\n.divide-y > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-y-reverse: 0;\n  border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n  border-bottom-width: calc(1px * var(--tw-divide-y-reverse));\n}\n\n.divide-neutral-700 > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-opacity: 1;\n  border-color: rgb(64 64 64 / var(--tw-divide-opacity, 1));\n}\n\n.divide-neutral-800 > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-opacity: 1;\n  border-color: rgb(38 38 38 / var(--tw-divide-opacity, 1));\n}\n\n.self-auto {\n  align-self: auto;\n}\n\n.self-center {\n  align-self: center;\n}\n\n.overflow-auto {\n  overflow: auto;\n}\n\n.overflow-clip {\n  overflow: clip;\n}\n\n.overflow-y-auto {\n  overflow-y: auto;\n}\n\n.whitespace-nowrap {\n  white-space: nowrap;\n}\n\n.whitespace-pre-wrap {\n  white-space: pre-wrap;\n}\n\n.rounded-full {\n  border-radius: 9999px;\n}\n\n.border {\n  border-width: 1px;\n}\n\n.border-2 {\n  border-width: 2px;\n}\n\n.border-4 {\n  border-width: 4px;\n}\n\n.border-dashed {\n  border-style: dashed;\n}\n\n.border-neutral-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(212 212 212 / var(--tw-border-opacity, 1));\n}\n\n.border-neutral-700 {\n  --tw-border-opacity: 1;\n  border-color: rgb(64 64 64 / var(--tw-border-opacity, 1));\n}\n\n.border-transparent {\n  border-color: transparent;\n}\n\n.border-white\\/50 {\n  border-color: rgb(255 255 255 / 0.5);\n}\n\n.bg-black\\/10 {\n  background-color: rgb(0 0 0 / 0.1);\n}\n\n.bg-blue-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n\n.bg-blue-700 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n\n.bg-blue-700\\/60 {\n  background-color: rgb(29 78 216 / 0.6);\n}\n\n.bg-green-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(22 163 74 / var(--tw-bg-opacity, 1));\n}\n\n.bg-neutral-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(245 245 245 / var(--tw-bg-opacity, 1));\n}\n\n.bg-neutral-700 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(64 64 64 / var(--tw-bg-opacity, 1));\n}\n\n.bg-neutral-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(38 38 38 / var(--tw-bg-opacity, 1));\n}\n\n.bg-neutral-800\\/85 {\n  background-color: rgb(38 38 38 / 0.85);\n}\n\n.bg-neutral-900 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(23 23 23 / var(--tw-bg-opacity, 1));\n}\n\n.bg-orange-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 115 22 / var(--tw-bg-opacity, 1));\n}\n\n.bg-orange-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(234 88 12 / var(--tw-bg-opacity, 1));\n}\n\n.bg-red-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n}\n\n.bg-transparent {\n  background-color: transparent;\n}\n\n.bg-gradient-to-b {\n  background-image: linear-gradient(to bottom, var(--tw-gradient-stops));\n}\n\n.from-transparent {\n  --tw-gradient-from: transparent var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n\n.to-blue-700 {\n  --tw-gradient-to: #1d4ed8 var(--tw-gradient-to-position);\n}\n\n.bg-cover {\n  background-size: cover;\n}\n\n.bg-center {\n  background-position: center;\n}\n\n.bg-no-repeat {\n  background-repeat: no-repeat;\n}\n\n.object-cover {\n  object-fit: cover;\n}\n\n.p-1 {\n  padding: 0.25rem;\n}\n\n.p-2 {\n  padding: 0.5rem;\n}\n\n.p-2\\.5 {\n  padding: 0.625rem;\n}\n\n.p-3 {\n  padding: 0.75rem;\n}\n\n.p-4 {\n  padding: 1rem;\n}\n\n.p-6 {\n  padding: 1.5rem;\n}\n\n.p-\\[\\.75em\\] {\n  padding: .75em;\n}\n\n.px-8 {\n  padding-left: 2rem;\n  padding-right: 2rem;\n}\n\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n\n.py-8 {\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n}\n\n.pb-2 {\n  padding-bottom: 0.5rem;\n}\n\n.pb-8 {\n  padding-bottom: 2rem;\n}\n\n.pt-10 {\n  padding-top: 2.5rem;\n}\n\n.pt-8 {\n  padding-top: 2rem;\n}\n\n.text-left {\n  text-align: left;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.font-mono {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n}\n\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n\n.text-\\[\\.75em\\] {\n  font-size: .75em;\n}\n\n.text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n\n.font-bold {\n  font-weight: 700;\n}\n\n.font-medium {\n  font-weight: 500;\n}\n\n.leading-loose {\n  line-height: 2;\n}\n\n.leading-none {\n  line-height: 1;\n}\n\n.tracking-\\[-1ch\\] {\n  letter-spacing: -1ch;\n}\n\n.text-amber-500 {\n  --tw-text-opacity: 1;\n  color: rgb(245 158 11 / var(--tw-text-opacity, 1));\n}\n\n.text-black {\n  --tw-text-opacity: 1;\n  color: rgb(0 0 0 / var(--tw-text-opacity, 1));\n}\n\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n\n.text-green-600 {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n\n.text-neutral-300 {\n  --tw-text-opacity: 1;\n  color: rgb(212 212 212 / var(--tw-text-opacity, 1));\n}\n\n.text-neutral-400 {\n  --tw-text-opacity: 1;\n  color: rgb(163 163 163 / var(--tw-text-opacity, 1));\n}\n\n.text-neutral-500 {\n  --tw-text-opacity: 1;\n  color: rgb(115 115 115 / var(--tw-text-opacity, 1));\n}\n\n.text-orange-500 {\n  --tw-text-opacity: 1;\n  color: rgb(249 115 22 / var(--tw-text-opacity, 1));\n}\n\n.text-transparent {\n  color: transparent;\n}\n\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.text-white\\/20 {\n  color: rgb(255 255 255 / 0.2);\n}\n\n.text-white\\/50 {\n  color: rgb(255 255 255 / 0.5);\n}\n\n.text-white\\/80 {\n  color: rgb(255 255 255 / 0.8);\n}\n\n.underline {\n  text-decoration-line: underline;\n}\n\n.decoration-neutral-500 {\n  text-decoration-color: #737373;\n}\n\n.underline-offset-4 {\n  text-underline-offset: 4px;\n}\n\n.opacity-0 {\n  opacity: 0;\n}\n\n.opacity-100 {\n  opacity: 1;\n}\n\n.opacity-25 {\n  opacity: 0.25;\n}\n\n.opacity-30 {\n  opacity: 0.3;\n}\n\n.opacity-50 {\n  opacity: 0.5;\n}\n\n.opacity-75 {\n  opacity: 0.75;\n}\n\n.outline-none {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.ring-1 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.ring-2 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.ring-neutral-700\\/50 {\n  --tw-ring-color: rgb(64 64 64 / 0.5);\n}\n\n.ring-transparent {\n  --tw-ring-color: transparent;\n}\n\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.transition-colors {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.duration-100 {\n  transition-duration: 100ms;\n}\n\n.duration-300 {\n  transition-duration: 300ms;\n}\n\n.ease-linear {\n  transition-timing-function: linear;\n}\n\n@keyframes enter {\n\n  from {\n    opacity: var(--tw-enter-opacity, 1);\n    transform: translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0));\n  }\n}\n\n@keyframes exit {\n\n  to {\n    opacity: var(--tw-exit-opacity, 1);\n    transform: translate3d(var(--tw-exit-translate-x, 0), var(--tw-exit-translate-y, 0), 0) scale3d(var(--tw-exit-scale, 1), var(--tw-exit-scale, 1), var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0));\n  }\n}\n\n.animate-in {\n  animation-name: enter;\n  animation-duration: 150ms;\n  --tw-enter-opacity: initial;\n  --tw-enter-scale: initial;\n  --tw-enter-rotate: initial;\n  --tw-enter-translate-x: initial;\n  --tw-enter-translate-y: initial;\n}\n\n.animate-out {\n  animation-name: exit;\n  animation-duration: 150ms;\n  --tw-exit-opacity: initial;\n  --tw-exit-scale: initial;\n  --tw-exit-rotate: initial;\n  --tw-exit-translate-x: initial;\n  --tw-exit-translate-y: initial;\n}\n\n.fade-in {\n  --tw-enter-opacity: 0;\n}\n\n.fade-out {\n  --tw-exit-opacity: 0;\n}\n\n.slide-in-from-bottom-16 {\n  --tw-enter-translate-y: 4rem;\n}\n\n.slide-in-from-bottom-2 {\n  --tw-enter-translate-y: 0.5rem;\n}\n\n.slide-in-from-bottom-8 {\n  --tw-enter-translate-y: 2rem;\n}\n\n.slide-in-from-top-2 {\n  --tw-enter-translate-y: -0.5rem;\n}\n\n.animate-duration-300 {\n  animation-duration: 300ms;\n}\n\n.ease-linear {\n  animation-timing-function: linear;\n}\n\n@property --tw-border-gradient-angle {\n  syntax: '<angle>';\n  inherits: true;\n  initial-value: 0deg;\n}\n\n@property --tw-conic-gradient-angle {\n  syntax: '<angle>';\n  inherits: true;\n  initial-value: 0deg;\n}\n\n@keyframes border-gradient {\n\n  to {\n    --tw-border-gradient-angle: 360deg;\n  }\n}\n\n.placeholder\\:text-neutral-500::placeholder {\n  --tw-text-opacity: 1;\n  color: rgb(115 115 115 / var(--tw-text-opacity, 1));\n}\n\n.after\\:select-none::after {\n  content: var(--tw-content);\n  -webkit-user-select: none;\n          user-select: none;\n}\n\n.after\\:content-\\[\\'\\2026\\'\\]::after {\n  --tw-content: '';\n  content: var(--tw-content);\n}\n\n.focus-within\\:border-transparent:focus-within {\n  border-color: transparent;\n}\n\n.focus-within\\:ring-orange-500:focus-within {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(249 115 22 / var(--tw-ring-opacity, 1));\n}\n\n.hover\\:bg-blue-500:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-neutral-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 229 229 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-orange-400:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(251 146 60 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:text-white:hover {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-white\\/40:hover {\n  color: rgb(255 255 255 / 0.4);\n}\n\n.hover\\:text-white\\/80:hover {\n  color: rgb(255 255 255 / 0.8);\n}\n\n.hover\\:decoration-orange-500:hover {\n  text-decoration-color: #f97316;\n}\n\n.hover\\:brightness-125:hover {\n  --tw-brightness: brightness(1.25);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n\n.focus\\:border-orange-500:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(249 115 22 / var(--tw-border-opacity, 1));\n}\n\n.focus\\:border-yellow-400:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(250 204 21 / var(--tw-border-opacity, 1));\n}\n\n.focus\\:bg-neutral-700:focus {\n  --tw-bg-opacity: 1;\n  background-color: rgb(64 64 64 / var(--tw-bg-opacity, 1));\n}\n\n.active\\:bg-orange-600:active {\n  --tw-bg-opacity: 1;\n  background-color: rgb(234 88 12 / var(--tw-bg-opacity, 1));\n}\n\n.active\\:brightness-150:active {\n  --tw-brightness: brightness(1.5);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n\n.group:hover .group-hover\\:pointer-events-none {\n  pointer-events: none;\n}\n\n.group:hover .group-hover\\:pointer-events-auto {\n  pointer-events: auto;\n}\n\n.group:hover .group-hover\\:inline-block {\n  display: inline-block;\n}\n\n.group:hover .group-hover\\:hidden {\n  display: none;\n}\n\n.group:hover .group-hover\\:rotate-90 {\n  --tw-rotate: 90deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.group:hover .group-hover\\:opacity-0 {\n  opacity: 0;\n}\n\n.group:hover .group-hover\\:opacity-100 {\n  opacity: 1;\n}\n\n.peer:placeholder-shown ~ .peer-placeholder-shown\\:text-neutral-500 {\n  --tw-text-opacity: 1;\n  color: rgb(115 115 115 / var(--tw-text-opacity, 1));\n}\n\n.aria-busy\\:pointer-events-none[aria-busy=\"true\"] {\n  pointer-events: none;\n}\n\n.aria-busy\\:bg-blue-500[aria-busy=\"true\"] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));\n}\n\n.aria-disabled\\:pointer-events-none[aria-disabled=\"true\"] {\n  pointer-events: none;\n}\n\n.aria-disabled\\:opacity-50[aria-disabled=\"true\"] {\n  opacity: 0.5;\n}\n\n.group[aria-busy=\"true\"] .group-aria-busy\\:inline {\n  display: inline;\n}\n\n.group[aria-busy=\"true\"] .group-aria-busy\\:hidden {\n  display: none;\n}\n\n.group\\/button[aria-busy=\"true\"] .group-aria-busy\\/button\\:translate-x-0 {\n  --tw-translate-x: 0px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.group[aria-busy=\"true\"] .group-aria-busy\\:scale-100 {\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.group[aria-busy=\"true\"] .group-aria-busy\\:scale-125 {\n  --tw-scale-x: 1.25;\n  --tw-scale-y: 1.25;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.group\\/button[aria-busy=\"true\"] .group-aria-busy\\/button\\:opacity-100 {\n  opacity: 1;\n}\n\n.group[aria-busy=\"true\"] .group-aria-busy\\:opacity-0 {\n  opacity: 0;\n}\n\n.group[aria-busy=\"true\"] .group-aria-busy\\:opacity-100 {\n  opacity: 1;\n}\n\n.group\\/button[aria-busy=\"true\"] .group-aria-busy\\/button\\:duration-300 {\n  transition-duration: 300ms;\n}\n\n.group[aria-expanded=\"true\"] .group-aria-expanded\\:inline {\n  display: inline;\n}\n\n.group[aria-expanded=\"true\"] .group-aria-expanded\\:hidden {\n  display: none;\n}\n\n.data-\\[highlighted\\]\\:bg-neutral-200[data-highlighted] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 229 229 / var(--tw-bg-opacity, 1));\n}\n\n.data-\\[state\\=checked\\]\\:bg-neutral-900[data-state=\"checked\"] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(23 23 23 / var(--tw-bg-opacity, 1));\n}\n\n.links\\:font-medium a[href]:not(.links-unset) {\n  font-weight: 500;\n}\n\n.links\\:text-white a[href]:not(.links-unset) {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.links\\:underline a[href]:not(.links-unset) {\n  text-decoration-line: underline;\n}\n\n.links\\:decoration-neutral-500 a[href]:not(.links-unset) {\n  text-decoration-color: #737373;\n}\n\n.links\\:underline-offset-4 a[href]:not(.links-unset) {\n  text-underline-offset: 4px;\n}\n\n.hover\\:links\\:decoration-orange-500 a[href]:not(.links-unset):hover {\n  text-decoration-color: #f97316;\n}\n\n@media (min-width: 640px) {\n\n  .sm\\:items-center {\n    align-items: center;\n  }\n}\n\n.dark\\:border-neutral-700:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n  --tw-border-opacity: 1;\n  border-color: rgb(64 64 64 / var(--tw-border-opacity, 1));\n}\n\n.dark\\:bg-neutral-800:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(38 38 38 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:bg-white\\/10:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n  background-color: rgb(255 255 255 / 0.1);\n}\n\n.dark\\:text-white:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:hover\\:bg-neutral-700:hover:where([data-theme=\"dark\"], [data-theme=\"dark\"] *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(64 64 64 / var(--tw-bg-opacity, 1));\n}\n\n.\\[\\&_\\>_\\:is\\(dt\\2c dd\\)\\]\\:px-1 > :is(dt,dd) {\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n\n.\\[\\&_\\>_dd\\]\\:text-right > dd {\n  text-align: right;\n}\n","import { createContext, useContext, type ReactNode } from \"react\";\n\ntype ContextValue = {\n  readonly frame: HTMLIFrameElement;\n};\n\n/** @internal */\nconst Context = createContext<ContextValue | null>(null);\n\nexport type Props = {\n  frame: HTMLIFrameElement;\n  children?: ReactNode;\n};\n\nexport function FrameProvider({ frame, children }: Props) {\n  const value = useContext(Context);\n  if (value) throw new Error(\"`FrameProvider` can only be used once.\");\n  return <Context.Provider value={{ frame }}>{children}</Context.Provider>;\n}\n\nexport function useFrame(): ContextValue {\n  const value = useContext(Context);\n  if (!value) throw new Error(\"`useFrame` can only be used within a `FrameProvider`.\");\n  return value;\n}\n","import { BundlerRpcSchema } from \"viem\";\nimport { formatUserOperationRequest } from \"viem/account-abstraction\";\nimport { getRpcMethod } from \"../common\";\n\n// TODO: revisit after demo (don't hardcode gas)\n\ntype rpcMethod = getRpcMethod<BundlerRpcSchema, \"eth_estimateUserOperationGas\">;\n\nexport async function estimateUserOperationGas(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _params: rpcMethod[\"Parameters\"],\n): Promise<rpcMethod[\"ReturnType\"]> {\n  return formatUserOperationRequest({\n    callGasLimit: 20_000_000n,\n    preVerificationGas: 200_000n,\n    verificationGasLimit: 2_000_000n,\n    paymasterVerificationGasLimit: 200_000n,\n    paymasterPostOpGasLimit: 200_000n,\n  });\n}\n","import { RpcUserOperation, RpcUserOperationReceipt, parseEventLogs } from \"viem\";\nimport {\n  formatUserOperation,\n  toPackedUserOperation,\n  getUserOperationHash,\n  entryPoint07Address,\n  entryPoint07Abi,\n} from \"viem/account-abstraction\";\nimport { waitForTransactionReceipt, writeContract } from \"viem/actions\";\nimport { getAction } from \"viem/utils\";\nimport { ConnectedClient } from \"../../../common\";\n\n// TODO: move to common package?\n\n// TODO: move this into a generic to support other versions?\nconst entryPointVersion = \"0.7\";\ntype entryPointVersion = typeof entryPointVersion;\n\nexport async function sendUserOperation({\n  executor,\n  rpcUserOp,\n}: {\n  executor: ConnectedClient;\n  rpcUserOp: RpcUserOperation<entryPointVersion>;\n}): Promise<\n  Pick<RpcUserOperationReceipt<entryPointVersion>, \"success\" | \"userOpHash\"> & {\n    receipt: Pick<RpcUserOperationReceipt<entryPointVersion>[\"receipt\"], \"transactionHash\">;\n  }\n> {\n  const userOp = formatUserOperation(rpcUserOp);\n  const packedUserOp = toPackedUserOperation(userOp);\n\n  const userOpHash = getUserOperationHash({\n    userOperation: userOp,\n    chainId: executor.chain.id,\n    entryPointVersion: \"0.7\",\n    entryPointAddress: entryPoint07Address,\n  });\n\n  const transactionHash = await getAction(\n    executor,\n    writeContract,\n    \"writeContract\",\n  )({\n    abi: entryPoint07Abi,\n    address: entryPoint07Address,\n    functionName: \"handleOps\",\n    args: [[packedUserOp], executor.account.address],\n    chain: executor.chain,\n    account: executor.account,\n  });\n\n  const receipt = await getAction(\n    executor,\n    waitForTransactionReceipt,\n    \"waitForTransactionReceipt\",\n  )({ hash: transactionHash });\n\n  // TODO: replace with `getUserOperationReceipt`?\n  const parsedLogs = parseEventLogs({\n    logs: receipt.logs,\n    abi: entryPoint07Abi,\n    eventName: \"UserOperationEvent\" as const,\n  });\n\n  return {\n    success: parsedLogs[0]!.args.success,\n    userOpHash,\n    receipt,\n  };\n}\n","import createDebug from \"debug\";\n\nexport const debug = createDebug(\"mud:entrykit\");\nexport const error = createDebug(\"mud:entrykit\");\n\n// Pipe debug output to stdout instead of stderr\ndebug.log = console.debug.bind(console);\n\n// Pipe error output to stderr\nerror.log = console.error.bind(console);\n","import { debug as parentDebug } from \"../debug\";\n\nexport const debug = parentDebug.extend(\"quarry\");\n","import {\n  BundlerRpcSchema,\n  EIP1193RequestFn,\n  Hash,\n  RpcUserOperationReceipt,\n  Transport,\n  createTransport,\n  getAbiItem,\n  numberToHex,\n  parseEther,\n} from \"viem\";\nimport {\n  entryPoint06Abi,\n  entryPoint06Address,\n  entryPoint07Address,\n  entryPoint08Address,\n} from \"viem/account-abstraction\";\nimport { TransportRequestFn } from \"./common\";\nimport { estimateUserOperationGas } from \"./methods/estimateUserOperationGas\";\nimport { sendUserOperation } from \"./methods/sendUserOperation\";\nimport { ConnectedClient } from \"../../common\";\nimport { debug } from \"../debug\";\nimport { getLogs, getTransactionReceipt, setBalance } from \"viem/actions\";\nimport { getUserOperationReceipt } from \"@latticexyz/common/internal\";\n\n// TODO: move to common package?\n\nexport function userOpExecutor({\n  executor,\n  fallbackDefaultTransport,\n}: {\n  executor: ConnectedClient;\n  fallbackDefaultTransport: Transport;\n}): Transport {\n  return (opts) => {\n    debug(\"using a local user op executor\", executor.account.address);\n\n    if (executor.chain.id === 31337) {\n      debug(\"setting executor balance\");\n      setBalance(\n        executor.extend(() => ({ mode: \"anvil\" })),\n        {\n          address: executor.account.address,\n          value: parseEther(\"100\"),\n        },\n      );\n    }\n\n    const receipts = new Map<Hash, RpcUserOperationReceipt<\"0.7\">>();\n\n    // @ts-expect-error TODO\n    const request: TransportRequestFn<BundlerRpcSchema> = async ({ method, params }) => {\n      // TODO: move chain/ID into args and executors as accounts instead of clients?\n      if (method === \"eth_chainId\") {\n        return numberToHex(executor.chain.id);\n      }\n\n      if (method === \"eth_supportedEntryPoints\") {\n        return [entryPoint07Address];\n      }\n\n      if (method === \"eth_sendUserOperation\") {\n        const [rpcUserOp, entrypoint] = params;\n        if (entrypoint === entryPoint07Address) {\n          const result = await sendUserOperation({ executor, rpcUserOp });\n          receipts.set(result.userOpHash, result as RpcUserOperationReceipt<\"0.7\">);\n          return result.userOpHash;\n        }\n      }\n\n      if (method === \"eth_getUserOperationReceipt\") {\n        const [userOpHash] = params;\n        if (receipts.has(userOpHash)) return receipts.get(userOpHash)!;\n\n        const event = getAbiItem({\n          abi: entryPoint06Abi,\n          name: \"UserOperationEvent\",\n        });\n\n        const log = (\n          await getLogs(executor, {\n            address: [entryPoint06Address, entryPoint07Address, entryPoint08Address],\n            event,\n            args: { userOpHash },\n          })\n        ).at(0);\n\n        if (!log) return null;\n        const hash = log.transactionHash;\n        const receipt = await getTransactionReceipt(executor, { hash });\n\n        const userOpReceipt = getUserOperationReceipt(userOpHash, {\n          ...receipt,\n          blobGasPrice: receipt.blobGasPrice ? numberToHex(receipt.blobGasPrice) : undefined,\n          blobGasUsed: receipt.blobGasUsed ? numberToHex(receipt.blobGasUsed) : undefined,\n          blockNumber: numberToHex(receipt.blockNumber),\n          cumulativeGasUsed: numberToHex(receipt.cumulativeGasUsed),\n          effectiveGasPrice: numberToHex(receipt.effectiveGasPrice),\n          gasUsed: numberToHex(receipt.gasUsed),\n          logs: receipt.logs.map((log) => ({\n            ...log,\n            blockNumber: numberToHex(log.blockNumber),\n            logIndex: numberToHex(log.logIndex),\n            transactionIndex: numberToHex(log.transactionIndex),\n          })),\n          status: receipt.status as never,\n          transactionIndex: numberToHex(receipt.transactionIndex),\n        });\n\n        return userOpReceipt;\n      }\n\n      if (method === \"eth_estimateUserOperationGas\") {\n        return await estimateUserOperationGas(params);\n      }\n\n      debug(`userOpExecutor: method \"${method}\" not overridden, falling back to fallback transport`);\n      const { request: fallbackRequest } = fallbackDefaultTransport(opts);\n\n      return fallbackRequest({ method, params });\n    };\n\n    return createTransport({\n      key: \"userOpExecutor\",\n      type: \"userOpExecutor\",\n      name: \"User Operation Executor Transport\",\n      request: request as EIP1193RequestFn,\n    });\n  };\n}\n","import { transactionQueue } from \"@latticexyz/common/actions\";\nimport { Chain, createClient, fallback, http, keccak256, stringToHex, webSocket } from \"viem\";\nimport { privateKeyToAccount } from \"viem/accounts\";\nimport { userOpExecutor } from \"./quarry/transports/userOpExecutor\";\nimport { wiresaw } from \"@latticexyz/common/internal\";\n\nexport function getBundlerTransport(chain: Chain) {\n  if (\"wiresaw\" in chain.rpcUrls) {\n    return wiresaw();\n  }\n\n  // TODO: bundler websocket\n  const bundlerHttpUrl = chain.rpcUrls.bundler?.http[0];\n  if (bundlerHttpUrl) {\n    return http(bundlerHttpUrl);\n  }\n\n  if (chain.id === 31337) {\n    return userOpExecutor({\n      executor: createClient({\n        chain,\n        transport: fallback([webSocket(), http()]),\n        account: privateKeyToAccount(keccak256(stringToHex(\"local user op executor\"))),\n        pollingInterval: 10,\n      }).extend(transactionQueue()),\n      fallbackDefaultTransport: http(),\n    });\n  }\n\n  throw new Error(`Chain ${chain.id} config did not include a bundler RPC URL.`);\n}\n","import { createContext, useContext, type ReactNode } from \"react\";\nimport { EntryKitConfig } from \"./config/output\";\nimport { Chain } from \"viem\";\nimport { useChains } from \"wagmi\";\nimport { getBundlerTransport } from \"./getBundlerTransport\";\nimport { ConnectKitProvider } from \"connectkit\";\n\ntype ContextValue = EntryKitConfig & {\n  chain: Chain;\n};\n\n/** @internal */\nconst Context = createContext<ContextValue | null>(null);\n\nexport type Props = {\n  config: EntryKitConfig;\n  children?: ReactNode;\n};\n\nexport function EntryKitConfigProvider({ config, children }: Props) {\n  const currentConfig = useContext(Context);\n  if (currentConfig) throw new Error(\"`EntryKitProvider` can only be used once.\");\n\n  // TODO: move chain-based lookups to function so we can reuse here and in passkeyConnector\n\n  const chains = useChains();\n  const chain = chains.find(({ id }) => id === config.chainId);\n  if (!chain) throw new Error(`Could not find configured chain for chain ID ${config.chainId}.`);\n\n  // This throws when no we can't find a bundler to talk to, so use it to validate the chain.\n  getBundlerTransport(chain);\n\n  return (\n    <ConnectKitProvider\n      theme=\"midnight\"\n      options={{\n        enforceSupportedChains: true,\n        // Prevent Wagmi trying to switch chains after connection\n        // https://github.com/wevm/wagmi/blob/f5b717ccf8a5b283263cadc984ba00b354bcefae/packages/core/src/connectors/injected.ts#L174-L182\n        initialChainId: chain.id,\n      }}\n    >\n      <Context.Provider value={{ ...config, chain }}>{children}</Context.Provider>\n    </ConnectKitProvider>\n  );\n}\n\nexport function useEntryKitConfig(): ContextValue {\n  const config = useContext(Context);\n  if (!config) throw new Error(\"`useEntryKitConfig` can only be used within a `EntryKitProvider`.\");\n  return config;\n}\n","import { useMediaQuery } from \"usehooks-ts\";\nimport { useEntryKitConfig } from \"./EntryKitConfigProvider\";\n\nexport function useTheme() {\n  const { theme: initialTheme } = useEntryKitConfig();\n  const darkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n  const theme = initialTheme ?? (darkMode ? \"dark\" : \"light\");\n  return theme;\n}\n","import { CSSProperties, HTMLProps, ReactNode, forwardRef, useEffect, useRef, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport css from \"tailwindcss/tailwind.css?inline\";\nimport { useResizeObserver } from \"usehooks-ts\";\nimport { mergeRefs } from \"react-merge-refs\";\nimport { FrameProvider } from \"./FrameProvider\";\nimport { useTheme } from \"../useTheme\";\n\nexport type Props = {\n  mode: \"modal\" | \"child\";\n  children: ReactNode;\n};\n\nfunction Resizer({\n  onSize,\n  ...props\n}: {\n  onSize: (size: { width: number | undefined; height: number | undefined }) => void;\n} & HTMLProps<HTMLDivElement>) {\n  const ref = useRef<HTMLDivElement | null>(null);\n  useResizeObserver({ ref, onResize: onSize });\n  return <div ref={ref} {...props} style={{ ...props.style, display: \"inline-grid\" }} />;\n}\n\n// TODO: make a container inside the iframe that is at least the size of the window, render content into that so we can correctly measure size relative to window\n//       otherwise as the iframe shrinks, the measurement will be based on that shrunk value and it'll never get bigger, only smaller\n\nexport const Shadow = forwardRef<HTMLIFrameElement, Props>(function Shadow({ mode, children }, forwardedRef) {\n  const frameRef = useRef<HTMLIFrameElement | null>(null);\n  const [loaded, setLoaded] = useState(false);\n  const frame = loaded ? frameRef.current : null;\n\n  const [frameSize, setFrameSize] = useState<{ width: number | undefined; height: number | undefined }>({\n    width: undefined,\n    height: undefined,\n  });\n\n  const frameDocument = frame?.contentDocument;\n  const theme = useTheme();\n  useEffect(() => {\n    if (frameDocument) {\n      frameDocument.body.setAttribute(\"data-theme\", theme);\n    }\n  }, [frameDocument, theme]);\n\n  const frameStyle: CSSProperties =\n    mode === \"modal\"\n      ? {\n          all: \"unset\",\n          display: \"block\",\n          position: \"fixed\",\n          inset: \"0\",\n          width: \"100%\",\n          height: \"100%\",\n          // one less than ConnectKit's modal z-index\n          // so that ConnectKit can overlap properly\n          zIndex: \"2147483645\",\n        }\n      : frameSize.width && frameSize.height\n        ? {\n            all: \"unset\",\n            display: \"inline-grid\",\n            width: `${frameSize.width}px`,\n            height: `${frameSize.height}px`,\n          }\n        : {\n            all: \"unset\",\n            display: \"block\",\n            position: \"fixed\",\n            inset: \"0\",\n            width: \"100%\",\n            height: \"100%\",\n            opacity: 0,\n            pointerEvents: \"none\",\n          };\n\n  return (\n    <iframe\n      ref={mergeRefs([forwardedRef, frameRef])}\n      style={frameStyle}\n      onLoad={() => setLoaded(true)}\n      srcDoc=\"<!doctype html><title></title>\"\n    >\n      {frameDocument\n        ? ReactDOM.createPortal(\n            <FrameProvider frame={frame}>\n              {/*\n               * TODO: make this the size of the outer window so that any container-based resizing in iframe\n               *       is done from that rather than the potentially-small size of this iframe\n               */}\n              <div>{mode === \"modal\" ? children : <Resizer onSize={setFrameSize}>{children}</Resizer>}</div>\n              <style dangerouslySetInnerHTML={{ __html: css }} />\n            </FrameProvider>,\n            frameDocument.body,\n          )\n        : null}\n    </iframe>\n  );\n});\n","import { ReactNode, useEffect } from \"react\";\nimport {\n  Root as DialogRoot,\n  DialogPortal,\n  DialogContent,\n  DialogTitle,\n  DialogDescription,\n} from \"@radix-ui/react-dialog\";\nimport { Shadow } from \"./Shadow\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  children: ReactNode;\n};\n\nexport function Modal({ open, onOpenChange, children }: Props) {\n  // Focus trapping doesn't seem to completely work with our iframe approach,\n  // so tabbing until you get to the document body means Escape doesn't work.\n  // We'll patch this behavior for now with our own listener.\n  useEffect(() => {\n    function onKeyDown(event: KeyboardEvent) {\n      if (event.defaultPrevented) return;\n\n      if (event.key === \"Escape\" && open) {\n        event.preventDefault();\n        onOpenChange?.(false);\n      }\n    }\n\n    window.addEventListener(\"keydown\", onKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [onOpenChange, open]);\n\n  return (\n    <DialogRoot open={open} onOpenChange={onOpenChange}>\n      {/* This intentionally does not use `<DialogTrigger>` because it doesn't play nicely with `<Shadow>` trigger (our primary use case). */}\n      <DialogPortal>\n        <Shadow mode=\"modal\">\n          {/**\n           * This intentionally does not use `<DialogOverlay>` due to an issue it causes with scrolling the modal contents.\n           * See https://github.com/radix-ui/primitives/issues/1159#issuecomment-1105320294\n           */}\n          <div className={twMerge(\"fixed inset-0\", \"bg-neutral-800/85\", \"animate-in animate-duration-300 fade-in\")} />\n          <div\n            className={twMerge(\n              \"fixed inset-0\",\n              \"grid items-end sm:items-center\",\n              \"animate-in animate-duration-300 fade-in slide-in-from-bottom-16\",\n            )}\n          >\n            <div>\n              <DialogContent className=\"outline-none w-full max-w-[26rem] mx-auto\">\n                <DialogTitle className=\"sr-only\">EntryKit</DialogTitle>\n                <DialogDescription className=\"sr-only\">Sign in to this app</DialogDescription>\n\n                {children}\n              </DialogContent>\n            </div>\n          </div>\n        </Shadow>\n      </DialogPortal>\n    </DialogRoot>\n  );\n}\n","import { useCallback, useMemo } from \"react\";\nimport { useStore } from \"zustand\";\nimport { createStore } from \"zustand/vanilla\";\n\nconst store = createStore(() => ({ open: false }));\n\nexport type UseAccountModalResult = {\n  readonly accountModalOpen: boolean;\n  readonly openAccountModal: () => void;\n  readonly closeAccountModal: () => void;\n  readonly toggleAccountModal: (open: boolean) => void;\n};\n\nexport function useAccountModal(): UseAccountModalResult {\n  const accountModalOpen = useStore(store, (state) => state.open);\n\n  const openAccountModal = useCallback(() => {\n    store.setState({ open: true });\n  }, []);\n\n  const closeAccountModal = useCallback(() => {\n    store.setState({ open: false });\n  }, []);\n\n  const toggleAccountModal = useCallback((open: boolean) => {\n    store.setState({ open: open });\n  }, []);\n\n  return useMemo(\n    () => ({\n      accountModalOpen,\n      openAccountModal,\n      closeAccountModal,\n      toggleAccountModal,\n    }),\n    [accountModalOpen, openAccountModal, closeAccountModal, toggleAccountModal],\n  );\n}\n","import { DetailedHTMLProps, SVGAttributes } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = DetailedHTMLProps<SVGAttributes<SVGSVGElement>, SVGSVGElement>;\n\nexport function PendingIcon({ className, ...props }: Props) {\n  return (\n    <svg\n      className={twMerge(\"-my-[0.125em] h-[1.25em] w-[1.25em] animate-spin\", className)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      {...props}\n    >\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n      <path\n        className=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      />\n    </svg>\n  );\n}\n","/* eslint-disable max-len */\nimport { ButtonHTMLAttributes, DetailedHTMLProps } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\nimport { PendingIcon } from \"../icons/PendingIcon\";\n\n// TODO: add support for async onClick, where pending is enabled automatically\n// TODO: add error state with popover/tooltip\n\ntype ButtonClassNameOptions = {\n  variant?: \"primary\" | \"secondary\" | \"tertiary\";\n  pending?: boolean;\n};\n\nconst buttonClassName = ({ variant = \"secondary\" }: ButtonClassNameOptions = {}) =>\n  twMerge(\n    \"group/button self-center leading-none outline-none border-4 border-transparent\",\n    \"transition hover:brightness-125 active:brightness-150\",\n    \"focus:border-orange-500\",\n    \"aria-disabled:pointer-events-none aria-busy:pointer-events-none\",\n    // TODO: better disabled state\n    \"aria-disabled:opacity-50\",\n    \"p-[.75em] font-medium\",\n    {\n      primary: twMerge(\"bg-orange-600 text-white focus:border-yellow-400\"),\n      secondary: twMerge(\"bg-neutral-700 text-white focus:border-orange-500\"),\n      tertiary: twMerge(\"bg-neutral-800 text-white focus:border-orange-500\"),\n    }[variant],\n  );\n\nexport type ButtonProps = {\n  pending?: boolean;\n  variant?: ButtonClassNameOptions[\"variant\"];\n};\n\nexport type Props = ButtonProps & DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>;\n\nexport const Button = ({ pending, variant, type, className, children, disabled, ...props }: Props) => {\n  return (\n    <button\n      type={type || \"button\"}\n      className={twMerge(buttonClassName({ variant, pending }), className)}\n      aria-busy={pending}\n      aria-disabled={disabled}\n      disabled={disabled || pending}\n      {...props}\n    >\n      <span className=\"grid grid-cols-[1fr_auto_1fr] gap-2\">\n        <span className=\"flex items-center justify-end text-[.75em]\">\n          <span className=\"transition opacity-0 translate-x-2 group-aria-busy/button:opacity-100 group-aria-busy/button:translate-x-0 duration-100 group-aria-busy/button:duration-300\">\n            <PendingIcon />\n          </span>\n        </span>\n        <span>{children}</span>\n      </span>\n    </button>\n  );\n};\n","import { DetailedHTMLProps, SVGAttributes } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = DetailedHTMLProps<SVGAttributes<SVGSVGElement>, SVGSVGElement>;\n\nexport function Logo({ className, ...props }: Props) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 8 8\"\n      fill=\"currentColor\"\n      shapeRendering=\"crispEdges\"\n      className={twMerge(\"-my-[0.125em] h-[1.25em] w-[1.25em]\", className)}\n      {...props}\n    >\n      {/* eslint-disable-next-line max-len */}\n      <path d=\"M0 0h1v1H0zm0 1h1v1H0zm0 1h1v1H0zm0 1h1v1H0zm0 1h1v1H0zm0 1h1v1H0zm0 1h1v1H0zm0 1h1v1H0zm1 0h1v1H1zm1 0h1v1H2zm1 0h1v1H3zm1 0h1v1H4zm1 0h1v1H5zm2-1h1v1H7zm0 1h1v1H7zM6 7h1v1H6zm1-2h1v1H7zm0-1h1v1H7zm0-1h1v1H7z\" />\n      <path\n        d=\"M2 2h1v1H2zm0 1h1v1H2zm0 1h1v1H2zm0 1h1v1H2zm1-3h1v1H3zm1 0h1v1H4zm1 0h1v1H5zm0 1h1v1H5zm0 1h1v1H5zm0 1h1v1H5zM4 5h1v1H4zM3 5h1v1H3z\"\n        opacity=\".5\"\n      />\n      <path d=\"M7 2h1v1H7zm0-1h1v1H7zM1 0h1v1H1zm1 0h1v1H2zm1 0h1v1H3zm1 0h1v1H4zm1 0h1v1H5zm1 0h1v1H6zm1 0h1v1H7z\" />\n    </svg>\n  );\n}\n","import { useQuery } from \"@tanstack/react-query\";\n\nexport function usePreloadImage(url: string | undefined) {\n  return useQuery({\n    enabled: !!url,\n    retry: false,\n    retryOnMount: false,\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n    queryKey: [\"preloadImage\", url],\n    queryFn: () =>\n      new Promise<InstanceType<typeof Image>>((resolve, reject) => {\n        if (!url) throw new Error(\"usePreloadImage: Must provide `url` to preload image.\");\n        const image = new Image();\n        image.onload = () => resolve(image);\n        image.onerror = () => reject(new Error(`usePreloadImage: Could not load image.\\n\\n\\tURL: ${url}`));\n        image.src = url;\n      }),\n  });\n}\n","import { useEntryKitConfig } from \"./EntryKitConfigProvider\";\nimport { Logo } from \"./icons/Logo\";\nimport { usePreloadImage } from \"./usePreloadImage\";\n\nexport function AppInfo() {\n  const { appName, appIcon } = useEntryKitConfig();\n  const { data: hasAppIcon, isLoading: appIconLoading } = usePreloadImage(appIcon);\n\n  return (\n    <div className=\"flex-grow flex flex-col items-center justify-center gap-2\">\n      <div className=\"w-16 h-16 m-2\">\n        {!appIconLoading ? (\n          hasAppIcon ? (\n            <img src={appIcon} className=\"w-full h-full object-cover\" />\n          ) : (\n            // TODO: swap with favicon\n            <Logo className=\"w-full h-full text-orange-500 bg-neutral-800\" />\n          )\n        ) : null}\n      </div>\n      <div className=\"text-2xl text-white text-center\">{appName}</div>\n    </div>\n  );\n}\n","import { Button } from \"./ui/Button\";\nimport { useModal } from \"connectkit\";\nimport { AppInfo } from \"./AppInfo\";\nimport { twMerge } from \"tailwind-merge\";\nimport { useEffect, useRef } from \"react\";\nimport { useConnect, useConnectors } from \"wagmi\";\nimport { IdPlaceConnector, isIdPlaceConnector } from \"@latticexyz/id.place/internal\";\nimport { useEntryKitConfig } from \"./EntryKitConfigProvider\";\n\nexport function ConnectWallet() {\n  const connectors = useConnectors();\n  const porto = connectors.find(isIdPlaceConnector);\n\n  // TODO: show error states?\n\n  return (\n    <div\n      className={twMerge(\"flex flex-col gap-6 p-6\", \"animate-in animate-duration-300 fade-in slide-in-from-bottom-8\")}\n    >\n      <div className=\"p-4\">\n        {/* TODO: render appImage if available? */}\n        <AppInfo />\n      </div>\n      <div className=\"self-center flex flex-col gap-2 w-60\">\n        {porto ? <AccountButton connector={porto} /> : <WalletButton />}\n      </div>\n    </div>\n  );\n}\n\nfunction AccountButton({ connector }: { connector: IdPlaceConnector }) {\n  const { setOpen } = useModal();\n  const { connect, isPending, error } = useConnect();\n  const { chainId } = useEntryKitConfig();\n\n  if (error) {\n    console.error(\"connect error\", error);\n  }\n\n  return (\n    <>\n      <Button\n        key=\"signin\"\n        variant=\"secondary\"\n        className=\"self-auto flex justify-center\"\n        pending={isPending}\n        onClick={() =>\n          connect({\n            connector,\n            // need to provide both `chainId` and `capabilities` to the\n            // Porto connector so a fresh browser instance reusing a synced passkey\n            // can be bound to the correct chain ID for the account\n            chainId,\n            capabilities: {},\n          })\n        }\n        autoFocus\n      >\n        Sign in\n      </Button>\n      <button\n        className=\"text-sm self-center transition text-neutral-500 hover:text-white p-2\"\n        onClick={() => setOpen(true)}\n      >\n        Already have a wallet?\n      </button>\n    </>\n  );\n}\n\nfunction WalletButton() {\n  const { open, setOpen } = useModal();\n  const hasAutoOpenedRef = useRef(false);\n\n  useEffect(() => {\n    if (!open && !hasAutoOpenedRef.current) {\n      setOpen(true);\n      hasAutoOpenedRef.current = true;\n    }\n  }, [open, setOpen]);\n\n  return (\n    <>\n      <Button\n        key=\"create\"\n        variant=\"secondary\"\n        className=\"self-auto flex justify-center\"\n        onClick={() => setOpen(true)}\n        autoFocus\n      >\n        Connect wallet\n      </Button>\n    </>\n  );\n}\n","import { defineStore } from \"@latticexyz/store\";\nimport { parseAbi } from \"viem\";\n\n// TODO: import this from quarry-paymaster\n\nexport const paymasterAbi = parseAbi([\n  // AllowanceSystem\n  \"error AllowanceSystem_InsufficientAllowance(uint256 allowance, uint256 required)\",\n  \"error AllowanceSystem_NotAuthorized(address caller, address sponsor, address user)\",\n  \"error AllowanceSystem_NotFound(address user, address sponsor)\",\n  \"function removeAllowance(address user, address sponsor)\",\n  \"function getAllowance(address user) view returns (uint256)\",\n  // GrantSystem\n  \"error GrantSystem_AllowanceBelowMinimum(uint256 allowance, uint256 min)\",\n  \"error GrantSystem_AllowancesLimitReached(uint256 length, uint256 max)\",\n  \"error GrantSystem_InsufficientBalance(uint256 balance, uint256 required)\",\n  \"function grantAllowance(address user, uint256 allowance) payable\",\n  // BalanceSystem\n  \"error BalanceSystem_InsufficientBalance(address user, uint256 amount, uint256 balance)\",\n  \"function depositTo(address to) payable\",\n  \"function withdrawTo(address to, uint256 amount)\",\n  // SpenderSystem\n  \"error SpenderSystem_AlreadyRegistered(address spender, address user)\",\n  \"error SpenderSystem_HasOwnBalance(address spender)\",\n  \"function registerSpender(address spender)\",\n  // PaymasterSystem\n  \"error PaymasterSystem_InsufficientFunds(address user, uint256 maxCost, uint256 availableAllowance, uint256 availableBalance)\",\n  \"error PaymasterSystem_OnlyEntryPoint()\",\n]);\n\nexport const paymasterConfig = defineStore({\n  namespaces: {\n    root: {\n      namespace: \"\",\n      tables: {\n        // Balance gets deposited and is withdrawable\n        Balance: {\n          schema: {\n            user: \"address\",\n            balance: \"uint256\",\n          },\n          key: [\"user\"],\n        },\n        // Allowance gets granted and is not withdrawable\n        // Allowance is organized as a linked list and gets spent from smallest to largest\n        Allowance: {\n          name: \"AllowanceV2\",\n          schema: {\n            user: \"address\",\n            sponsor: \"address\",\n            allowance: \"uint256\",\n            next: \"address\",\n            previous: \"address\",\n          },\n          key: [\"user\", \"sponsor\"],\n        },\n        AllowanceList: {\n          schema: {\n            user: \"address\",\n            first: \"address\",\n            length: \"uint256\",\n          },\n          key: [\"user\"],\n        },\n        Spender: {\n          schema: {\n            spender: \"address\",\n            user: \"address\",\n          },\n          key: [\"spender\"],\n        },\n        SystemConfig: {\n          schema: {\n            entryPoint: \"address\",\n          },\n          key: [],\n        },\n      },\n    },\n  },\n});\n\nexport const paymasterTables = paymasterConfig.namespaces.root.tables;\n","import { Chain, Hex } from \"viem\";\nimport { BundlerClientConfig } from \"viem/account-abstraction\";\nimport { EntryKitConfig } from \"./config/output\";\n\nexport type Paymaster =\n  | {\n      readonly type: \"simple\" | \"quarry\";\n      readonly address: Hex;\n      readonly canSponsor?: boolean;\n    }\n  | {\n      readonly type: \"custom\";\n      readonly address?: Hex;\n      readonly canSponsor?: undefined;\n      readonly paymasterClient: BundlerClientConfig[\"paymaster\"];\n    };\n\nexport function getPaymaster(\n  chain: Chain,\n  paymasterOverride: EntryKitConfig[\"paymasterOverride\"],\n): Paymaster | undefined {\n  const contracts = chain.contracts ?? {};\n\n  if (paymasterOverride) {\n    return {\n      type: \"custom\",\n      paymasterClient: paymasterOverride,\n    };\n  }\n\n  if (\"quarryPaymaster\" in contracts && contracts.quarryPaymaster != null) {\n    if (\"address\" in contracts.quarryPaymaster) {\n      return {\n        type: \"quarry\",\n        address: contracts.quarryPaymaster.address,\n        canSponsor: !!chain.rpcUrls.quarrySponsor?.http?.[0],\n      };\n    }\n  }\n\n  if (\"paymaster\" in contracts && contracts.paymaster != null) {\n    if (\"address\" in contracts.paymaster) {\n      return {\n        type: \"simple\",\n        address: contracts.paymaster.address,\n      };\n    }\n  }\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { paymasterTables } from \"../../quarry/common\";\nimport { getRecord } from \"@latticexyz/store/internal\";\nimport { getPaymaster } from \"../../getPaymaster\";\n\nexport type GetSpenderParams = {\n  client: Client<Transport, Chain>;\n  userAddress: Address;\n  sessionAddress: Address;\n};\n\nexport async function getSpender({ client, userAddress, sessionAddress }: GetSpenderParams) {\n  const paymaster = getPaymaster(client.chain, undefined);\n  if (paymaster?.type !== \"quarry\") return null;\n\n  const record = await getRecord(client, {\n    address: paymaster.address,\n    table: paymasterTables.Spender,\n    key: { spender: sessionAddress },\n    blockTag: \"pending\",\n  });\n  return record.user.toLowerCase() === userAddress.toLowerCase();\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { useClient } from \"wagmi\";\nimport { queryOptions, skipToken, useQuery } from \"@tanstack/react-query\";\nimport { getSpender } from \"./getSpender\";\n\nexport function getSpenderQueryOptions({\n  client,\n  userAddress,\n  sessionAddress,\n}: {\n  client: Client<Transport, Chain> | undefined;\n  userAddress: Address | undefined;\n  sessionAddress: Address | undefined;\n}) {\n  return queryOptions({\n    queryKey: [\"getSpender\", client?.uid, userAddress, sessionAddress],\n    queryFn:\n      client && userAddress && sessionAddress ? () => getSpender({ client, userAddress, sessionAddress }) : skipToken,\n  });\n}\n\nexport function useSpender(userAddress: Address | undefined, sessionAddress: Address | undefined) {\n  const { chainId } = useEntryKitConfig();\n  const client = useClient({ chainId });\n  return useQuery(getSpenderQueryOptions({ client, userAddress, sessionAddress }));\n}\n","import { resourceToHex } from \"@latticexyz/common\";\nimport { Client, Chain, Transport, Account, parseAbi, ClientConfig, Address, LocalAccount } from \"viem\";\nimport worldConfig from \"@latticexyz/world/mud.config\";\nimport { SmartAccount } from \"viem/account-abstraction\";\n\nexport type ConnectedClient<chain extends Chain = Chain> = Client<Transport, chain, Account>;\nexport type SessionClient<chain extends Chain = Chain> = Client<Transport, chain, SmartAccount> & {\n  readonly userAddress: Address;\n  /**\n   * World address used for delegated calls. Assumes a delegation has been set up between the user account and session account.\n   */\n  readonly worldAddress: Address;\n  /** @internal */\n  readonly internal_signer: LocalAccount;\n};\n\nexport const defaultClientConfig = {\n  pollingInterval: 250,\n} as const satisfies Pick<ClientConfig, \"pollingInterval\">;\n\n// TODO: move to world\nexport const unlimitedDelegationControlId = resourceToHex({ type: \"system\", namespace: \"\", name: \"unlimited\" });\n\nexport const worldTables = worldConfig.namespaces.world.tables;\n\nexport const worldAbi = parseAbi([\n  \"function registerDelegation(address delegatee, bytes32 delegationControlId, bytes initCallData)\",\n]);\n","import { Address, Client } from \"viem\";\nimport { getRecord } from \"@latticexyz/store/internal\";\nimport { unlimitedDelegationControlId, worldTables } from \"../common\";\n\nexport type GetDelegationParams = {\n  client: Client;\n  worldAddress: Address;\n  userAddress: Address;\n  sessionAddress: Address;\n  blockTag?: \"pending\" | \"latest\";\n};\n\n// TODO: rename to `hasDelegation`?\nexport async function getDelegation({\n  client,\n  worldAddress,\n  userAddress,\n  sessionAddress,\n  // TODO: move everything to latest instead of pending\n  blockTag = \"pending\",\n}: GetDelegationParams) {\n  const record = await getRecord(client, {\n    address: worldAddress,\n    table: worldTables.UserDelegationControl,\n    key: { delegator: userAddress, delegatee: sessionAddress },\n    blockTag,\n  });\n  return record.delegationControlId === unlimitedDelegationControlId;\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { useEntryKitConfig } from \"../EntryKitConfigProvider\";\nimport { useClient } from \"wagmi\";\nimport { queryOptions, skipToken, useQuery } from \"@tanstack/react-query\";\nimport { getDelegation } from \"./getDelegation\";\n\nexport function getDelegationQueryOptions({\n  client,\n  worldAddress,\n  userAddress,\n  sessionAddress,\n}: {\n  client: Client<Transport, Chain> | undefined;\n  worldAddress: Address;\n  userAddress: Address | undefined;\n  sessionAddress: Address | undefined;\n}) {\n  return queryOptions({\n    queryKey: [\"getDelegation\", client?.uid, worldAddress, userAddress, sessionAddress],\n    queryFn:\n      client && userAddress && sessionAddress\n        ? () => getDelegation({ client, worldAddress, userAddress, sessionAddress })\n        : skipToken,\n  });\n}\n\nexport function useDelegation(userAddress: Address | undefined, sessionAddress: Address | undefined) {\n  const { chainId, worldAddress } = useEntryKitConfig();\n  const client = useClient({ chainId });\n  return useQuery(getDelegationQueryOptions({ client, worldAddress, userAddress, sessionAddress }));\n}\n","import { createStore } from \"zustand/vanilla\";\nimport { persist } from \"zustand/middleware\";\nimport { Address, Hex } from \"viem\";\n\nexport type State = {\n  readonly signers: {\n    readonly [key in Address]?: Hex;\n  };\n};\n\nexport const store = createStore(\n  persist<State>(\n    () => ({\n      signers: {},\n    }),\n    {\n      name: \"mud:entrykit\",\n      partialize: ({ signers }) => ({ signers }),\n    },\n  ),\n);\n\n// keep store in sync across tabs/windows via storage event\nfunction listener(event: StorageEvent) {\n  if (event.key === store.persist.getOptions().name) {\n    store.persist.rehydrate();\n  }\n}\n\nif (typeof window !== \"undefined\") {\n  window.addEventListener(\"storage\", listener);\n}\n","import { Address, isHex } from \"viem\";\nimport { store } from \"./store\";\nimport { generatePrivateKey, privateKeyToAccount } from \"viem/accounts\";\n\nexport function getSessionSigner(userAddress: Address) {\n  const label = userAddress.toLowerCase() as Address;\n  const sessionSignerPrivateKey =\n    store.getState().signers[label] ??\n    (() => {\n      // attempt to reuse previous AccountKit session\n      const deprecatedPrivateKey = localStorage\n        .getItem(`mud:appSigner:privateKey:${userAddress.toLowerCase()}`)\n        ?.replace(/^\"(.*)\"$/, \"$1\");\n      const privateKey = isHex(deprecatedPrivateKey) ? deprecatedPrivateKey : generatePrivateKey();\n      store.setState((state) => ({\n        signers: {\n          ...state.signers,\n          [label]: privateKey,\n        },\n      }));\n      return privateKey;\n    })();\n\n  return privateKeyToAccount(sessionSignerPrivateKey);\n}\n","import { Address, Chain, Client, LocalAccount, Transport } from \"viem\";\nimport { SmartAccount } from \"viem/account-abstraction\";\nimport { toSimpleSmartAccount } from \"permissionless/accounts\";\nimport { getSessionSigner } from \"./getSessionSigner\";\n\nexport type GetSessionAccountReturnType = {\n  readonly account: SmartAccount;\n  readonly signer: LocalAccount;\n};\n\nexport async function getSessionAccount<chain extends Chain>({\n  client,\n  userAddress,\n}: {\n  client: Client<Transport, chain>;\n  userAddress: Address;\n}): Promise<GetSessionAccountReturnType> {\n  const signer = getSessionSigner(userAddress);\n  const account = await toSimpleSmartAccount({ client, owner: signer });\n  return { account, signer };\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { useEntryKitConfig } from \"./EntryKitConfigProvider\";\nimport { useClient } from \"wagmi\";\nimport { UndefinedInitialDataOptions, UseQueryResult, queryOptions, skipToken, useQuery } from \"@tanstack/react-query\";\nimport { GetSessionAccountReturnType, getSessionAccount } from \"./getSessionAccount\";\n\nexport function getSessionAccountQueryOptions({\n  client,\n  userAddress,\n}: {\n  client: Client<Transport, Chain> | undefined;\n  userAddress: Address | undefined;\n}): UndefinedInitialDataOptions<GetSessionAccountReturnType> {\n  return queryOptions<GetSessionAccountReturnType>({\n    queryKey: [\"getSessionAccount\", client?.uid, userAddress],\n    queryFn: client && userAddress ? () => getSessionAccount({ client, userAddress }) : skipToken,\n    staleTime: Infinity,\n    // TODO: replace with function to retry only connection errors\n    retry: false,\n  });\n}\n\nexport function useSessionAccount(userAddress: Address | undefined): UseQueryResult<GetSessionAccountReturnType> {\n  const { chainId } = useEntryKitConfig();\n  const client = useClient({ chainId });\n  return useQuery(getSessionAccountQueryOptions({ userAddress, client }));\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { readContract } from \"viem/actions\";\nimport { getAction } from \"viem/utils\";\nimport { paymasterAbi } from \"./common\";\nimport { getPaymaster } from \"../getPaymaster\";\n\nexport type GetAllowanceParams = {\n  client: Client<Transport, Chain>;\n  userAddress: Address;\n};\n\nexport async function getAllowance({ client, userAddress }: GetAllowanceParams): Promise<null | bigint> {\n  const paymaster = getPaymaster(client.chain, undefined);\n  if (paymaster?.type !== \"quarry\") return null;\n\n  return await getAction(\n    client,\n    readContract,\n    \"readContract\",\n  )({\n    address: paymaster.address,\n    abi: paymasterAbi,\n    functionName: \"getAllowance\",\n    args: [userAddress],\n  });\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { useClient } from \"wagmi\";\nimport { queryOptions, skipToken, useQuery } from \"@tanstack/react-query\";\nimport { getAllowance } from \"../../quarry/getAllowance\";\n\nexport function getAllowanceQueryOptions({\n  client,\n  userAddress,\n}: {\n  client: Client<Transport, Chain> | undefined;\n  userAddress: Address | undefined;\n}) {\n  return queryOptions({\n    queryKey: [\"getAllowance\", client?.uid, userAddress],\n    queryFn: client && userAddress ? () => getAllowance({ client, userAddress }) : skipToken,\n  });\n}\n\nexport function useAllowance(userAddress: Address | undefined) {\n  const { chainId } = useEntryKitConfig();\n  const client = useClient({ chainId });\n  return useQuery(getAllowanceQueryOptions({ client, userAddress }));\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { paymasterTables } from \"./common\";\nimport { getRecord } from \"@latticexyz/store/internal\";\nimport { getPaymaster } from \"../getPaymaster\";\n\nexport type GetBalanceParams = {\n  client: Client<Transport, Chain>;\n  userAddress: Address;\n};\n\nexport async function getBalance({ client, userAddress }: GetBalanceParams) {\n  const paymaster = getPaymaster(client.chain, undefined);\n  if (paymaster?.type !== \"quarry\") return null;\n\n  const record = await getRecord(client, {\n    address: paymaster.address,\n    table: paymasterTables.Balance,\n    key: { user: userAddress },\n    blockTag: \"pending\",\n  });\n  return record.balance;\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { useClient } from \"wagmi\";\nimport { queryOptions, skipToken, useQuery } from \"@tanstack/react-query\";\nimport { getBalance } from \"../../quarry/getBalance\";\n\nexport function getBalanceQueryOptions({\n  client,\n  userAddress,\n}: {\n  client: Client<Transport, Chain> | undefined;\n  userAddress: Address | undefined;\n}) {\n  return queryOptions({\n    queryKey: [\"getBalance\", client?.uid, userAddress],\n    queryFn: client && userAddress ? () => getBalance({ client, userAddress }) : skipToken,\n  });\n}\n\nexport function useBalance(userAddress: Address | undefined) {\n  const { chainId } = useEntryKitConfig();\n  const client = useClient({ chainId });\n  return useQuery(getBalanceQueryOptions({ client, userAddress }));\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { Config, useClient, useConfig } from \"wagmi\";\nimport { getBalanceQueryOptions } from \"wagmi/query\";\nimport { QueryClient, queryOptions, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getAllowanceQueryOptions } from \"./onboarding/quarry/useAllowance\";\nimport { useEntryKitConfig } from \"./EntryKitConfigProvider\";\nimport { getSessionAccountQueryOptions } from \"./useSessionAccount\";\nimport { getBalanceQueryOptions as getQuarryBalanceQueryOptions } from \"./onboarding/quarry/useBalance\";\n\nexport function getFundsQueryOptions({\n  queryClient,\n  config,\n  client,\n  userAddress,\n}: {\n  queryClient: QueryClient;\n  config: Config;\n  client: Client<Transport, Chain> | undefined;\n  userAddress: Address | undefined;\n}) {\n  return queryOptions({\n    queryKey: [\"getFunds\", client?.uid, userAddress],\n    queryFn: async () => {\n      if (!client) throw new Error(\"Viem client not ready.\");\n      if (!userAddress) throw new Error(\"User not connected.\");\n\n      const {\n        account: { address: sessionAddress },\n      } = await queryClient.fetchQuery(getSessionAccountQueryOptions({ client, userAddress }));\n\n      const [sessionBalance, paymasterAllowance, paymasterBalance] = await Promise.all([\n        queryClient.fetchQuery(getBalanceQueryOptions(config, { chainId: client.chain.id, address: sessionAddress })),\n        queryClient.fetchQuery(getAllowanceQueryOptions({ client, userAddress })),\n        queryClient.fetchQuery(getQuarryBalanceQueryOptions({ client, userAddress })),\n      ]);\n\n      return {\n        sessionBalance: sessionBalance?.value ?? null,\n        paymasterAllowance,\n        paymasterBalance,\n      };\n    },\n    retry: false,\n  });\n}\n\nexport function useFunds(userAddress: Address | undefined) {\n  const queryClient = useQueryClient();\n  const config = useConfig();\n  const { chainId } = useEntryKitConfig();\n  const client = useClient({ chainId });\n\n  return useQuery(getFundsQueryOptions({ queryClient, config, client, userAddress }), queryClient);\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { Config, useClient, useConfig } from \"wagmi\";\nimport { QueryClient, queryOptions, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { getSpenderQueryOptions } from \"./quarry/useSpender\";\nimport { getDelegationQueryOptions } from \"./useDelegation\";\nimport { useEntryKitConfig } from \"../EntryKitConfigProvider\";\nimport { getSessionAccountQueryOptions } from \"../useSessionAccount\";\nimport { getFundsQueryOptions } from \"../useFunds\";\n\nexport function getPrequisitesQueryOptions({\n  queryClient,\n  config,\n  client,\n  userAddress,\n  worldAddress,\n}: {\n  queryClient: QueryClient;\n  config: Config;\n  client: Client<Transport, Chain> | undefined;\n  userAddress: Address | undefined;\n  worldAddress: Address;\n}) {\n  return queryOptions({\n    queryKey: [\"getPrerequisites\", client?.uid, userAddress],\n    queryFn: async () => {\n      if (!client) throw new Error(\"Viem client not ready.\");\n      if (!userAddress) throw new Error(\"User not connected.\");\n\n      const {\n        account: { address: sessionAddress },\n      } = await queryClient.fetchQuery(getSessionAccountQueryOptions({ client, userAddress }));\n\n      const [funds, spender, hasDelegation] = await Promise.all([\n        queryClient.fetchQuery(getFundsQueryOptions({ queryClient, config, client, userAddress })),\n        queryClient.fetchQuery(getSpenderQueryOptions({ client, userAddress, sessionAddress })),\n        queryClient.fetchQuery(getDelegationQueryOptions({ client, worldAddress, userAddress, sessionAddress })),\n      ]);\n\n      // TODO: figure out better approach than null for allowance/spender when no quarry paymaster\n      const hasAllowance = funds.paymasterAllowance == null || funds.paymasterAllowance > 0n;\n      const isSpender = spender == null ? true : spender;\n      const hasGasBalance = funds.sessionBalance == null || funds.sessionBalance > 0n;\n      const hasQuarryGasBalance = funds.paymasterBalance == null || funds.paymasterBalance > 0n;\n\n      return {\n        sessionAddress,\n        hasAllowance,\n        isSpender,\n        hasGasBalance,\n        hasQuarryGasBalance,\n        hasDelegation,\n        // we intentionally don't enforce an allowance/gas balance here\n        complete: isSpender && hasDelegation,\n      };\n    },\n    retry: false,\n  });\n}\n\nexport function usePrerequisites(userAddress: Address | undefined) {\n  const queryClient = useQueryClient();\n  const config = useConfig();\n  const { chainId, worldAddress } = useEntryKitConfig();\n  const client = useClient({ chainId });\n\n  // TODO: rework this so it uses other hooks so we avoid having to clear two caches when e.g. topping up\n\n  const prereqs = useQuery(\n    getPrequisitesQueryOptions({\n      queryClient,\n      config,\n      client,\n      userAddress,\n      worldAddress,\n    }),\n    queryClient,\n  );\n  // console.log(\"prereqs\", prereqs.data);\n  return prereqs;\n}\n","import { Hex } from \"viem\";\nimport { useQuery } from \"@tanstack/react-query\";\n\nexport function useENS(address: Hex | undefined) {\n  const normalizedAddress = address?.toLowerCase();\n  return useQuery<{\n    address: string | undefined;\n    name: string | undefined;\n    displayName: string | undefined;\n    avatar: string | undefined;\n  }>({\n    enabled: !!normalizedAddress,\n    queryKey: [\"ens\", normalizedAddress],\n\n    queryFn: async () => {\n      // TODO: typed response\n      const data = await fetch(`https://api.ensideas.com/ens/resolve/${normalizedAddress}`).then((res) => res.json());\n      return {\n        address: data.address ?? undefined,\n        name: data.name ?? undefined,\n        displayName: data.displayName ?? undefined,\n        avatar: data.avatar ?? undefined,\n      };\n    },\n  });\n}\n","import { Hex } from \"viem\";\n\nexport type Props = {\n  hex: Hex;\n};\n\nexport function TruncatedHex({ hex }: Props) {\n  if (hex.length <= 10) {\n    return <span title={hex}>{hex}</span>;\n  }\n\n  return (\n    <span title={hex}>\n      <span className=\"after:select-none after:content-['']\">{hex.slice(0, 6)}</span>\n      <span className=\"tracking-[-1ch] text-transparent\">{hex.slice(6, -4)}</span>\n      {hex.slice(-4)}\n    </span>\n  );\n}\n","import { findCause } from \"@latticexyz/common\";\nimport { createStore } from \"zustand/vanilla\";\n\nexport const store = createStore<{\n  readonly lastId: number;\n  readonly errors: readonly {\n    readonly id: number;\n    readonly error: Error;\n    readonly dismiss?: () => unknown;\n    readonly retry?: () => unknown | Promise<unknown>;\n  }[];\n}>(() => ({\n  lastId: 0,\n  errors: [],\n}));\n\nexport function addError({\n  error,\n  retry,\n  dismiss,\n}: {\n  error: Error;\n  retry?: () => unknown | Promise<unknown>;\n  dismiss?: () => unknown;\n}) {\n  // no need to let users know they rejected\n  if (findCause(error, ({ name }) => name === \"UserRejectedRequestError\")) {\n    return;\n  }\n\n  store.setState((state) => {\n    if (state.errors.some((e) => e.error === error)) {\n      return {};\n    }\n\n    const id = state.lastId + 1;\n    return {\n      lastId: id,\n      errors: [\n        ...state.errors,\n        {\n          id,\n          error,\n          dismiss: dismiss\n            ? () => {\n                removeError(error);\n                dismiss();\n              }\n            : undefined,\n          retry: retry\n            ? async () => {\n                removeError(error);\n                await retry();\n              }\n            : undefined,\n        },\n      ],\n    };\n  });\n\n  return () => {\n    removeError(error);\n  };\n}\n\nexport function removeError(error: Error) {\n  store.setState((state) => ({\n    errors: state.errors.filter((e) => e.error !== error),\n  }));\n}\n","import { UseMutationResult } from \"@tanstack/react-query\";\nimport { addError } from \"./store\";\nimport { useEffect } from \"react\";\n\nexport function useShowMutationError<result extends Pick<UseMutationResult, \"error\" | \"reset\">>(\n  result: result,\n): result {\n  const { error, reset } = result;\n\n  useEffect(() => {\n    if (!error) return;\n    return addError({ error, dismiss: reset });\n  }, [error, reset]);\n\n  return result;\n}\n","import { useDisconnect } from \"wagmi\";\nimport { useENS } from \"../useENS\";\nimport { TruncatedHex } from \"../ui/TruncatedHex\";\nimport { Button } from \"../ui/Button\";\nimport { useAccountModal } from \"../useAccountModal\";\nimport { Hex } from \"viem\";\nimport { useShowMutationError } from \"../errors/useShowMutationError\";\nimport { StepContentProps } from \"./common\";\n\nexport type Props = StepContentProps & {\n  userAddress: Hex;\n};\n\nexport function Wallet({ isActive, isExpanded, userAddress }: Props) {\n  const { data: ens } = useENS(userAddress);\n  const { disconnect, isPending: disconnectIsPending } = useShowMutationError(useDisconnect());\n  const { closeAccountModal } = useAccountModal();\n\n  // TODO: render ENS avatar if available?\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex justify-between gap-4\">\n        <div>\n          <div>Account</div>\n          <div className=\"font-mono text-white\">{ens?.name ?? <TruncatedHex hex={userAddress} />}</div>\n        </div>\n        <Button\n          variant={isActive ? \"primary\" : \"tertiary\"}\n          className=\"flex-shrink-0 text-sm p-1 w-28\"\n          autoFocus={isActive}\n          pending={disconnectIsPending}\n          onClick={() => {\n            closeAccountModal();\n            disconnect();\n          }}\n        >\n          Sign out\n        </Button>\n      </div>\n      {isExpanded ? (\n        <p className=\"text-sm\">Each of your onchain actions in this app is associated with your account.</p>\n      ) : null}\n    </div>\n  );\n}\n","import { Address, ContractFunctionParameters, Abi } from \"viem\";\n\nexport function defineCall<abi extends Abi | readonly unknown[]>(\n  call: Omit<ContractFunctionParameters<abi>, \"address\"> & {\n    to: Address;\n    value?: bigint | undefined;\n  },\n) {\n  return call;\n}\n","import { Address, Chain, Client, Hex, OneOf, Transport, toHex } from \"viem\";\nimport { signTypedData } from \"viem/actions\";\nimport { callWithSignatureTypes } from \"@latticexyz/world-module-callwithsignature/internal\";\nimport { getRecord } from \"@latticexyz/store/internal\";\nimport moduleConfig from \"@latticexyz/world-module-callwithsignature/mud.config\";\nimport { hexToResource } from \"@latticexyz/common\";\nimport { getAction } from \"viem/utils\";\nimport { ConnectedClient } from \"../common\";\n\n// TODO: move this to world package or similar\n\nexport type SignCallOptions<chain extends Chain = Chain> = {\n  userClient: ConnectedClient<chain>;\n  worldAddress: Address;\n  systemId: Hex;\n  callData: Hex;\n} & OneOf<{ nonce: bigint } | { client: Client<Transport, chain> }>;\n\nexport async function signCall<chain extends Chain = Chain>({\n  userClient,\n  worldAddress,\n  systemId,\n  callData,\n  nonce: initialNonce,\n  client,\n}: SignCallOptions<chain>) {\n  const nonce =\n    initialNonce ??\n    (client\n      ? (\n          await getRecord(client, {\n            address: worldAddress,\n            table: moduleConfig.tables.CallWithSignatureNonces,\n            key: { signer: userClient.account.address },\n            blockTag: \"pending\",\n          })\n        ).nonce\n      : 0n);\n\n  const { namespace: systemNamespace, name: systemName } = hexToResource(systemId);\n\n  return await getAction(\n    userClient,\n    signTypedData,\n    \"signTypedData\",\n  )({\n    account: userClient.account,\n    domain: {\n      verifyingContract: worldAddress,\n      salt: toHex(userClient.chain.id, { size: 32 }),\n    },\n    types: callWithSignatureTypes,\n    primaryType: \"Call\",\n    message: {\n      signer: userClient.account.address,\n      systemNamespace,\n      systemName,\n      callData,\n      nonce,\n    },\n  });\n}\n","import { Chain, parseErc6492Signature } from \"viem\";\nimport { writeContract as viem_writeContract } from \"viem/actions\";\nimport { getAction } from \"viem/utils\";\nimport { SignCallOptions, signCall } from \"./signCall\";\nimport CallWithSignatureAbi from \"@latticexyz/world-module-callwithsignature/out/CallWithSignatureSystem.sol/CallWithSignatureSystem.abi.json\";\nimport { ConnectedClient } from \"../common\";\n\n// TODO: move this to world package or similar\n\nexport type CallWithSignatureOptions<chain extends Chain = Chain> = SignCallOptions<chain> & {\n  sessionClient: ConnectedClient;\n};\n\nexport async function callWithSignature<chain extends Chain = Chain>({\n  sessionClient,\n  ...opts\n}: CallWithSignatureOptions<chain>) {\n  const rawSignature = await signCall(opts);\n\n  // TODO: add support for ERC-6492 inside CallWithSignature module\n  const { address, signature } = parseErc6492Signature(rawSignature);\n  if (address != null) {\n    throw new Error(\n      \"ERC-6492 signatures, like from Coinbase Smart Wallet, are not yet supported. Try using a different wallet?\",\n    );\n  }\n\n  return getAction(\n    sessionClient,\n    viem_writeContract,\n    \"writeContract\",\n  )({\n    address: opts.worldAddress,\n    abi: CallWithSignatureAbi,\n    functionName: \"callWithSignature\",\n    args: [opts.userClient.account.address, opts.systemId, opts.callData, signature],\n  } as never);\n}\n","import { Client, EstimateFeesPerGasReturnType } from \"viem\";\nimport { estimateFeesPerGas } from \"viem/actions\";\n\ntype CachedFeesPerGasOptions = {\n  refreshInterval?: number;\n};\n\nexport function cachedFeesPerGas(\n  client: Client,\n  options: CachedFeesPerGasOptions = { refreshInterval: 10_000 },\n): () => Promise<EstimateFeesPerGasReturnType<\"eip1559\">> {\n  let fees: EstimateFeesPerGasReturnType<\"eip1559\"> | null = null;\n\n  async function refreshFees() {\n    fees = await estimateFeesPerGas(client);\n  }\n\n  refreshFees();\n  setInterval(refreshFees, options.refreshInterval);\n\n  return async () => {\n    if (fees) return fees;\n    fees = await estimateFeesPerGas(client);\n    return fees;\n  };\n}\n","import { Transport, Chain, Client, RpcSchema, EstimateFeesPerGasReturnType } from \"viem\";\nimport {\n  BundlerClient,\n  BundlerClientConfig,\n  SmartAccount,\n  createBundlerClient as viem_createBundlerClient,\n} from \"viem/account-abstraction\";\nimport { defaultClientConfig } from \"./common\";\nimport { getPaymaster } from \"./getPaymaster\";\nimport { cachedFeesPerGas } from \"./actions/cachedFeesPerGas\";\n\nexport function createBundlerClient<\n  transport extends Transport,\n  chain extends Chain = Chain,\n  account extends SmartAccount = SmartAccount,\n  client extends Client = Client,\n  rpcSchema extends RpcSchema | undefined = undefined,\n>(\n  config: BundlerClientConfig<transport, chain, account, client, rpcSchema>,\n): BundlerClient<transport, chain, account, client, rpcSchema> {\n  // our generics above enforce this, but `BundlerClientConfig` makes it optional again\n  const client = config.client;\n  if (!client) throw new Error(\"No `client` provided to `createBundlerClient`.\");\n\n  const chain = config.chain ?? client.chain;\n  const paymaster = chain ? getPaymaster(chain, config.paymaster) : undefined;\n\n  // TODO: lift this out to make `createBundlerClient` configurable?\n  return viem_createBundlerClient({\n    ...defaultClientConfig,\n    paymaster: paymaster\n      ? paymaster.type === \"custom\"\n        ? paymaster.paymasterClient\n        : {\n            getPaymasterData: async () => ({\n              paymaster: paymaster.address,\n              paymasterData: \"0x\",\n            }),\n          }\n      : undefined,\n    userOperation: {\n      estimateFeesPerGas: createFeeEstimator(client),\n    },\n    ...config,\n  });\n}\n\nfunction createFeeEstimator(client: Client): undefined | (() => Promise<EstimateFeesPerGasReturnType<\"eip1559\">>) {\n  if (!client.chain) return;\n\n  // anvil hardcodes fee returned by `eth_maxPriorityFeePerGas`\n  // so we override it here to mimick our chains\n  // https://github.com/foundry-rs/foundry/pull/8081#issuecomment-2402002485\n  // TODO: move this to user op executor transport?\n  if (client.chain.id === 31337) {\n    return async () => ({ maxFeePerGas: 100_000n, maxPriorityFeePerGas: 0n });\n  }\n\n  // do our own fee calculation for redstone, garnet, pyrope chains\n  // to avoid the default RPC call to `eth_getBlockByNumber`\n  // https://github.com/wevm/viem/blob/3aa882692d2c4af3f5e9cc152099e07cde28e551/src/actions/public/estimateFeesPerGas.ts#L132\n  if ([690, 17069, 695569].includes(client.chain.id)) {\n    return cachedFeesPerGas(client);\n  }\n}\n","import { Hex, encodeFunctionData, parseEventLogs, zeroAddress } from \"viem\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { getAction } from \"viem/utils\";\nimport { entryPoint07Abi, sendUserOperation, waitForUserOperationReceipt } from \"viem/account-abstraction\";\nimport { useEntryKitConfig } from \"../EntryKitConfigProvider\";\nimport { ConnectedClient, unlimitedDelegationControlId, worldAbi } from \"../common\";\nimport { paymasterAbi } from \"../quarry/common\";\nimport { sendCalls, waitForTransactionReceipt } from \"viem/actions\";\nimport { defineCall } from \"../utils/defineCall\";\nimport { Connector, useClient } from \"wagmi\";\nimport { resourceToHex } from \"@latticexyz/common\";\nimport IBaseWorldAbi from \"@latticexyz/world/out/IBaseWorld.sol/IBaseWorld.abi.json\";\nimport { callWithSignature } from \"../utils/callWithSignature\";\nimport { getPaymaster } from \"../getPaymaster\";\nimport { systemsConfig as worldSystemsConfig } from \"@latticexyz/world/mud.config\";\nimport { createBundlerClient } from \"../createBundlerClient\";\nimport { getBundlerTransport } from \"../getBundlerTransport\";\nimport { isIdPlaceConnector } from \"@latticexyz/id.place/internal\";\nimport { storeEventsAbi } from \"@latticexyz/store\";\n\nexport function useSetupSession({ connector, userClient }: { connector: Connector; userClient: ConnectedClient }) {\n  const queryClient = useQueryClient();\n  const { chainId, worldAddress, paymasterOverride } = useEntryKitConfig();\n  const client = useClient({ chainId });\n\n  const mutationKey = [\"setupSession\", client?.chain.id, userClient.account.address];\n  return useMutation({\n    retry: 0,\n    mutationKey,\n    mutationFn: async ({\n      sessionClient,\n      registerSpender,\n      registerDelegation,\n    }: {\n      sessionClient: ConnectedClient;\n      registerSpender: boolean;\n      registerDelegation: boolean;\n    }): Promise<void> => {\n      if (!client) throw new Error(\"Client not ready.\");\n      const paymaster = getPaymaster(client.chain, paymasterOverride);\n      const sessionAddress = sessionClient.account.address;\n\n      console.log(\"setting up session\", userClient);\n\n      if (isIdPlaceConnector(connector)) {\n        // Set up session for smart account wallet\n        const calls = [];\n\n        if (registerSpender && paymaster?.type === \"quarry\") {\n          console.log(\"registering spender\");\n          calls.push(\n            defineCall({\n              to: paymaster.address,\n              abi: paymasterAbi,\n              functionName: \"registerSpender\",\n              args: [sessionAddress],\n            }),\n          );\n        }\n\n        if (registerDelegation) {\n          console.log(\"registering delegation\");\n          calls.push(\n            defineCall({\n              to: worldAddress,\n              abi: worldAbi,\n              functionName: \"registerDelegation\",\n              args: [sessionAddress, unlimitedDelegationControlId, \"0x\"],\n            }),\n          );\n        }\n\n        if (!calls.length) return;\n\n        console.log(\"setting up account with\", calls, userClient.account.address, sessionAddress);\n\n        const { id } = await getAction(\n          userClient,\n          sendCalls,\n          \"sendCalls\",\n        )({\n          account: userClient.account,\n          calls,\n        });\n        console.log(\"got send calls ID\", id);\n\n        // TODO: switch to `waitForCallsStatus`, but needs to be able to run \"headless\" (no popup)\n\n        const bundlerClient = createBundlerClient({\n          transport: getBundlerTransport(client.chain),\n          client,\n        });\n\n        console.log(\"waiting for receipt\");\n        const receipt = await getAction(\n          bundlerClient,\n          waitForUserOperationReceipt,\n          \"waitForUserOperationReceipt\",\n        )({ hash: id as Hex });\n\n        console.log(\"got result\", receipt);\n        console.log(\n          \"parsed logs\",\n          worldAddress,\n          parseEventLogs({\n            logs: receipt.logs,\n            abi: [\n              ...entryPoint07Abi,\n              // TODO: export account abi from id package\n              // ...abi,\n              ...worldAbi,\n              ...storeEventsAbi,\n              ...calls.flatMap((call) => call.abi as never),\n            ],\n          }),\n        );\n      } else if (userClient.account.type === \"smart\") {\n        // Set up session for smart account wallet\n        const calls = [];\n\n        if (registerSpender && paymaster?.type === \"quarry\") {\n          console.log(\"registering spender\");\n          calls.push(\n            defineCall({\n              to: paymaster.address,\n              abi: paymasterAbi,\n              functionName: \"registerSpender\",\n              args: [sessionAddress],\n            }),\n          );\n        }\n\n        if (registerDelegation) {\n          console.log(\"registering delegation\");\n          calls.push(\n            defineCall({\n              to: worldAddress,\n              abi: worldAbi,\n              functionName: \"registerDelegation\",\n              args: [sessionAddress, unlimitedDelegationControlId, \"0x\"],\n            }),\n          );\n        }\n\n        if (!calls.length) return;\n\n        console.log(\"setting up account with\", calls, userClient);\n        const hash = await getAction(userClient, sendUserOperation, \"sendUserOperation\")({ calls });\n        console.log(\"got user op hash\", hash);\n\n        const receipt = await getAction(\n          userClient,\n          waitForUserOperationReceipt,\n          \"waitForUserOperationReceipt\",\n        )({ hash });\n        console.log(\"got user op receipt\", receipt);\n\n        if (!receipt.success) {\n          console.error(\"not successful?\", receipt);\n        }\n      } else {\n        // Set up session for EOAs\n        const txs: Hex[] = [];\n\n        if (registerSpender && paymaster?.type === \"quarry\") {\n          console.log(\"registering spender\");\n          const tx = await callWithSignature({\n            client,\n            userClient,\n            sessionClient,\n            worldAddress: paymaster.address,\n            systemId: resourceToHex({ type: \"system\", namespace: \"\", name: \"SpenderSystem\" }),\n            callData: encodeFunctionData({\n              abi: paymasterAbi,\n              functionName: \"registerSpender\",\n              args: [sessionAddress],\n            }),\n          });\n          console.log(\"got spender tx\", tx);\n          txs.push(tx);\n        }\n\n        if (registerDelegation) {\n          console.log(\"registering delegation\");\n          const tx = await callWithSignature({\n            client,\n            userClient,\n            sessionClient,\n            worldAddress,\n            systemId: worldSystemsConfig.systems.RegistrationSystem.systemId,\n            callData: encodeFunctionData({\n              abi: IBaseWorldAbi,\n              functionName: \"registerDelegation\",\n              args: [sessionAddress, unlimitedDelegationControlId, \"0x\"],\n            }),\n          });\n          console.log(\"got delegation tx\", tx);\n          txs.push(tx);\n        }\n\n        if (!txs.length) return;\n\n        console.log(\"waiting for\", txs.length, \"receipts\");\n        for (const hash of txs) {\n          const receipt = await getAction(client, waitForTransactionReceipt, \"waitForTransactionReceipt\")({ hash });\n          console.log(\"got tx receipt\", receipt);\n          if (receipt.status === \"reverted\") {\n            console.error(\"tx reverted?\", receipt);\n          }\n        }\n      }\n\n      // attempt to create session smart account instead of doing lazily\n      // so downstream can expect the session account to exist\n      await (async () => {\n        if (await sessionClient.account.isDeployed?.()) return;\n\n        console.log(\"creating session account by sending empty user op\");\n        const hash = await getAction(\n          sessionClient,\n          sendUserOperation,\n          \"sendUserOperation\",\n        )({\n          calls: [{ to: zeroAddress }],\n        });\n\n        const receipt = await getAction(\n          sessionClient,\n          waitForUserOperationReceipt,\n          \"waitForUserOperationReceipt\",\n        )({ hash });\n        console.log(\"got user op receipt\", receipt);\n      })();\n\n      await Promise.all([\n        queryClient.invalidateQueries({ queryKey: [\"getSpender\"] }),\n        queryClient.invalidateQueries({ queryKey: [\"getDelegation\"] }),\n        queryClient.invalidateQueries({ queryKey: [\"getPrerequisites\"] }),\n      ]);\n    },\n  });\n}\n","import { Account, Address, Chain, Client, LocalAccount, RpcSchema, Transport } from \"viem\";\nimport { smartAccountActions } from \"permissionless\";\nimport { callFrom, sendUserOperationFrom } from \"@latticexyz/world/internal\";\nimport { EntryKitConfig } from \"./config/output\";\nimport { createBundlerClient } from \"./createBundlerClient\";\nimport { SessionClient } from \"./common\";\nimport { SmartAccount } from \"viem/account-abstraction\";\nimport { getBundlerTransport } from \"./getBundlerTransport\";\n\nexport async function getSessionClient({\n  userAddress,\n  sessionAccount,\n  sessionSigner,\n  worldAddress,\n  paymasterOverride,\n}: {\n  userAddress: Address;\n  sessionAccount: SmartAccount;\n  sessionSigner: LocalAccount;\n  worldAddress: Address;\n  paymasterOverride: EntryKitConfig[\"paymasterOverride\"];\n}): Promise<SessionClient> {\n  const client = sessionAccount.client;\n  if (!clientHasChain(client)) {\n    throw new Error(\"Session account client had no associated chain.\");\n  }\n\n  const bundlerClient = createBundlerClient({\n    transport: getBundlerTransport(client.chain),\n    client,\n    account: sessionAccount,\n    paymaster: paymasterOverride,\n  });\n\n  const sessionClient = bundlerClient\n    .extend(smartAccountActions)\n    .extend(\n      callFrom({\n        worldAddress,\n        delegatorAddress: userAddress,\n        publicClient: client,\n      }),\n    )\n    .extend(\n      sendUserOperationFrom({\n        worldAddress,\n        delegatorAddress: userAddress,\n        publicClient: client,\n      }),\n    )\n    // TODO: add observer once we conditionally fetch receipts while bridge is open\n    .extend(() => ({ userAddress, worldAddress, internal_signer: sessionSigner }));\n\n  return sessionClient;\n}\n\nfunction clientHasChain<\n  transport extends Transport = Transport,\n  chain extends Chain | undefined = Chain | undefined,\n  account extends Account | undefined = Account | undefined,\n  rpcSchema extends RpcSchema | undefined = undefined,\n>(\n  client: Client<transport, chain, account, rpcSchema>,\n): client is Client<transport, Exclude<chain, undefined>, account, rpcSchema> {\n  return client.chain != null;\n}\n","import { Address, Chain, Client, Transport } from \"viem\";\nimport { useEntryKitConfig } from \"./EntryKitConfigProvider\";\nimport { useClient } from \"wagmi\";\nimport {\n  QueryClient,\n  UndefinedInitialDataOptions,\n  UseQueryResult,\n  queryOptions,\n  useQuery,\n  useQueryClient,\n} from \"@tanstack/react-query\";\nimport { EntryKitConfig } from \"./config/output\";\nimport { getSessionClient } from \"./getSessionClient\";\nimport { SessionClient } from \"./common\";\nimport { getSessionAccountQueryOptions } from \"./useSessionAccount\";\n\nexport function getSessionClientQueryOptions({\n  queryClient,\n  client,\n  userAddress,\n  worldAddress,\n  paymasterOverride,\n}: {\n  queryClient: QueryClient;\n  client: Client<Transport, Chain> | undefined;\n  userAddress: Address | undefined;\n  worldAddress: Address;\n  paymasterOverride: EntryKitConfig[\"paymasterOverride\"];\n}): UndefinedInitialDataOptions<SessionClient> {\n  return queryOptions<SessionClient>({\n    queryKey: [\"getSessionClient\", client?.uid, userAddress, worldAddress],\n    queryFn: async () => {\n      if (!userAddress) throw new Error(\"User not connected.\");\n\n      const { account: sessionAccount, signer: sessionSigner } = await queryClient.fetchQuery(\n        getSessionAccountQueryOptions({ client, userAddress }),\n      );\n      return await getSessionClient({\n        sessionAccount,\n        sessionSigner,\n        userAddress,\n        worldAddress,\n        paymasterOverride,\n      });\n    },\n    staleTime: Infinity,\n    // TODO: replace with function to retry only connection errors\n    retry: false,\n  });\n}\n\nexport function useSessionClient(userAddress: Address | undefined): UseQueryResult<SessionClient> {\n  const queryClient = useQueryClient();\n  const { chainId, worldAddress, paymasterOverride } = useEntryKitConfig();\n  const client = useClient({ chainId });\n  return useQuery(\n    getSessionClientQueryOptions({\n      queryClient,\n      client,\n      userAddress,\n      worldAddress,\n      paymasterOverride,\n    }),\n  );\n}\n","import { UseQueryResult } from \"@tanstack/react-query\";\nimport { addError } from \"./store\";\nimport { useEffect } from \"react\";\n\nexport function useShowQueryError<result extends Pick<UseQueryResult, \"error\" | \"refetch\">>(result: result): result {\n  const { error, refetch } = result;\n\n  useEffect(() => {\n    if (!error) return;\n    return addError({ error, retry: refetch, dismiss: () => {} });\n  }, [error, refetch]);\n\n  return result;\n}\n","import { useEffect } from \"react\";\nimport { Hex } from \"viem\";\nimport { Button } from \"../ui/Button\";\nimport { useSetupSession } from \"./useSetupSession\";\nimport { ConnectedClient } from \"../common\";\nimport { useSessionClient } from \"../useSessionClient\";\nimport { useShowQueryError } from \"../errors/useShowQueryError\";\nimport { useShowMutationError } from \"../errors/useShowMutationError\";\nimport { StepContentProps } from \"./common\";\nimport { usePrerequisites } from \"./usePrerequisites\";\nimport { Connector } from \"wagmi\";\n\nexport type Props = StepContentProps & {\n  connector: Connector;\n  userClient: ConnectedClient;\n  registerSpender: boolean;\n  registerDelegation: boolean;\n  sessionAddress?: Hex;\n};\n\nexport function Session({ isActive, isExpanded, connector, userClient, registerSpender, registerDelegation }: Props) {\n  const sessionClient = useShowQueryError(useSessionClient(userClient.account.address));\n  const setup = useShowMutationError(useSetupSession({ userClient, connector }));\n  const hasSession = !registerDelegation && !registerDelegation;\n  const { data: prerequisites } = usePrerequisites(userClient.account.address);\n  const { hasAllowance, hasGasBalance, hasQuarryGasBalance } = prerequisites ?? {};\n\n  useEffect(() => {\n    // There seems to be a tanstack-query bug(?) where multiple simultaneous renders loses\n    // state between the two mutations. They're not treated as shared state but rather\n    // individual mutations, even though the keys match. And the one we want the status of\n    // seems to stay pending. This is sorta resolved by triggering this after a timeout.\n    const timer = setTimeout(() => {\n      if (\n        isActive &&\n        setup.status === \"idle\" &&\n        sessionClient.data &&\n        !hasSession &&\n        (hasAllowance || hasGasBalance || hasQuarryGasBalance)\n      ) {\n        // TODO: re-enable once we can catch/handle window.open errors in popup\n        //       https://github.com/ithacaxyz/porto/issues/581\n        // setup.mutate({\n        //   sessionClient: sessionClient.data,\n        //   registerSpender,\n        //   registerDelegation,\n        // });\n      }\n    });\n    return () => clearTimeout(timer);\n  }, [\n    hasSession,\n    isActive,\n    registerDelegation,\n    registerSpender,\n    sessionClient,\n    setup,\n    hasAllowance,\n    hasGasBalance,\n    hasQuarryGasBalance,\n  ]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex justify-between gap-4\">\n        <div>\n          <div>Session</div>\n          <div className=\"font-mono text-white\">{hasSession ? \"Enabled\" : \"Set up\"}</div>\n        </div>\n        {hasSession ? (\n          <Button variant=\"tertiary\" className=\"flex-shrink-0 text-sm p-1 w-28\" autoFocus={isActive} disabled>\n            Enabled\n          </Button>\n        ) : (\n          <Button\n            variant={isActive ? \"primary\" : \"tertiary\"}\n            className=\"flex-shrink-0 text-sm p-1 w-28\"\n            autoFocus={isActive}\n            pending={!sessionClient.data || setup.status === \"pending\"}\n            onClick={\n              sessionClient.data\n                ? () =>\n                    setup.mutate({\n                      sessionClient: sessionClient.data,\n                      registerSpender,\n                      registerDelegation,\n                    })\n                : undefined\n            }\n          >\n            Enable\n          </Button>\n        )}\n      </div>\n      {isExpanded ? (\n        <p className=\"text-sm\">You can perform actions in this app without interruptions for approvals.</p>\n      ) : null}\n    </div>\n  );\n}\n","import { DetailedHTMLProps, SVGAttributes } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = DetailedHTMLProps<SVGAttributes<SVGSVGElement>, SVGSVGElement>;\n\nexport function EthIcon({ className, ...props }: Props) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 263 428\"\n      fill=\"currentColor\"\n      className={twMerge(\"w-[0.6em] h-[1em]\", className)}\n      {...props}\n    >\n      <path d=\"M132 321V428L263 243L132 321Z\" />\n      <path d=\"M0 243L132 321V428\" fillOpacity=\"0.5\" />\n      <path d=\"M132 0V296L263 218\" />\n      <path d=\"M0 218L132 296V0L0 218Z\" fillOpacity=\"0.5\" />\n    </svg>\n  );\n}\n","import { formatEther } from \"viem\";\n\nexport function formatBalance(wei: bigint) {\n  // TODO: should this support non-ether decimals?\n  const formatted = formatEther(wei);\n  const parsed = parseFloat(formatted);\n\n  if (parsed > 0 && parsed < 0.00001) {\n    return \"<0.00001\";\n  }\n\n  const magnitude = Math.floor(parsed).toString().length;\n  return parsed.toLocaleString(\"en-US\", { maximumFractionDigits: Math.max(0, 6 - magnitude) });\n}\n","import { EthIcon } from \"../icons/EthIcon\";\nimport { formatBalance } from \"../formatBalance\";\nimport { formatEther } from \"viem\";\n\nexport type Props = {\n  wei: bigint;\n};\n\nexport function Balance({ wei }: Props) {\n  return (\n    <span className=\"inline-flex items-center gap-1\" title={formatEther(wei)}>\n      {formatBalance(wei)} <EthIcon />\n    </span>\n  );\n}\n","{\n  \"1\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/ethereum\"\n  },\n  \"10\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/optimism\"\n  },\n  \"56\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/bnb\"\n  },\n  \"100\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/gnosis\"\n  },\n  \"111\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/bob\"\n  },\n  \"130\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/unichain\"\n  },\n  \"137\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/polygon\"\n  },\n  \"146\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/sonic\"\n  },\n  \"185\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/mint\"\n  },\n  \"288\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/boba\"\n  },\n  \"324\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/zksync\"\n  },\n  \"360\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/shape\"\n  },\n  \"480\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/world-chain\"\n  },\n  \"690\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/redstone\"\n  },\n  \"747\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/flow-evm\"\n  },\n  \"919\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/mode-testnet\"\n  },\n  \"1101\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/polygon-zkevm\"\n  },\n  \"1135\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/lisk\"\n  },\n  \"1301\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/unichain-sepolia\"\n  },\n  \"1329\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/sei\"\n  },\n  \"1424\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/perennial\"\n  },\n  \"1514\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/story\"\n  },\n  \"1625\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/gravity\"\n  },\n  \"1868\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/soneium\"\n  },\n  \"1923\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/swellchain\"\n  },\n  \"1993\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/b3\"\n  },\n  \"1996\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/sanko\"\n  },\n  \"2187\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/game7\"\n  },\n  \"2741\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/abstract\"\n  },\n  \"2911\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/hychain\"\n  },\n  \"4202\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/lisk-sepolia\"\n  },\n  \"4321\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/echos\"\n  },\n  \"5000\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/mantle\"\n  },\n  \"5112\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/ham\"\n  },\n  \"7560\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/cyber\"\n  },\n  \"7865\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/powerloom\"\n  },\n  \"7897\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/arena-z\"\n  },\n  \"8333\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/B3\"\n  },\n  \"8453\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/base\"\n  },\n  \"9897\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/arena-z-testnet\"\n  },\n  \"11011\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/shape-sepolia\"\n  },\n  \"11124\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/abstract\"\n  },\n  \"13746\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/game7-testnet\"\n  },\n  \"17000\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/holesky\"\n  },\n  \"17069\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/garnet\"\n  },\n  \"17071\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/onchain-points\"\n  },\n  \"33139\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/apechain\"\n  },\n  \"33979\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/funki\"\n  },\n  \"34443\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/mode\"\n  },\n  \"42161\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/arbitrum\"\n  },\n  \"42170\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/arbitrum-nova\"\n  },\n  \"42220\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/celo\"\n  },\n  \"43114\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/avalanche\"\n  },\n  \"55244\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/superposition\"\n  },\n  \"57073\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/ink\"\n  },\n  \"59144\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/linea\"\n  },\n  \"60808\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/bob\"\n  },\n  \"70700\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/apex\"\n  },\n  \"70701\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/boss\"\n  },\n  \"70800\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/apex-testnet\"\n  },\n  \"70805\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/cloud\"\n  },\n  \"80002\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/amoy\"\n  },\n  \"80094\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/berachain\"\n  },\n  \"81457\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/blast\"\n  },\n  \"84532\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/base-sepolia\"\n  },\n  \"167000\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/taiko\"\n  },\n  \"167009\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/hekla\"\n  },\n  \"421614\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/arbitrum-sepolia\"\n  },\n  \"534352\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/scroll\"\n  },\n  \"543210\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/zero-network\"\n  },\n  \"660279\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/xai\"\n  },\n  \"695569\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/pyrope\"\n  },\n  \"911867\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/odyssey\"\n  },\n  \"984122\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/forma\"\n  },\n  \"1118190\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/eclipse-testnet\"\n  },\n  \"3397901\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/funki-testnet\"\n  },\n  \"3441006\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/manta-pacific-testnet\"\n  },\n  \"4457845\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/zero-sepolia\"\n  },\n  \"7777777\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/zora\"\n  },\n  \"8253038\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/bitcoin\"\n  },\n  \"9092725\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/bitcoin-testnet4\"\n  },\n  \"9286185\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/eclipse\"\n  },\n  \"11155111\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/sepolia\"\n  },\n  \"11155420\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/op-sepolia\"\n  },\n  \"666666666\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/degen\"\n  },\n  \"792703809\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/solana\"\n  },\n  \"845320008\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/lordchain-testnet\"\n  },\n  \"888888888\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/ancient8\"\n  },\n  \"999999999\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/zora-sepolia\"\n  },\n  \"1380012617\": {\n    \"bridgeUrl\": \"https://relay.link/bridge/rari\"\n  },\n  \"1936682084\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/solana-devnet\"\n  },\n  \"88153591557\": {\n    \"bridgeUrl\": \"https://testnets.relay.link/bridge/arbitrum-blueberry\"\n  }\n}\n","import { useQueryClient, useMutation } from \"@tanstack/react-query\";\nimport { SetBalanceParameters, TestClient } from \"viem\";\nimport { setBalance } from \"viem/actions\";\nimport { useClient } from \"wagmi\";\nimport { useEntryKitConfig } from \"../EntryKitConfigProvider\";\n\n/**\n * Set balance at address. This assumes the configured chain is an Anvil chain and supports `anvil_setAccountBalance`.\n */\nexport function useSetBalance() {\n  const queryClient = useQueryClient();\n  const { chainId } = useEntryKitConfig();\n  const client = useClient({ chainId });\n\n  return useMutation({\n    retry: 0,\n    mutationKey: [\"setBalance\", chainId],\n    mutationFn: async (params: SetBalanceParameters) => {\n      if (!client) return null;\n\n      await setBalance({ ...(client as TestClient), mode: \"anvil\" }, params);\n      await Promise.all([\n        queryClient.invalidateQueries({ queryKey: [\"balance\"] }),\n        queryClient.invalidateQueries({ queryKey: [\"getFunds\"] }),\n        queryClient.invalidateQueries({ queryKey: [\"getPrerequisites\"] }),\n      ]);\n\n      return null;\n    },\n  });\n}\n","import { useEffect, useRef } from \"react\";\n\n// TODO: move to react or common package?\nexport function usePrevious<value, initialValue extends value | undefined>(\n  value: value,\n  initialValue?: initialValue,\n): initialValue extends undefined ? value | undefined : value {\n  const ref = useRef<{ value: value }>();\n  useEffect(() => {\n    ref.current = { value };\n  }, [value]);\n  return (ref.current ? ref.current.value : initialValue) as never;\n}\n","import { SVGProps } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = SVGProps<SVGSVGElement>;\n\nexport function IconSVG({ className, children, ...props }: Props) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"currentColor\"\n      className={twMerge(\"-my-[0.125em] h-[1.25em] w-[1.25em]\", className)}\n      {...props}\n    >\n      {children}\n    </svg>\n  );\n}\n","/* eslint-disable max-len */\nimport { IconSVG, Props } from \"./IconSVG\";\n\nexport function CopyIcon(props: Props) {\n  return (\n    <IconSVG {...props}>\n      <path\n        d=\"M8 5H6C4.89543 5 4 5.89543 4 7V19C4 20.1046 4.89543 21 6 21H16C17.1046 21 18 20.1046 18 19V18M8 5C8 6.10457 8.89543 7 10 7H12C13.1046 7 14 6.10457 14 5M8 5C8 3.89543 8.89543 3 10 3H12C13.1046 3 14 3.89543 14 5M14 5H16C17.1046 5 18 5.89543 18 7V10M20 14H10M10 14L13 11M10 14L13 17\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </IconSVG>\n  );\n}\n","/* eslint-disable max-len */\nimport { IconSVG, Props } from \"./IconSVG\";\n\nexport function CheckIcon(props: Props) {\n  return (\n    <IconSVG {...props}>\n      <path\n        d=\"M5 13L9 17L19 7\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </IconSVG>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Hex, parseEther } from \"viem\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { PendingIcon } from \"../icons/PendingIcon\";\nimport { Button } from \"../ui/Button\";\nimport { Balance } from \"../ui/Balance\";\nimport { useBalance, useWatchBlockNumber } from \"wagmi\";\nimport { useEntryKitConfig } from \"../EntryKitConfigProvider\";\nimport relayChains from \"../data/relayChains.json\";\nimport { useSetBalance } from \"./useSetBalance\";\nimport { RelayChains, StepContentProps } from \"./common\";\nimport { TruncatedHex } from \"../ui/TruncatedHex\";\nimport { useShowMutationError } from \"../errors/useShowMutationError\";\nimport { useShowQueryError } from \"../errors/useShowQueryError\";\nimport { usePrevious } from \"../errors/usePrevious\";\nimport { CopyIcon } from \"../icons/CopyIcon\";\nimport { CheckIcon } from \"../icons/CheckIcon\";\n\nexport type Props = StepContentProps & {\n  sessionAddress: Hex;\n};\n\nexport function GasBalance({ isActive, isExpanded, sessionAddress }: Props) {\n  const queryClient = useQueryClient();\n  const { chain } = useEntryKitConfig();\n  const [copied, setCopied] = useState(false);\n\n  const balance = useShowQueryError(useBalance({ chainId: chain.id, address: sessionAddress }));\n  const prevBalance = usePrevious(balance.data);\n  useWatchBlockNumber({ onBlockNumber: () => balance.refetch() });\n\n  const setBalance = useShowMutationError(useSetBalance());\n  const relayChain = (relayChains as RelayChains)[chain.id];\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(sessionAddress);\n\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  useEffect(() => {\n    if (balance.data != null && prevBalance?.value === 0n && balance.data.value > 0n) {\n      queryClient.invalidateQueries({ queryKey: [\"getFunds\"] });\n      queryClient.invalidateQueries({ queryKey: [\"getPrerequisites\"] });\n    }\n  }, [balance.data, prevBalance, setBalance, sessionAddress, queryClient]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex justify-between gap-4\">\n        <div>\n          <div>Gas balance</div>\n          <div className=\"font-mono text-white\">\n            {balance.data != null ? <Balance wei={balance.data.value} /> : <PendingIcon className=\"text-sm\" />}\n          </div>\n        </div>\n\n        {chain.id === 31337 ? (\n          <Button\n            variant={isActive ? \"primary\" : \"tertiary\"}\n            className=\"flex-shrink-0 text-sm p-1 w-28\"\n            autoFocus={isActive || isExpanded}\n            pending={balance.status === \"pending\" || setBalance.status === \"pending\"}\n            onClick={() =>\n              setBalance.mutate({\n                address: sessionAddress,\n                value: parseEther(\"0.01\") + (balance.data?.value ?? 0n),\n              })\n            }\n          >\n            Top up\n          </Button>\n        ) : relayChain != null ? (\n          // TODO: convert this to a <ButtonLink>\n          <a\n            href={`${relayChain.bridgeUrl}?${new URLSearchParams({ toAddress: sessionAddress, amount: \"0.01\" })}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <Button\n              variant={isActive ? \"primary\" : \"tertiary\"}\n              className=\"flex-shrink-0 text-sm p-1 w-28\"\n              autoFocus={isActive || isExpanded}\n              pending={balance.status === \"pending\"}\n            >\n              Top up\n            </Button>\n          </a>\n        ) : null}\n      </div>\n      {isExpanded ? (\n        <>\n          <p className=\"text-sm\">Your session&apos;s gas balance is used to pay for onchain computation.</p>\n          <p className=\"text-sm\">\n            Send funds to{\" \"}\n            <span\n              className=\"inline-flex items-center gap-1 font-mono text-white cursor-pointer hover:text-white/80 transition-colors\"\n              onClick={handleCopy}\n              title=\"Click to copy\"\n            >\n              <TruncatedHex hex={sessionAddress} />{\" \"}\n              {copied ? <CheckIcon className=\"w-3.5 h-3.5\" /> : <CopyIcon className=\"w-3.5 h-3.5\" />}\n            </span>{\" \"}\n            on {chain.name} to top up your session balance.\n          </p>\n        </>\n      ) : null}\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport { IconSVG, Props } from \"./IconSVG\";\n\nexport function ChevronUpIcon(props: Props) {\n  return (\n    <IconSVG viewBox=\"0 0 20 20\" {...props}>\n      <path\n        d=\"M14.7071 12.7071C14.3166 13.0976 13.6834 13.0976 13.2929 12.7071L10 9.41421L6.70711 12.7071C6.31658 13.0976 5.68342 13.0976 5.29289 12.7071C4.90237 12.3166 4.90237 11.6834 5.29289 11.2929L9.29289 7.29289C9.68342 6.90237 10.3166 6.90237 10.7071 7.29289L14.7071 11.2929C15.0976 11.6834 15.0976 12.3166 14.7071 12.7071Z\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n      />\n    </IconSVG>\n  );\n}\n","/* eslint-disable max-len */\nimport { IconSVG, Props } from \"./IconSVG\";\n\nexport function ChevronDownIcon(props: Props) {\n  return (\n    <IconSVG viewBox=\"0 0 20 20\" {...props}>\n      <path\n        d=\"M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289L10 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68342 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n      />\n    </IconSVG>\n  );\n}\n","import { isValidElement, cloneElement, Children } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\n// We use this in place of Radix's `Slot` because it's missing the ability to merge class names in a way that is Tailwind friendly\n// See https://github.com/radix-ui/primitives/issues/2631\n\nexport type AsChildProps<DefaultElementProps> =\n  | ({ asChild?: false } & DefaultElementProps)\n  | { asChild: true; children: React.ReactNode };\n\nexport function Slot({\n  children,\n  ...props\n}: React.HTMLAttributes<HTMLElement> & {\n  children?: React.ReactNode;\n}) {\n  if (isValidElement(children)) {\n    return cloneElement(children, {\n      ...props,\n      ...children.props,\n      style: {\n        ...props.style,\n        ...children.props.style,\n      },\n      className: twMerge(props.className, children.props.className),\n    });\n  }\n\n  if (Children.count(children) > 1) {\n    Children.only(null);\n  }\n\n  return null;\n}\n","import { CSSProperties, InputHTMLAttributes } from \"react\";\nimport { Slot, type AsChildProps } from \"./Slot\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = AsChildProps<InputHTMLAttributes<HTMLInputElement>> & {\n  style?: CSSProperties;\n  className?: string;\n};\n\nexport function Input({ asChild, className, ...props }: Props) {\n  const Child = asChild ? Slot : \"input\";\n  return (\n    <Child\n      className={twMerge(\n        \"p-2.5 gap-1 border text-lg font-medium transition\",\n        \"outline-none ring-2 ring-transparent focus-within:ring-orange-500 focus-within:border-transparent\",\n        \"bg-neutral-900 border-neutral-700 text-white placeholder:text-neutral-500\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n","import { ReactNode } from \"react\";\nimport { usePreloadImage } from \"../../usePreloadImage\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = {\n  url: string | undefined;\n  fallback?: ReactNode;\n  className?: string;\n};\n\nexport function PreloadedImage({ url, fallback, className }: Props) {\n  const { isSuccess, isLoading } = usePreloadImage(url);\n  // TODO: center object + fallback\n  // TODO: fade in?\n  return (\n    <span className={twMerge(\"inline-flex w-full h-full items-center justify-center overflow-clip\", className)}>\n      {!isLoading ? isSuccess ? <img src={url} className=\"w-full h-full object-cover\" /> : fallback : null}\n    </span>\n  );\n}\n","import { twMerge } from \"tailwind-merge\";\nimport { PreloadedImage } from \"./PreloadedImage\";\nimport { forwardRef } from \"react\";\n\nexport type Props = {\n  id: number;\n  name: string;\n  url: string | undefined;\n  className?: string;\n};\n\nexport const ChainIcon = forwardRef<HTMLSpanElement, Props>(function ChainIcon({ name, url, className }, forwardedRef) {\n  return (\n    <span\n      ref={forwardedRef}\n      className={twMerge(\"flex-shrink-0 inline-flex w-6 aspect-square rounded-full overflow-clip\", className)}\n    >\n      {url ? (\n        <PreloadedImage url={url} />\n      ) : (\n        // TODO: better placeholder\n        <span\n          className={twMerge(\n            \"inline-flex items-center justify-center w-full h-full rounded-full\",\n            \"border-2 border-dashed border-white/50 opacity-50\",\n          )}\n        >\n          {name?.slice(0, 1)}\n        </span>\n      )}\n    </span>\n  );\n});\n","import {\n  RelayChain,\n  MAINNET_RELAY_API,\n  TESTNET_RELAY_API,\n  fetchChainConfigs,\n  RelayClient,\n  createClient,\n  LogLevel,\n} from \"@reservoir0x/relay-sdk\";\nimport { UseQueryResult, useQuery } from \"@tanstack/react-query\";\nimport { debug } from \"../../debug\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\n\nexport function useRelay(): UseQueryResult<{ client: RelayClient; chains: RelayChain[] }> {\n  const { chain } = useEntryKitConfig();\n  const appOrigin = location.host;\n  const baseApiUrl = chain.testnet ? TESTNET_RELAY_API : MAINNET_RELAY_API;\n\n  return useQuery({\n    queryKey: [\"relayChains\", baseApiUrl, appOrigin],\n    queryFn: async () => {\n      debug(\"fetching relay chains from\", baseApiUrl);\n      const chains = await fetchChainConfigs(baseApiUrl);\n\n      debug(\"got relay chains\", chains);\n      const client = createClient({\n        baseApiUrl,\n        source: appOrigin,\n        chains,\n        logLevel: LogLevel.Verbose,\n      });\n      return { client, chains };\n    },\n    refetchOnMount: false,\n    refetchOnReconnect: false,\n    refetchOnWindowFocus: false,\n    staleTime: Infinity,\n  });\n}\n","import { useAccount, useConfig as useWagmiConfig } from \"wagmi\";\nimport { getBalance } from \"wagmi/actions\";\nimport { useQuery, skipToken } from \"@tanstack/react-query\";\nimport { isNotNull } from \"@latticexyz/common/utils\";\nimport { ChainWithRelay } from \"./ChainSelect\";\n\ntype Props = {\n  chains: ChainWithRelay[];\n};\n\nexport function useChainBalances({ chains }: Props) {\n  const { address: userAddress } = useAccount();\n  const wagmiConfig = useWagmiConfig();\n  const chainIds = chains.map((chain) => chain.id);\n\n  return useQuery({\n    queryKey: [\"chainBalances\", chainIds, userAddress],\n    queryFn: userAddress\n      ? async () => {\n          const chainBalances = await Promise.allSettled(\n            chains.map(async (chain) => {\n              const balance = await getBalance(wagmiConfig, { chainId: chain.id, address: userAddress });\n              return { chain, balance };\n            }),\n          );\n\n          return chainBalances.map((result) => (result.status === \"fulfilled\" ? result.value : null)).filter(isNotNull);\n        }\n      : skipToken,\n    refetchInterval: 1000 * 60,\n    retry: 1,\n  });\n}\n","import { useEffect, useMemo } from \"react\";\nimport { Chain } from \"viem\";\nimport { useSwitchChain } from \"wagmi\";\nimport { twMerge } from \"tailwind-merge\";\nimport * as Select from \"@radix-ui/react-select\";\nimport { RelayChain } from \"@reservoir0x/relay-sdk\";\nimport { useFrame } from \"../../ui/FrameProvider\";\nimport { useTheme } from \"../../useTheme\";\nimport { ChevronUpIcon } from \"../../icons/ChevronUpIcon\";\nimport { ChevronDownIcon } from \"../../icons/ChevronDownIcon\";\nimport { Input } from \"../../ui/Input\";\nimport { ChainIcon } from \"./ChainIcon\";\nimport { useRelay } from \"./useRelay\";\nimport { useShowQueryError } from \"../../errors/useShowQueryError\";\nimport { useChainBalances } from \"./useChainBalances\";\nimport { Balance } from \"../../ui/Balance\";\nimport { PendingIcon } from \"../../icons/PendingIcon\";\n\nexport type ChainWithRelay = Chain & {\n  relayChain?: RelayChain & {\n    icon?: Record<string, string>;\n  };\n};\n\nexport type Props = {\n  value: number;\n  onChange: (value: number) => void;\n};\n\nexport function ChainSelect({ value, onChange }: Props) {\n  const theme = useTheme();\n  const { frame } = useFrame();\n  const { chains, switchChain } = useSwitchChain();\n  const relay = useRelay();\n  const relayChains = relay.data?.chains;\n\n  const sourceChains = useMemo(() => {\n    return chains\n      .map((sourceChain) => {\n        const relayChain = relayChains?.find((c) => c.id === sourceChain.id);\n        return {\n          ...sourceChain,\n          relayChain,\n        } satisfies ChainWithRelay;\n      })\n      .filter((c) => c.relayChain);\n  }, [chains, relayChains]);\n\n  const selectedChain = sourceChains.find((c) => c.id === value)!;\n  const { data: chainsBalances, isLoading } = useShowQueryError(useChainBalances({ chains: sourceChains }));\n\n  const renderedChains = useMemo(() => {\n    if (!chainsBalances) return [];\n    const chainsWithBalance = chainsBalances\n      .filter(({ balance }) => balance.value > 0n)\n      .map(({ chain, balance }) => ({ chain, balance: balance.value }));\n\n    return chainsWithBalance.length > 0 ? chainsWithBalance : sourceChains.map((chain) => ({ chain, balance: 0n }));\n  }, [chainsBalances, sourceChains]);\n\n  useEffect(() => {\n    if (\n      renderedChains.length > 0 &&\n      (!selectedChain || !renderedChains.find((c) => c.chain.id === selectedChain?.id))\n    ) {\n      const defaultChain = renderedChains[0].chain;\n      onChange(defaultChain.id);\n      switchChain({ chainId: defaultChain.id });\n    }\n  }, [value, selectedChain, renderedChains, onChange, switchChain]);\n\n  return (\n    <Select.Root\n      value={value.toString()}\n      onValueChange={(value) => {\n        if (value) {\n          const chain = renderedChains.find((item) => item.chain.id.toString() === value)?.chain;\n          if (!chain) throw new Error(`Unknown chain selected: ${value}`);\n          onChange(chain.id);\n        }\n      }}\n    >\n      <Input asChild>\n        <Select.Trigger className=\"group inline-flex items-center justify-center\">\n          <Select.Value asChild>\n            <ChainIcon\n              id={selectedChain?.id}\n              name={selectedChain?.name}\n              url={selectedChain?.relayChain?.icon?.[theme]}\n              className=\"w-8\"\n            />\n          </Select.Value>\n          <Select.Icon asChild>\n            <>\n              <ChevronDownIcon className=\"text-sm -mr-1 group-aria-expanded:hidden\" />\n              <ChevronUpIcon className=\"text-sm -mr-1 hidden group-aria-expanded:inline\" />\n            </>\n          </Select.Icon>\n        </Select.Trigger>\n      </Input>\n\n      {frame.contentDocument ? (\n        <Select.Portal container={frame.contentDocument.body}>\n          <Select.Content\n            position=\"popper\"\n            className=\"w-[352px] max-h-[230px] overflow-y-auto mt-1 animate-in fade-in slide-in-from-top-2\"\n          >\n            <Select.Viewport>\n              <Select.Group\n                className={twMerge(\n                  \"flex flex-col border divide-y\",\n                  \"bg-neutral-800 text-neutral-300 border-neutral-700 divide-neutral-700\",\n                )}\n              >\n                {isLoading ? (\n                  <div className=\"flex items-center justify-center p-4\">\n                    <PendingIcon className=\"h-6 w-6 animate-spin text-gray-400\" />\n                  </div>\n                ) : (\n                  renderedChains.map(({ chain, balance }) => {\n                    // TODO: figure out why up/down arrow jump to top/bottom rather than cycling through items\n                    return (\n                      <Select.Item\n                        key={chain.id}\n                        value={chain.id.toString()}\n                        className={twMerge(\n                          \"group flex p-2.5 gap-2.5 items-center cursor-pointer outline-none\",\n                          \"text-white focus:bg-neutral-700 data-[state=checked]:bg-neutral-900\",\n                        )}\n                      >\n                        <ChainIcon id={chain.id} name={chain.name} url={chain.relayChain?.icon?.[theme]} />\n                        <span className=\"flex-grow flex-shrink-0\">{chain.name}</span>\n                        <span className=\"flex-shrink-0 font-mono text-sm text-neutral-400\">\n                          <Balance wei={balance} />\n                        </span>\n                      </Select.Item>\n                    );\n                  })\n                )}\n              </Select.Group>\n            </Select.Viewport>\n          </Select.Content>\n        </Select.Portal>\n      ) : null}\n    </Select.Root>\n  );\n}\n","import { formatEther, parseEther } from \"viem\";\nimport { Input } from \"../../ui/Input\";\nimport { twMerge } from \"tailwind-merge\";\nimport { forwardRef } from \"react\";\nimport { EthIcon } from \"../../icons/EthIcon\";\n\nexport type Props = {\n  initialAmount: bigint | undefined;\n  onChange: (value: bigint | undefined) => void;\n};\n\nexport const AmountInput = forwardRef<HTMLInputElement, Props>(function AmountInput(\n  { initialAmount, onChange },\n  forwardedRef,\n) {\n  return (\n    <Input asChild className=\"w-full cursor-text flex items-center\">\n      <label>\n        <input\n          ref={forwardedRef}\n          className={twMerge(\"peer flex-grow outline-none bg-transparent\", \"placeholder:text-neutral-500\")}\n          placeholder=\"0.005\"\n          required\n          autoFocus\n          defaultValue={initialAmount == null ? \"\" : formatEther(initialAmount)}\n          onChange={(event) => {\n            const input = event.currentTarget;\n            if (input.value.trim() === \"\") {\n              input.setCustomValidity(\"\");\n              onChange(undefined);\n              return;\n            }\n\n            const value = input.value.trim().replace(/\\.$/, \".0\");\n            if (!/^\\d*(\\.\\d+)?$/.test(value)) {\n              return input.setCustomValidity(\"Invalid amount.\");\n            }\n\n            input.setCustomValidity(\"\");\n            onChange(parseEther(value));\n          }}\n        />\n        <span className={twMerge(\"flex-shrink-0 text-2xl\", \"peer-placeholder-shown:text-neutral-500\")}>\n          <EthIcon />\n        </span>\n      </label>\n    </Input>\n  );\n});\n","import { useAccount, useBalance, useSwitchChain } from \"wagmi\";\nimport { Button, type Props as ButtonProps } from \"../../ui/Button\";\nimport { twMerge } from \"tailwind-merge\";\nimport { parseEther } from \"viem\";\n\nexport type Props = Omit<ButtonProps, \"type\"> & {\n  amount?: bigint | undefined;\n  chainId?: number | undefined;\n};\n\nconst MAX_DEPOSIT_AMOUNT = \"0.1\";\n\nexport function SubmitButton({ amount, chainId, className, ...buttonProps }: Props) {\n  const { chainId: userChainId, address: userAddress } = useAccount();\n  const { data: userBalance } = useBalance({ address: userAddress });\n  const shouldSwitchChain = chainId != null && chainId !== userChainId;\n  const switchChain = useSwitchChain();\n\n  if (shouldSwitchChain) {\n    return (\n      <Button\n        type=\"button\"\n        variant=\"primary\"\n        className={twMerge(\"w-full\", className)}\n        pending={switchChain.isPending}\n        onClick={() => switchChain.switchChain({ chainId })}\n      >\n        Switch chain\n      </Button>\n    );\n  } else if (amount) {\n    if (amount > parseEther(MAX_DEPOSIT_AMOUNT)) {\n      return (\n        <Button type=\"button\" className={twMerge(\"w-full\", className)} disabled>\n          Max amount is {MAX_DEPOSIT_AMOUNT} ETH\n        </Button>\n      );\n    } else if (amount > (userBalance?.value ?? 0n)) {\n      return (\n        <Button type=\"button\" className={twMerge(\"w-full\", className)} disabled>\n          Insufficient balance\n        </Button>\n      );\n    }\n  }\n\n  return <Button type=\"submit\" className={twMerge(\"w-full\", className)} {...buttonProps} />;\n}\n","/* eslint-disable max-len */\nimport { IconSVG, Props } from \"./IconSVG\";\n\nexport function WarningIcon(props: Props) {\n  return (\n    <IconSVG fill=\"none\" {...props}>\n      <path\n        d=\"M12 9V11M12 15H12.01M5.07183 19H18.9282C20.4678 19 21.4301 17.3333 20.6603 16L13.7321 4C12.9623 2.66667 11.0378 2.66667 10.268 4L3.33978 16C2.56998 17.3333 3.53223 19 5.07183 19Z\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </IconSVG>\n  );\n}\n","import { formatGwei } from \"viem\";\n\nexport function formatGas(wei: bigint) {\n  // TODO: should this support non-ether decimals?\n  const formatted = formatGwei(wei);\n  const magnitude = Math.floor(parseFloat(formatted)).toString().length;\n  return parseFloat(formatted).toLocaleString(\"en-US\", { maximumFractionDigits: Math.max(0, 6 - magnitude) });\n}\n","import { useEffect, useRef } from \"react\";\nimport { Chain } from \"viem\";\nimport { useAccount, useBalance, useWatchBlockNumber } from \"wagmi\";\nimport { useIsMounted } from \"usehooks-ts\";\nimport { twMerge } from \"tailwind-merge\";\nimport { useShowQueryError } from \"../../errors/useShowQueryError\";\nimport { useBalance as useQuarryBalance } from \"../quarry/useBalance\";\nimport { ChainSelect } from \"./ChainSelect\";\nimport { AmountInput } from \"./AmountInput\";\nimport { PendingIcon } from \"../../icons/PendingIcon\";\nimport { SubmitButton } from \"./SubmitButton\";\nimport { WarningIcon } from \"../../icons/WarningIcon\";\nimport { formatGas } from \"../../formatGas\";\nimport { Balance } from \"../../ui/Balance\";\n\nexport const DEFAULT_DEPOSIT_AMOUNT = 0.005;\n\nexport type Props = {\n  sourceChain: Chain;\n  setSourceChainId: (chainId: number) => void;\n  amount: bigint | undefined;\n  setAmount: (amount: bigint | undefined) => void;\n  estimatedFee: {\n    fee?: bigint | undefined;\n    isLoading?: boolean | undefined;\n    error: Error | undefined;\n  };\n  estimatedTime: string;\n  onSubmit: () => Promise<void>;\n  submitButton: React.ReactNode;\n};\n\nexport function DepositForm({\n  sourceChain,\n  setSourceChainId,\n  amount,\n  setAmount,\n  estimatedFee,\n  estimatedTime,\n  onSubmit,\n  submitButton,\n}: Props) {\n  const amountInputRef = useRef<HTMLInputElement | null>(null);\n  const isMounted = useIsMounted();\n\n  const { address: userAddress, chainId: userChainId } = useAccount();\n  const balance = useShowQueryError(useBalance({ chainId: sourceChain.id, address: userAddress }));\n  const quarryBalance = useShowQueryError(useQuarryBalance(userAddress));\n  useWatchBlockNumber({\n    onBlockNumber: () => {\n      balance.refetch();\n      quarryBalance.refetch();\n    },\n  });\n\n  const minimumBalance = amount != null ? amount + (estimatedFee?.fee ?? 0n) : undefined;\n  const hasMinimumBalance = balance.data != null ? balance.data.value > (minimumBalance ?? 0n) : undefined;\n\n  // Re-focus input if chain ID changes (otherwise the chain select is still in focus)\n  useEffect(() => {\n    amountInputRef.current?.focus();\n  }, [userChainId]);\n\n  return (\n    <form\n      className=\"flex flex-col gap-5\"\n      onSubmit={async (event) => {\n        event.preventDefault();\n\n        try {\n          await onSubmit();\n          if (isMounted()) {\n            setAmount(undefined);\n            if (amountInputRef.current) {\n              amountInputRef.current.value = \"\";\n            }\n          }\n        } catch (error) {\n          // Let's hope each deposit form's wrapper is rendering its own errors\n          console.error(\"Error during deposit\", error);\n        } finally {\n          // Re-focus input after submit (otherwise the submit button is still in focus)\n          amountInputRef.current?.focus();\n        }\n      }}\n    >\n      <div className=\"flex gap-2\">\n        <ChainSelect value={sourceChain.id} onChange={setSourceChainId} />\n        <AmountInput ref={amountInputRef} initialAmount={amount} onChange={setAmount} />\n      </div>\n\n      <dl\n        className={twMerge(\n          \"grid grid-cols-2 divide-y text-sm leading-loose [&_>_:is(dt,dd)]:px-1 [&_>_dd]:text-right\",\n          \"divide-neutral-700 text-neutral-400\",\n        )}\n      >\n        <dt>Available to deposit</dt>\n        <dd>\n          {balance.isSuccess ? (\n            <Balance wei={balance.data.value} />\n          ) : balance.isError ? (\n            <span title={String(balance.error)}>\n              <WarningIcon className=\"inline-block text-amber-500\" />\n            </span>\n          ) : balance.isLoading ? (\n            <PendingIcon className=\"inline-block text-xs\" />\n          ) : null}\n        </dd>\n\n        <dt>Gas balance after deposit</dt>\n        <dd>\n          <Balance wei={(quarryBalance.data ?? 0n) + (amount ?? 0n)} />\n        </dd>\n\n        <dt>Estimated fee</dt>\n        <dd>\n          {estimatedFee.fee ? (\n            <>{formatGas(estimatedFee.fee)} gwei</>\n          ) : estimatedFee.error ? (\n            <span title={String(estimatedFee.error)}>\n              <WarningIcon className=\"inline-block text-amber-500\" />\n            </span>\n          ) : estimatedFee.isLoading ? (\n            <PendingIcon className=\"inline-block text-xs\" />\n          ) : null}\n        </dd>\n        <dt>Time to deposit</dt>\n        <dd>{estimatedTime}</dd>\n      </dl>\n\n      {hasMinimumBalance ? submitButton : <SubmitButton disabled>Not enough funds</SubmitButton>}\n    </form>\n  );\n}\n","import { Hex, TransactionReceipt } from \"viem\";\nimport { createStore } from \"zustand/vanilla\";\nimport { useStore } from \"zustand\";\nimport { useCallback, useMemo } from \"react\";\n\nexport type DepositBase = {\n  readonly type: \"transfer\" | \"relay\";\n  readonly amount: bigint;\n  readonly chainL1Id: number;\n  readonly chainL2Id: number;\n  readonly start: Date;\n  readonly estimatedTime: number;\n  readonly isComplete: Promise<void>;\n};\n\nexport type TransferDeposit = Omit<DepositBase, \"type\"> & {\n  readonly type: \"transfer\";\n  readonly hash: Hex;\n  readonly receipt: Promise<TransactionReceipt>;\n};\n\nexport type RelayDeposit = Omit<DepositBase, \"type\"> & {\n  readonly type: \"relay\";\n  readonly requestId: string;\n  readonly depositPromise: Promise<unknown>;\n};\n\nexport type Deposit = DepositBase & (TransferDeposit | RelayDeposit);\n\nconst store = createStore<{\n  readonly count: number;\n  readonly deposits: readonly (Deposit & { readonly uid: string })[];\n}>(() => ({\n  count: 0,\n  deposits: [],\n}));\n\nexport function useDeposits() {\n  const deposits = useStore(store, (state) => state.deposits);\n  const addDeposit = useCallback((transaction: Deposit) => {\n    store.setState((state) => {\n      if (transaction.type === \"relay\") {\n        const existingDeposit = state.deposits.find(\n          (deposit) => deposit.type === \"relay\" && deposit.requestId === transaction.requestId,\n        );\n\n        if (existingDeposit) {\n          return state;\n        }\n      }\n\n      return {\n        count: state.count + 1,\n        deposits: [\n          ...state.deposits,\n          {\n            ...transaction,\n            uid: `deposit-${state.count}`,\n          },\n        ],\n      };\n    });\n  }, []);\n\n  const removeDeposit = useCallback((uid: string) => {\n    store.setState((state) => ({\n      deposits: state.deposits.filter((deposit) => deposit.uid !== uid),\n    }));\n  }, []);\n\n  return useMemo(\n    () => ({\n      deposits,\n      addDeposit,\n      removeDeposit,\n    }),\n    [addDeposit, deposits, removeDeposit],\n  );\n}\n","import { useAccount, useWriteContract, usePrepareTransactionRequest, usePublicClient } from \"wagmi\";\nimport { Chain, encodeFunctionData } from \"viem\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { DepositForm } from \"./DepositForm\";\nimport { SubmitButton } from \"./SubmitButton\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { getPaymaster } from \"../../getPaymaster\";\nimport { paymasterAbi } from \"../../quarry/common\";\nimport { TransferDeposit, useDeposits } from \"./useDeposits\";\n\ntype Props = {\n  amount: bigint | undefined;\n  setAmount: (amount: bigint | undefined) => void;\n  sourceChain: Chain;\n  setSourceChainId: (chainId: number) => void;\n};\n\nexport function DepositViaTransferForm({ amount, setAmount, sourceChain, setSourceChainId }: Props) {\n  const { chain, paymasterOverride } = useEntryKitConfig();\n  const paymaster = getPaymaster(chain, paymasterOverride);\n  const publicClient = usePublicClient();\n  const { address: userAddress } = useAccount();\n  const { writeContractAsync } = useWriteContract();\n  const { addDeposit } = useDeposits();\n\n  if (!userAddress) {\n    throw new Error(\"User address not found\");\n  }\n\n  const { data: gasPrice } = useQuery({\n    queryKey: [\"gasPrice\", sourceChain.id],\n    queryFn: async () => {\n      if (!publicClient) throw new Error(\"Public client not available\");\n      return publicClient.getGasPrice();\n    },\n    refetchInterval: 15000,\n    enabled: !!publicClient,\n  });\n\n  const { data: prepareData, error: prepareError } = usePrepareTransactionRequest({\n    to: paymaster?.address,\n    data: encodeFunctionData({\n      abi: paymasterAbi,\n      functionName: \"depositTo\",\n      args: [userAddress],\n    }),\n    value: amount,\n  });\n\n  const deposit = useMutation({\n    mutationKey: [\"depositViaTransfer\", amount?.toString()],\n    mutationFn: async () => {\n      if (!paymaster?.address) throw new Error(\"Paymaster not found\");\n      if (!publicClient) throw new Error(\"Public client not found\");\n      if (!amount) throw new Error(\"Amount cannot be 0\");\n\n      try {\n        const hash = await writeContractAsync({\n          address: paymaster.address,\n          abi: paymasterAbi,\n          functionName: \"depositTo\",\n          args: [userAddress],\n          value: amount,\n        });\n\n        const receipt = publicClient.waitForTransactionReceipt({ hash }).then((receipt) => {\n          if (receipt.status === \"reverted\") {\n            throw new Error(\"Transfer transaction reverted.\");\n          }\n          return receipt;\n        });\n\n        const pendingDeposit = {\n          type: \"transfer\",\n          amount,\n          chainL1Id: sourceChain.id,\n          chainL2Id: chain.id,\n          hash,\n          receipt,\n          start: new Date(),\n          estimatedTime: 1000 * 12,\n          isComplete: receipt.then(() => undefined),\n        } satisfies TransferDeposit;\n\n        addDeposit(pendingDeposit);\n      } catch (error) {\n        console.error(\"Error while depositing via bridge\", error);\n        throw error;\n      }\n    },\n  });\n\n  const estimatedFee = prepareData?.gas && gasPrice ? prepareData.gas * gasPrice : undefined;\n  return (\n    <DepositForm\n      sourceChain={sourceChain}\n      setSourceChainId={setSourceChainId}\n      amount={amount}\n      setAmount={setAmount}\n      estimatedFee={{\n        fee: estimatedFee,\n        isLoading: (!prepareData && !prepareError) || !gasPrice,\n        error: prepareError instanceof Error ? prepareError : undefined,\n      }}\n      estimatedTime=\"A few seconds\"\n      onSubmit={async () => {\n        await deposit.mutateAsync();\n      }}\n      submitButton={\n        <SubmitButton\n          variant=\"primary\"\n          amount={amount}\n          chainId={sourceChain.id}\n          disabled={!!prepareError || !amount || !userAddress}\n          pending={deposit.isPending}\n        >\n          Deposit\n        </SubmitButton>\n      }\n    />\n  );\n}\n","import { Chain, encodeFunctionData } from \"viem\";\nimport { useAccount, useWalletClient } from \"wagmi\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { Execute } from \"@reservoir0x/relay-sdk\";\nimport { SubmitButton } from \"./SubmitButton\";\nimport { DepositForm } from \"./DepositForm\";\nimport { useRelay } from \"./useRelay\";\nimport { useDeposits } from \"./useDeposits\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { getPaymaster } from \"../../getPaymaster\";\nimport { paymasterAbi } from \"../../quarry/common\";\n\nconst ETH_ADDRESS = \"0x0000000000000000000000000000000000000000\";\n\ntype Props = {\n  amount: bigint | undefined;\n  setAmount: (amount: bigint | undefined) => void;\n  sourceChain: Chain;\n  setSourceChainId: (chainId: number) => void;\n};\n\nexport function DepositViaRelayForm({ amount, setAmount, sourceChain, setSourceChainId }: Props) {\n  const { chain, chainId: destinationChainId, paymasterOverride } = useEntryKitConfig();\n  const paymaster = getPaymaster(chain, paymasterOverride);\n  const { data: wallet } = useWalletClient();\n  const { address: userAddress } = useAccount();\n  const { addDeposit } = useDeposits();\n  const { data: relay } = useRelay();\n  const relayClient = relay?.client;\n\n  const quote = useQuery<Execute>({\n    queryKey: [\"relayBridgeQuote\", sourceChain.id, amount?.toString()],\n    queryFn: async () => {\n      if (!relayClient) throw new Error(\"No Relay client found.\");\n      if (!userAddress) throw new Error(\"No user address found.\");\n\n      const result = await relayClient.actions.getQuote({\n        chainId: sourceChain.id,\n        toChainId: destinationChainId,\n        currency: ETH_ADDRESS,\n        toCurrency: ETH_ADDRESS,\n        amount: amount?.toString(),\n        tradeType: \"EXACT_OUTPUT\",\n        recipient: paymaster?.address,\n        wallet,\n        txs: [\n          {\n            to: paymaster?.address,\n            data: encodeFunctionData({\n              abi: paymasterAbi,\n              functionName: \"depositTo\",\n              args: [userAddress],\n            }),\n            value: amount?.toString(),\n          },\n        ],\n      });\n\n      if (!result) {\n        throw new Error(\"Failed to get relay quote\");\n      }\n\n      return result as Execute;\n    },\n    retry: 1,\n    refetchInterval: 15_000,\n    enabled: !!amount && !!userAddress && !!relayClient,\n  });\n\n  const deposit = useMutation({\n    mutationKey: [\"depositViaRelay\", sourceChain.id, amount?.toString()],\n    mutationFn: async ({ quote, amount }: { quote: Execute; amount: bigint }) => {\n      if (!relayClient) throw new Error(\"No Relay client found.\");\n      if (!wallet) throw new Error(\"No wallet found.\");\n\n      try {\n        return new Promise((resolve) => {\n          const pendingDeposit = relayClient.actions.execute({\n            quote,\n            wallet,\n            onProgress(progress) {\n              const currentStep = progress.currentStep;\n              const requestId = currentStep?.requestId;\n              const currentState = currentStep?.items[0]?.progressState;\n\n              if (requestId && currentState === \"validating\") {\n                addDeposit({\n                  type: \"relay\",\n                  requestId,\n                  amount,\n                  chainL1Id: sourceChain.id,\n                  chainL2Id: destinationChainId,\n                  start: new Date(),\n                  estimatedTime: 1000 * 30,\n                  depositPromise: pendingDeposit,\n                  isComplete: pendingDeposit.then(() => undefined),\n                });\n                resolve(undefined);\n              }\n            },\n          });\n        });\n      } catch (error) {\n        console.error(\"Error while depositing via Relay\", error);\n        throw error;\n      }\n    },\n  });\n\n  const fees = quote.data?.fees;\n  const gasFee = BigInt(fees?.gas?.amount ?? 0);\n  const relayerFee = BigInt(fees?.relayer?.amount ?? 0);\n  const fee = gasFee + relayerFee;\n  return (\n    <DepositForm\n      sourceChain={sourceChain}\n      setSourceChainId={setSourceChainId}\n      amount={amount}\n      setAmount={setAmount}\n      estimatedFee={{\n        fee: fee != null ? BigInt(fee) : undefined,\n        isLoading: quote.isLoading,\n        error: quote.error instanceof Error ? quote.error : undefined,\n      }}\n      estimatedTime={\"A few seconds\"}\n      onSubmit={async () => {\n        if (!quote.data || !amount) return;\n        await deposit.mutateAsync({ quote: quote.data, amount });\n      }}\n      submitButton={\n        <SubmitButton\n          variant=\"primary\"\n          amount={amount}\n          chainId={sourceChain.id}\n          disabled={quote.isError || !amount}\n          pending={deposit.isPending}\n        >\n          Deposit\n        </SubmitButton>\n      }\n    />\n  );\n}\n","import { IconSVG, Props } from \"./IconSVG\";\n\nexport function CloseIcon(props: Props) {\n  return (\n    <IconSVG strokeWidth=\"2\" stroke=\"currentColor\" {...props}>\n      <path\n        d=\"M6 18L18 6M6 6L18 18\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </IconSVG>\n  );\n}\n","import { PendingIcon } from \"../../icons/PendingIcon\";\nimport { ReactNode, useEffect, useState } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\nimport { CheckIcon } from \"../../icons/CheckIcon\";\nimport { WarningIcon } from \"../../icons/WarningIcon\";\nimport { CloseIcon } from \"../../icons/CloseIcon\";\n\nexport type Props = {\n  status: \"pending\" | \"success\" | \"error\";\n  progress: {\n    duration: number;\n    elapsed: number;\n  };\n  onDismiss: () => void;\n  children: ReactNode;\n};\n\nexport function DepositStatus({ status, progress, children, onDismiss }: Props) {\n  const [appear, setAppear] = useState(false);\n  useEffect(() => {\n    setAppear(true);\n  }, []);\n\n  return (\n    <div className=\"group bg-neutral-900 flex flex-col animate-in fade-in slide-in-from-bottom-2 animate-out fade-out\">\n      <div className=\"py-1 text-sm flex items-center gap-2\">\n        <div className=\"flex-grow\">{children}</div>\n        <div className=\"flex-shrink-0 grid\">\n          <span className=\"col-start-1 row-start-1 transition opacity-100 group-hover:opacity-0 group-hover:pointer-events-none\">\n            {status === \"success\" ? (\n              <CheckIcon className=\"text-green-600\" />\n            ) : status === \"error\" ? (\n              <WarningIcon className=\"text-amber-500\" />\n            ) : (\n              <PendingIcon className=\"text-neutral-500 transition\" />\n            )}\n          </span>\n          <button\n            type=\"button\"\n            className={twMerge(\n              \"col-start-1 row-start-1 flex items-center justify-center transition\",\n              \"opacity-0 pointer-events-none\",\n              \"group-hover:opacity-100 group-hover:pointer-events-auto\",\n              \"text-neutral-500 hover:text-white\",\n            )}\n            title=\"Dismiss\"\n            onClick={onDismiss}\n          >\n            <CloseIcon />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"w-full h-[2px] -mt-full overflow-clip\">\n        <div\n          className={twMerge(\n            \"w-full h-full transition ease-linear\",\n            status === \"success\" ? \"bg-green-600\" : status === \"error\" ? \"bg-red-600\" : \"bg-blue-600\",\n            status === \"pending\" ? \"opacity-100\" : \"opacity-0\",\n          )}\n          style={\n            status === \"pending\"\n              ? {\n                  transform: appear ? `translateX(0)` : \"translate(-100%)\",\n                  transitionDuration: `${progress.duration}ms`,\n                  transitionDelay: `-${Math.min(progress.duration, progress.elapsed)}ms`,\n                }\n              : undefined\n          }\n        />\n      </div>\n    </div>\n  );\n}\n","import { useQuery } from \"@tanstack/react-query\";\nimport { DepositStatus } from \"./DepositStatus\";\nimport { useChains } from \"wagmi\";\nimport { TransferDeposit } from \"./useDeposits\";\nimport { Balance } from \"../../ui/Balance\";\n\nexport type Props = TransferDeposit & { onDismiss: () => void };\n\nexport function TransferDepositStatus({\n  amount,\n  chainL1Id,\n  hash,\n  receipt: receiptPromise,\n  start,\n  estimatedTime,\n  onDismiss,\n}: Props) {\n  const chains = useChains();\n  const chain = chains.find((chain) => chain.id === chainL1Id)!;\n\n  const receipt = useQuery({\n    queryKey: [\"transferDepositStatus\", hash],\n    queryFn: () => receiptPromise,\n  });\n\n  return (\n    <DepositStatus\n      status={receipt.status}\n      progress={{\n        duration: estimatedTime,\n        elapsed: Math.min(estimatedTime, Date.now() - start.getTime()),\n      }}\n      onDismiss={onDismiss}\n    >\n      {(() => {\n        const blockExplorer = chain.blockExplorers?.default.url;\n        if (receipt.status === \"pending\") {\n          return (\n            <>\n              Confirming deposit on{\" \"}\n              <a\n                href={blockExplorer ? `${blockExplorer}/tx/${hash}` : undefined}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n              >\n                {chain.name}\n              </a>\n              \n            </>\n          );\n        }\n        if (receipt.status === \"error\") {\n          return (\n            <>\n              Could not find deposit on{\" \"}\n              <a\n                href={blockExplorer ? `${blockExplorer}/tx/${hash}` : undefined}\n                target=\"_blank\"\n                rel=\"noreferrer noopener\"\n              >\n                {chain.name}\n              </a>\n              .\n            </>\n          );\n        }\n        return (\n          <>\n            Successfully{\" \"}\n            <a\n              href={blockExplorer ? `${blockExplorer}/tx/${receipt.data.transactionHash}` : undefined}\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n            >\n              deposited\n            </a>{\" \"}\n            <Balance wei={amount} />\n          </>\n        );\n      })()}\n    </DepositStatus>\n  );\n}\n","import { useQuery } from \"@tanstack/react-query\";\nimport { DepositStatus } from \"./DepositStatus\";\nimport { useChains } from \"wagmi\";\nimport { RelayDeposit } from \"./useDeposits\";\nimport { Balance } from \"../../ui/Balance\";\n\nexport type Props = RelayDeposit & { onDismiss: () => void };\n\nexport function RelayDepositStatus({\n  amount,\n  chainL1Id,\n  chainL2Id,\n  start,\n  estimatedTime,\n  depositPromise,\n  onDismiss,\n}: Props) {\n  const chains = useChains();\n  const chainL1 = chains.find((chain) => chain.id === chainL1Id)!;\n  const chainL2 = chains.find((chain) => chain.id === chainL2Id)!;\n\n  const deposit = useQuery({\n    queryKey: [\"relayDepositPromise\", chainL1Id, chainL2Id, amount.toString(), start.toISOString()],\n    queryFn: () => depositPromise,\n  });\n\n  return (\n    <DepositStatus\n      status={deposit.status}\n      progress={{\n        duration: estimatedTime,\n        elapsed: Math.min(estimatedTime, Date.now() - start.getTime()),\n      }}\n      onDismiss={onDismiss}\n    >\n      {(() => {\n        // const blockExplorerL1 = chainL1.blockExplorers?.default.url;\n        // const blockExplorerL2 = chainL2.blockExplorers?.default.url;\n        if (deposit.status === \"pending\") {\n          // TODO: link to block explorer once we get a tx hash\n          return <>Relay bridge deposit pending on {chainL1.name}</>;\n        }\n        if (deposit.status === \"error\") {\n          return <>Relay bridge deposit to {chainL2.name} failed.</>;\n        }\n        return (\n          <>\n            Successfully bridged <Balance wei={amount} /> to {chainL2.name}!\n          </>\n        );\n      })()}\n    </DepositStatus>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { TransferDepositStatus } from \"./TransferDepositStatus\";\nimport { RelayDepositStatus } from \"./RelayDepositStatus\";\nimport { useDeposits } from \"./useDeposits\";\nimport { useAccount, useClient } from \"wagmi\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\n\nexport function Deposits() {\n  const queryClient = useQueryClient();\n  const { chainId } = useEntryKitConfig();\n  const client = useClient({ chainId });\n  const { address: userAddress } = useAccount();\n  const { deposits, removeDeposit } = useDeposits();\n  const { data: isComplete } = useQuery({\n    queryKey: [\"depositsComplete\", deposits.map((deposit) => deposit.uid)],\n    queryFn: async () => {\n      if (!deposits.length) return false;\n      await Promise.all(deposits.map((deposit) => deposit.isComplete));\n      return true;\n    },\n  });\n\n  useEffect(() => {\n    if (isComplete) {\n      queryClient.invalidateQueries({ queryKey: [\"balance\"] });\n      queryClient.invalidateQueries({ queryKey: [\"getBalance\", client?.uid, userAddress] });\n    }\n  }, [client?.uid, isComplete, queryClient, userAddress]);\n\n  if (!deposits.length) return null;\n\n  return (\n    <div className=\"flex flex-col gap-1 mt-4\">\n      {deposits.map((deposit) => {\n        if (deposit.type === \"transfer\") {\n          return <TransferDepositStatus key={deposit.uid} {...deposit} onDismiss={() => removeDeposit(deposit.uid)} />;\n        } else if (deposit.type === \"relay\") {\n          return <RelayDepositStatus key={deposit.uid} {...deposit} onDismiss={() => removeDeposit(deposit.uid)} />;\n        }\n      })}\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useChains, useChainId } from \"wagmi\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { DepositViaTransferForm } from \"./DepositViaTransferForm\";\nimport { DepositViaRelayForm } from \"./DepositViaRelayForm\";\nimport { Deposits } from \"./Deposits\";\n\nexport function DepositFormContainer() {\n  const { chainId: destinationChainId } = useEntryKitConfig();\n  const chainId = useChainId();\n  const chains = useChains();\n  const [amount, setAmount] = useState<bigint | undefined>(undefined);\n  const [sourceChainId, setSourceChainId] = useState(chainId);\n  const sourceChain = chains.find(({ id }) => id === sourceChainId)!;\n\n  return (\n    <div className=\"pt-10 pb-2\">\n      {destinationChainId === sourceChainId ? (\n        <DepositViaTransferForm\n          amount={amount}\n          setAmount={setAmount}\n          sourceChain={sourceChain}\n          setSourceChainId={setSourceChainId}\n        />\n      ) : (\n        <DepositViaRelayForm\n          amount={amount}\n          setAmount={setAmount}\n          sourceChain={sourceChain}\n          setSourceChainId={setSourceChainId}\n        />\n      )}\n\n      <Deposits />\n    </div>\n  );\n}\n","import { IconSVG, Props } from \"./IconSVG\";\n\nexport function ArrowLeftIcon(props: Props) {\n  return (\n    <IconSVG {...props}>\n      <path\n        d=\"M19 12H5M12 19l-7-7 7-7\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </IconSVG>\n  );\n}\n","import { Address } from \"viem\";\nimport { getAction } from \"viem/utils\";\nimport { waitForTransactionReceipt } from \"viem/actions\";\nimport { useAccount, useClient, useSwitchChain, useWriteContract } from \"wagmi\";\nimport { twMerge } from \"tailwind-merge\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { getPaymaster } from \"../../getPaymaster\";\nimport { paymasterAbi } from \"../../quarry/common\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { useShowQueryError } from \"../../errors/useShowQueryError\";\nimport { useBalance } from \"./useBalance\";\nimport { PendingIcon } from \"../../icons/PendingIcon\";\n\nexport type Props = {\n  userAddress: Address;\n};\n\nexport function WithdrawGasBalanceButton({ userAddress }: Props) {\n  const { writeContractAsync } = useWriteContract();\n  const { switchChain } = useSwitchChain();\n  const { chain, chainId } = useEntryKitConfig();\n  const { chainId: userChainId } = useAccount();\n  const queryClient = useQueryClient();\n  const client = useClient({ chainId });\n  const paymaster = getPaymaster(chain, undefined);\n  const balance = useShowQueryError(useBalance(userAddress));\n  const shouldSwitchChain = chainId != null && chainId !== userChainId;\n\n  const withdraw = useMutation({\n    mutationKey: [\"withdraw\", userAddress],\n    mutationFn: async () => {\n      if (!client) throw new Error(\"Client not ready.\");\n      if (!paymaster?.address) throw new Error(\"Paymaster not found\");\n      if (!balance.data) throw new Error(\"No gas balance to withdraw.\");\n\n      try {\n        const hash = await writeContractAsync({\n          address: paymaster.address,\n          abi: paymasterAbi,\n          functionName: \"withdrawTo\",\n          args: [userAddress, balance.data],\n          chainId,\n        });\n        await getAction(client, waitForTransactionReceipt, \"waitForTransactionReceipt\")({ hash });\n\n        await Promise.all([\n          queryClient.invalidateQueries({ queryKey: [\"balance\"] }),\n          queryClient.invalidateQueries({ queryKey: [\"getFunds\"] }),\n          queryClient.invalidateQueries({ queryKey: [\"getPrerequisites\"] }),\n        ]);\n      } catch (error) {\n        console.error(\"Error while withdrawing\", error);\n        throw error;\n      }\n    },\n  });\n\n  if (balance.data == null || balance.data === 0n) {\n    return null;\n  }\n\n  return (\n    <button\n      onClick={() => {\n        if (shouldSwitchChain) {\n          return switchChain({ chainId });\n        }\n        withdraw.mutate();\n      }}\n      className={twMerge(\n        \"text-sm font-medium text-white/50 group whitespace-nowrap\",\n        withdraw.isPending ? \"opacity-50 pointer-events-none\" : \"cursor-pointer hover:text-white\",\n      )}\n      disabled={withdraw.isPending}\n    >\n      <span className=\"inline-block\">\n        <span\n          className={twMerge(\n            \"inline-flex items-center gap-1 underline decoration-neutral-500 underline-offset-4\",\n            !withdraw.isPending && \"hover:decoration-orange-500\",\n            shouldSwitchChain && \"group-hover:hidden\",\n          )}\n        >\n          {withdraw.isPending && <PendingIcon className=\"w-3 h-3\" />}\n          Withdraw\n        </span>\n\n        {shouldSwitchChain && (\n          <span className=\"hidden group-hover:inline-block underline decoration-neutral-500 underline-offset-4 hover:decoration-orange-500\">\n            Switch chain\n          </span>\n        )}\n      </span>\n    </button>\n  );\n}\n","import { Address, EIP1193RequestFn, Transport, http } from \"viem\";\n\nexport type QuarrySponsorRpcSchema = [\n  {\n    Method: \"sponsor_requestAllowance\";\n    Parameters: [receiver: Address];\n    ReturnType: { message: string };\n  },\n];\n\nexport function quarrySponsor(): Transport<\"http\", {}, EIP1193RequestFn<QuarrySponsorRpcSchema>> {\n  return ({ chain }) => {\n    if (!chain) throw new Error(\"No chain provided to quarrySponsor transport.\");\n\n    const url = \"quarrySponsor\" in chain.rpcUrls ? chain.rpcUrls.quarrySponsor.http[0] : undefined;\n    // TODO: add fallback for anvil to do what quarrySponsor does internally\n    if (!url) throw new Error(`No \\`quarrySponsor\\` RPC URL found for chain ${chain.id}.`);\n\n    return http(url)({ chain, retryCount: 0 });\n  };\n}\n","import { Address, Chain } from \"viem\";\nimport { quarrySponsor } from \"./transports/quarrySponsor\";\nimport { debug } from \"./debug\";\n\nexport async function requestAllowance({ chain, userAddress }: { chain: Chain; userAddress: Address }) {\n  const transport = quarrySponsor()({ chain });\n\n  debug(\"Requesting allowance for\", userAddress);\n  await transport.request({\n    method: \"sponsor_requestAllowance\",\n    params: [userAddress],\n  });\n}\n","import { Address } from \"viem\";\nimport { useEntryKitConfig } from \"../../EntryKitConfigProvider\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { requestAllowance } from \"../../quarry/requestAllowance\";\n\nexport function useRequestAllowance() {\n  const queryClient = useQueryClient();\n  const { chain } = useEntryKitConfig();\n\n  const mutationKey = [\"requestAllowance\", chain.id];\n  return useMutation({\n    retry: 0,\n    mutationKey,\n    mutationFn: async (userAddress: Address) => {\n      await requestAllowance({ chain, userAddress });\n\n      await Promise.all([\n        queryClient.invalidateQueries({ queryKey: [\"getAllowance\"] }),\n        queryClient.invalidateQueries({ queryKey: [\"getFunds\"] }),\n        queryClient.invalidateQueries({ queryKey: [\"getPrerequisites\"] }),\n      ]);\n    },\n  });\n}\n","import { useEffect } from \"react\";\nimport { Hex } from \"viem\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { PendingIcon } from \"../../icons/PendingIcon\";\nimport { Button } from \"../../ui/Button\";\nimport { Balance } from \"../../ui/Balance\";\nimport { useShowQueryError } from \"../../errors/useShowQueryError\";\nimport { useBalance } from \"./useBalance\";\nimport { DepositFormContainer } from \"../deposit/DepositFormContainer\";\nimport { ArrowLeftIcon } from \"../../icons/ArrowLeftIcon\";\nimport { StepContentProps } from \"../common\";\nimport { usePrevious } from \"../../errors/usePrevious\";\nimport { WithdrawGasBalanceButton } from \"./WithdrawGasBalanceButton\";\nimport { useAllowance } from \"./useAllowance\";\nimport { useRequestAllowance } from \"./useRequestAllowance\";\nimport { Paymaster } from \"../../getPaymaster\";\n\nexport type Props = StepContentProps & {\n  userAddress: Hex;\n  paymaster: Paymaster;\n};\n\nexport function GasBalance({ isActive, isExpanded, isFocused, setFocused, userAddress, paymaster }: Props) {\n  const queryClient = useQueryClient();\n  const balance = useShowQueryError(useBalance(userAddress));\n  const prevBalance = usePrevious(balance.data || 0n);\n\n  const allowance = useShowQueryError(useAllowance(userAddress));\n  const prevAllowance = usePrevious(allowance.data || 0n);\n  const requestAllowance = useRequestAllowance();\n\n  useEffect(() => {\n    if (balance.data != null && prevBalance === 0n && balance.data > 0n) {\n      queryClient.invalidateQueries({ queryKey: [\"getPrerequisites\"] });\n      setFocused(false);\n    }\n  }, [balance.data, prevBalance, setFocused, queryClient, userAddress]);\n\n  useEffect(() => {\n    if (allowance.data != null && prevAllowance === 0n && allowance.data > 0n) {\n      queryClient.invalidateQueries({ queryKey: [\"getPrerequisites\"] });\n      setFocused(false);\n    }\n  }, [allowance.data, prevAllowance, setFocused, queryClient, userAddress]);\n\n  const gasBalance = balance.data != null && allowance.data != null ? balance.data + allowance.data : null;\n  useEffect(() => {\n    if (!isActive) return;\n    if (!paymaster.canSponsor) return;\n    if (gasBalance !== 0n) return;\n    if (requestAllowance.status !== \"idle\") return;\n\n    // There seems to be a tanstack-query bug(?) where multiple simultaneous renders loses\n    // state between the two mutations. They're not treated as shared state but rather\n    // individual mutations, even though the keys match. And the one we want the status of\n    // seems to stay pending. This is sorta resolved by triggering this after a timeout.\n    const timer = setTimeout(() => {\n      console.log(\"no funds, requesting allowance\");\n      requestAllowance.mutate(userAddress, {\n        onSuccess(data) {\n          console.log(\"got allowance\", data);\n        },\n        onError(error) {\n          console.log(\"failed to get allowance\", error);\n        },\n      });\n    });\n    return () => clearTimeout(timer);\n  }, [isActive, paymaster.canSponsor, gasBalance, requestAllowance, userAddress]);\n\n  if (isFocused) {\n    return (\n      <div>\n        {isFocused && (\n          <div className=\"absolute top-0 left-0\">\n            <div\n              className=\"flex items-center justify-center w-10 h-10 text-white/20 hover:text-white/40 cursor-pointer\"\n              onClick={() => setFocused(false)}\n            >\n              <ArrowLeftIcon className=\"m-0\" />\n            </div>\n          </div>\n        )}\n        <DepositFormContainer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex justify-between gap-4\">\n        <div>\n          <div>Gas balance</div>\n          <div className=\"font-mono text-white\">\n            {gasBalance != null ? <Balance wei={gasBalance} /> : <PendingIcon className=\"text-sm\" />}\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-1 justify-center items-center\">\n          <Button\n            variant={isActive ? \"primary\" : \"tertiary\"}\n            className=\"flex-shrink-0 text-sm p-1 w-28\"\n            autoFocus={isActive || isExpanded}\n            pending={\n              balance.status === \"pending\" || allowance.status === \"pending\" || requestAllowance.status === \"pending\"\n            }\n            onClick={() => setFocused(true)}\n          >\n            Top up\n          </Button>\n\n          <WithdrawGasBalanceButton userAddress={userAddress} />\n        </div>\n      </div>\n      {isExpanded ? (\n        <div className=\"text-sm space-y-2\">\n          <p>Your gas balance is used to pay for onchain computation.</p>\n          <p>\n            You have{\" \"}\n            <span className=\"font-mono\">\n              {balance.data != null ? <Balance wei={balance.data} /> : <PendingIcon className=\"text-sm\" />}\n            </span>{\" \"}\n            in gas deposits and{\" \"}\n            <span className=\"font-mono\">\n              {allowance.data != null ? <Balance wei={allowance.data} /> : <PendingIcon className=\"text-sm\" />}\n            </span>{\" \"}\n            in gas grants.\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Address } from \"viem\";\nimport { twMerge } from \"tailwind-merge\";\nimport { ConnectedClient } from \"../common\";\nimport { usePrerequisites } from \"./usePrerequisites\";\nimport { Wallet } from \"./Wallet\";\nimport { Session } from \"./Session\";\nimport { Step } from \"./common\";\nimport { useAccountModal } from \"../useAccountModal\";\nimport { useEntryKitConfig } from \"../EntryKitConfigProvider\";\nimport { getPaymaster } from \"../getPaymaster\";\nimport { GasBalance } from \"./GasBalance\";\nimport { GasBalance as QuarryGasBalance } from \"./quarry/GasBalance\";\nimport { Connector } from \"wagmi\";\n\nexport type Props = {\n  connector: Connector;\n  userClient: ConnectedClient;\n  initialUserAddress: Address | undefined;\n};\n\nexport function ConnectedSteps({ connector, userClient, initialUserAddress }: Props) {\n  const { chain, paymasterOverride } = useEntryKitConfig();\n  const paymaster = getPaymaster(chain, paymasterOverride);\n  const [focusedId, setFocusedId] = useState<string | null>(null);\n\n  const userAddress = userClient.account.address;\n  const { data: prerequisites, error: prerequisitesError } = usePrerequisites(userAddress);\n\n  useEffect(() => {\n    if (prerequisitesError) {\n      console.error(\"Could not get prerequisites\", prerequisitesError);\n    }\n  }, [prerequisitesError]);\n\n  const { closeAccountModal } = useAccountModal();\n  const isNewConnection = userAddress !== initialUserAddress;\n\n  const initialPrerequisites = useRef(prerequisites);\n  useEffect(() => {\n    if (prerequisites == null) return;\n    if (initialPrerequisites.current == null) {\n      initialPrerequisites.current = prerequisites;\n    }\n\n    if (prerequisites.complete) {\n      if (isNewConnection || !initialPrerequisites.current.complete) {\n        closeAccountModal();\n      }\n    }\n  }, [closeAccountModal, isNewConnection, prerequisites]);\n\n  const { sessionAddress, hasAllowance, isSpender, hasDelegation, hasGasBalance, hasQuarryGasBalance } =\n    prerequisites ?? {};\n\n  const steps = useMemo((): readonly Step[] => {\n    if (!userAddress) {\n      return [\n        {\n          id: \"wallet\",\n          isComplete: false,\n          content: () => null,\n        },\n      ];\n    }\n\n    const steps: Step[] = [\n      {\n        id: \"wallet\",\n        isComplete: true,\n        content: (props) => <Wallet {...props} userAddress={userAddress} />,\n      },\n    ];\n\n    if (!paymaster) {\n      if (sessionAddress != null) {\n        steps.push({\n          id: \"gasBalance\",\n          isComplete: !!hasGasBalance,\n          content: (props) => <GasBalance {...props} sessionAddress={sessionAddress} />,\n        });\n      }\n    } else if (paymaster.type === \"quarry\") {\n      steps.push({\n        id: \"gasBalanceQuarry\",\n        isComplete: !!hasQuarryGasBalance || !!hasAllowance,\n        content: (props) => <QuarryGasBalance {...props} userAddress={userAddress} paymaster={paymaster} />,\n      });\n    }\n\n    steps.push({\n      id: \"session\",\n      isComplete: !!isSpender && !!hasDelegation,\n      content: (props) => (\n        <Session\n          {...props}\n          userClient={userClient}\n          connector={connector}\n          registerSpender={!isSpender}\n          registerDelegation={!hasDelegation}\n        />\n      ),\n    });\n\n    return steps;\n  }, [\n    hasAllowance,\n    hasDelegation,\n    hasGasBalance,\n    hasQuarryGasBalance,\n    isSpender,\n    paymaster,\n    sessionAddress,\n    userAddress,\n    userClient,\n    connector,\n  ]);\n\n  const [selectedStepId] = useState<null | string>(null);\n  const nextStep = steps.find((step) => step.content != null && !step.isComplete);\n  const completedSteps = steps.filter((step) => step.isComplete);\n  const activeStep =\n    (selectedStepId != null ? steps.find((step) => step.id === selectedStepId) : null) ??\n    nextStep ??\n    (completedSteps.length < steps.length ? completedSteps.at(-1) : null);\n  const activeStepIndex = activeStep ? steps.indexOf(activeStep) : -1;\n\n  return (\n    <div\n      className={twMerge(\n        \"px-8 flex flex-col\",\n        \"divide-y divide-neutral-800\",\n        \"animate-in animate-duration-300 fade-in slide-in-from-bottom-8\",\n      )}\n    >\n      {steps.map((step, i) => {\n        const isActive = step === activeStep;\n        const isExpanded = isActive || completedSteps.length === steps.length;\n        const isDisabled = !step.isComplete && activeStepIndex !== -1 && i > activeStepIndex;\n        const isFocused = focusedId === step.id;\n\n        const content = step.content({\n          isActive,\n          isExpanded,\n          isFocused,\n          setFocused: (focused: boolean) => setFocusedId(focused ? step.id : null),\n        });\n\n        if (focusedId) {\n          if (step.id === focusedId) {\n            return content;\n          }\n          return null;\n        }\n\n        return (\n          <div key={step.id} className={twMerge(\"py-8 flex flex-col justify-center\", isActive ? \"flex-grow\" : null)}>\n            <div className={twMerge(\"flex flex-col\", isDisabled ? \"opacity-30 pointer-events-none\" : null)}>\n              {content}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import { useAccount, useConnectorClient } from \"wagmi\";\nimport { ConnectWallet } from \"./ConnectWallet\";\nimport { ConnectedSteps } from \"./onboarding/ConnectedSteps\";\nimport { useEntryKitConfig } from \"./EntryKitConfigProvider\";\nimport { useRef } from \"react\";\n\nexport function AccountModalContent() {\n  const { chainId } = useEntryKitConfig();\n  const { address: userAddress, connector } = useAccount();\n  const userClient = useConnectorClient({ chainId, connector });\n  const initialUserAddress = useRef(userAddress);\n\n  if (userClient.status !== \"success\") {\n    return <ConnectWallet />;\n  }\n\n  return (\n    <ConnectedSteps\n      connector={connector!}\n      userClient={userClient.data}\n      initialUserAddress={initialUserAddress.current}\n    />\n  );\n}\n","import { wait } from \"@latticexyz/common/utils\";\nimport { useEffect } from \"react\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = {\n  error?: Error;\n  dismiss?: () => unknown;\n  retry?: () => unknown | Promise<unknown>;\n};\n\nexport function ErrorOverlay({ error, retry, dismiss }: Props) {\n  useEffect(() => {\n    if (error) {\n      console.error(error);\n    }\n  }, [error]);\n\n  return (\n    <div className=\"pointer-events-none absolute inset-0 overflow-clip\">\n      <div\n        className={twMerge(\n          \"absolute inset-0 bg-blue-700/60\",\n          \"transition duration-300\",\n          error ? \"opacity-100 pointer-events-auto\" : \"opacity-0\",\n        )}\n      />\n      <div\n        className={twMerge(\n          \"absolute inset-0 pb-8\",\n          \"transition duration-300\",\n          error ? \"translate-y-0 opacity-100 pointer-events-auto\" : \"-translate-y-4 opacity-0\",\n        )}\n      >\n        {error ? (\n          <>\n            <div className=\"w-full max-h-full bg-blue-700 text-white/80 overflow-auto\">\n              <div className=\"space-y-6 px-8 pt-8\">\n                <div className=\"text-white text-lg font-bold\">Oops! It broke :(</div>\n                <div className=\"font-mono text-xs whitespace-pre-wrap\">{error.message.trim()}</div>\n                <div className=\"text-sm\">See the console for more info.</div>\n              </div>\n              <div className=\"pointer-events-none sticky bottom-0 left-0 -mt-2\">\n                <div className=\"w-full h-12 bg-gradient-to-b from-transparent to-blue-700\" />\n                {retry ? (\n                  <div className=\"bg-blue-700 text-center\">\n                    {/* TODO: replace with AsyncButton */}\n                    <button\n                      type=\"button\"\n                      className={twMerge(\n                        \"pointer-events-auto group w-24 p-1 -translate-y-2 transition\",\n                        \"bg-blue-600 hover:bg-blue-500 aria-busy:bg-blue-500\",\n                        \"text-white text-sm font-medium\",\n                        \"aria-busy:pointer-events-none\",\n                      )}\n                      onClick={async (event) => {\n                        // if we retry and the same error occurs, it'll look like the button click did nothing\n                        // so we'll fake a pending state here to give users an indication something is happening\n                        event.currentTarget.ariaBusy = \"true\";\n                        await wait(500);\n                        retry();\n                        if (event.currentTarget) {\n                          event.currentTarget.ariaBusy = null;\n                        }\n                      }}\n                    >\n                      {/* TODO: swap with pending icon */}\n                      <span className=\"group-aria-busy:hidden\">Retry</span>\n                      <span className=\"hidden group-aria-busy:inline\">Retrying</span>\n                    </button>\n                  </div>\n                ) : dismiss ? (\n                  <div className=\"bg-blue-700 text-center\">\n                    {/* TODO: replace with AsyncButton */}\n                    <button\n                      type=\"button\"\n                      className={twMerge(\n                        \"pointer-events-auto group w-24 p-1 -translate-y-2 transition\",\n                        \"bg-blue-600 hover:bg-blue-500 aria-busy:bg-blue-500\",\n                        \"text-white text-sm font-medium\",\n                        \"aria-busy:pointer-events-none\",\n                      )}\n                      onClick={dismiss}\n                    >\n                      Dismiss\n                    </button>\n                  </div>\n                ) : null}\n              </div>\n            </div>\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n","import { ReactNode } from \"react\";\nimport { FallbackProps } from \"react-error-boundary\";\nimport { ErrorOverlay } from \"./ErrorOverlay\";\n\nexport type Props = {\n  children: ReactNode;\n};\n\nexport function ErrorFallback({ error, resetErrorBoundary }: FallbackProps) {\n  return (\n    <div className=\"h-64\">\n      <ErrorOverlay error={error} retry={resetErrorBoundary} />\n    </div>\n  );\n}\n","import { useStore } from \"zustand\";\nimport { store } from \"./store\";\nimport { ErrorOverlay } from \"./ErrorOverlay\";\n\nexport function ErrorsOverlay() {\n  const error = useStore(store, (state) => state.errors.at(0));\n  return <ErrorOverlay error={error?.error} retry={error?.retry} dismiss={error?.dismiss} />;\n}\n","import { Modal } from \"./ui/Modal\";\nimport { useAccountModal } from \"./useAccountModal\";\nimport { twMerge } from \"tailwind-merge\";\nimport { AccountModalContent } from \"./AccountModalContent\";\nimport { DialogClose } from \"@radix-ui/react-dialog\";\nimport { CloseIcon } from \"./icons/CloseIcon\";\nimport { Logo } from \"./icons/Logo\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { ErrorFallback } from \"./errors/ErrorFallback\";\nimport { ErrorsOverlay } from \"./errors/ErrorsOverlay\";\n\nexport function AccountModal() {\n  const { accountModalOpen, toggleAccountModal } = useAccountModal();\n  return (\n    <Modal open={accountModalOpen} onOpenChange={toggleAccountModal}>\n      {accountModalOpen ? (\n        <div\n          className={twMerge(\n            \"relative py-2 ring-1\",\n            \"bg-neutral-900 text-neutral-400 ring-neutral-700/50\",\n            \"links:font-medium links:underline links:underline-offset-4\",\n            \"links:text-white\",\n            \"links:decoration-neutral-500 hover:links:decoration-orange-500\",\n          )}\n        >\n          <ErrorBoundary FallbackComponent={ErrorFallback}>\n            <AccountModalContent />\n            <ErrorsOverlay />\n          </ErrorBoundary>\n\n          <a\n            href=\"https://mud.dev\"\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n            className=\"group self-center p-3 flex items-center justify-center gap-2 links-unset text-sm font-mono transition text-neutral-400 hover:text-white\"\n          >\n            <span className=\"block w-4 h-4\">\n              <Logo className=\"w-full h-full text-orange-500 group-hover:rotate-90 transition duration-300\" />\n            </span>\n            <span>Powered by MUD</span>\n          </a>\n\n          <div className=\"absolute top-0 right-0\">\n            <DialogClose\n              className={twMerge(\n                \"pointer-events-auto leading-none p-2 transition\",\n                \"text-white/20 hover:text-white/40\",\n              )}\n              title=\"Close\"\n            >\n              <CloseIcon className=\"m-0\" />\n            </DialogClose>\n          </div>\n        </div>\n      ) : null}\n    </Modal>\n  );\n}\n","import { type ReactNode } from \"react\";\nimport { AccountModal } from \"./AccountModal\";\nimport { EntryKitConfig } from \"./config/output\";\nimport { EntryKitConfigProvider } from \"./EntryKitConfigProvider\";\n\n// We separate the config provider and wrap it here to always include the modal.\n// We could do this in EntryKitConfigProvider directly, but it mucks with hot\n// reloading in development and this approach lets us work around it more easily.\n\nexport type Props = {\n  config: EntryKitConfig;\n  children?: ReactNode;\n};\n\nexport function EntryKitProvider({ config, children }: Props) {\n  return (\n    <EntryKitConfigProvider config={config}>\n      {children}\n      <AccountModal />\n    </EntryKitConfigProvider>\n  );\n}\n","import { Hex } from \"viem\";\nimport { useENS } from \"./useENS\";\nimport { Logo } from \"./icons/Logo\";\nimport { TruncatedHex } from \"./ui/TruncatedHex\";\nimport { usePreloadImage } from \"./usePreloadImage\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport type Props = {\n  address: Hex;\n};\n\nexport function AccountName({ address }: Props) {\n  const { data: ens } = useENS(address);\n  const avatar = usePreloadImage(ens?.avatar);\n\n  return (\n    <>\n      <span className=\"flex-shrink-0 w-6 h-6 -my-1 -mx-0.5 grid place-items-center\">\n        <img\n          src={ens?.avatar && avatar.isSuccess ? ens.avatar : undefined}\n          className={twMerge(\n            \"col-start-1 row-start-1\",\n            \"inline-flex w-full h-full rounded-full bg-black/10 dark:bg-white/10 bg-cover bg-no-repeat bg-center\",\n            \"transtion duration-300\",\n            avatar.isSuccess ? \"opacity-100\" : \"opacity-0\",\n          )}\n        />\n        <Logo\n          className={twMerge(\n            \"col-start-1 row-start-1 text-orange-500\",\n            \"transition duration-300\",\n            ens && (!ens.avatar || avatar.isError) ? \"opacity-100\" : \"opacity-0\",\n          )}\n        />\n      </span>\n      <span className=\"flex-grow\">{ens?.name ?? <TruncatedHex hex={address} />}</span>\n    </>\n  );\n}\n","import { useAccountModal } from \"./useAccountModal\";\nimport { Shadow } from \"./ui/Shadow\";\nimport { Logo } from \"./icons/Logo\";\nimport { useAccount } from \"wagmi\";\nimport { twMerge } from \"tailwind-merge\";\nimport { PendingIcon } from \"./icons/PendingIcon\";\nimport { AccountName } from \"./AccountName\";\nimport { usePrerequisites } from \"./onboarding/usePrerequisites\";\nimport { useRef } from \"react\";\n\nconst containerClassNames = twMerge(\n  \"w-48 p-3 inline-flex outline-none transition\",\n  \"border border-transparent\",\n  \"text-base leading-none\",\n);\n\nconst secondaryClassNames = twMerge(\n  \"bg-neutral-100 border-neutral-300 text-black\",\n  \"dark:bg-neutral-800 dark:border-neutral-700 dark:text-white\",\n);\nconst secondaryInteractiveClassNames = twMerge(\n  \"cursor-pointer outline-none hover:bg-neutral-200 data-[highlighted]:bg-neutral-200 dark:hover:bg-neutral-700\",\n);\n\nexport function AccountButton() {\n  const { openAccountModal, accountModalOpen } = useAccountModal();\n  const { status, address: userAddress } = useAccount();\n  const initialUserAddress = useRef(userAddress);\n\n  const prereqs = usePrerequisites(userAddress);\n\n  // TODO: fix flash of button state signed in but incomplete onboarding\n  const isConnected = status === \"connected\" || (status === \"reconnecting\" && userAddress);\n  const isNewConnection = userAddress !== initialUserAddress.current;\n  const isSignedIn = prereqs.isSuccess ? prereqs.data.complete : isNewConnection ? false : isConnected;\n\n  const buttonLabel = (() => {\n    if (prereqs.isSuccess) {\n      if (!prereqs.data.hasAllowance) return \"Top up\";\n      if (!prereqs.data.hasDelegation || !prereqs.data.isSpender) return \"Set up\";\n    }\n    return \"Sign in\";\n  })();\n\n  return (\n    <Shadow mode=\"child\">\n      {isSignedIn ? (\n        <button\n          // key is used to avoid triggering transitions between connected/disconnected states\n          key=\"connected\"\n          type=\"button\"\n          className={twMerge(containerClassNames, secondaryClassNames, secondaryInteractiveClassNames)}\n          onClick={openAccountModal}\n        >\n          <span className=\"flex-grow inline-flex gap-2.5 items-center text-left font-medium\">\n            {userAddress ? <AccountName address={userAddress} /> : null}\n          </span>\n        </button>\n      ) : (\n        <button\n          // key is used to avoid triggering transitions between connected/disconnected states\n          key=\"sign in\"\n          type=\"button\"\n          className={twMerge(\n            containerClassNames,\n            \"group\",\n            \"items-center justify-center gap-2.5\",\n            \"bg-orange-500 text-white font-medium\",\n            \"hover:bg-orange-400\",\n            \"active:bg-orange-600\",\n          )}\n          aria-busy={accountModalOpen || prereqs.isPending}\n          onClick={openAccountModal}\n        >\n          <span className=\"pointer-events-none inline-grid place-items-center -ml-3\">\n            <span\n              className={twMerge(\n                \"col-start-1 row-start-1 leading-none\",\n                \"scale-100 opacity-100 transition duration-300\",\n                \"group-aria-busy:scale-125 group-aria-busy:opacity-0\",\n              )}\n            >\n              <Logo />\n            </span>\n            <span\n              aria-hidden\n              className={twMerge(\n                \"col-start-1 row-start-1\",\n                \"scale-50 opacity-0 transition duration-300 delay-50\",\n                \"group-aria-busy:scale-100 group-aria-busy:opacity-100\",\n              )}\n            >\n              <PendingIcon />\n            </span>\n          </span>\n          <span className=\"font-medium\">{buttonLabel}</span>\n        </button>\n      )}\n    </Shadow>\n  );\n}\n","// Exported `useSessionClient` variant and only provides the session client once all prerequisites are met.\n\nimport { useConnectorClient } from \"wagmi\";\nimport { useSessionClient } from \"./useSessionClient\";\nimport { useEntryKitConfig } from \"./EntryKitConfigProvider\";\nimport { usePrerequisites } from \"./onboarding/usePrerequisites\";\nimport { UseQueryResult } from \"@tanstack/react-query\";\nimport { SessionClient } from \"./common\";\n\nexport function useSessionClientReady(): UseQueryResult<SessionClient | undefined> {\n  const { chainId } = useEntryKitConfig();\n  const userClient = useConnectorClient({ chainId });\n  if (userClient.error) console.error(\"Error retrieving user client\", userClient.error);\n\n  const userAddress = userClient.data?.account.address;\n  const prerequisites = usePrerequisites(userAddress);\n  const sessionClient = useSessionClient(userAddress);\n\n  if (!prerequisites.isSuccess || !prerequisites.data.complete) {\n    return { ...prerequisites, data: undefined } as never;\n  }\n\n  return sessionClient;\n}\n","import { ChainNotConfiguredError, type Connector, ProviderNotFoundError, createConnector } from \"wagmi\";\nimport type { Chain, Transport } from \"viem\";\nimport type { EthereumProvider } from \"@walletconnect/ethereum-provider\";\nimport {\n  type AddEthereumChainParameter,\n  type Address,\n  type ProviderConnectInfo,\n  type ProviderRpcError,\n  type RpcError,\n  SwitchChainError,\n  UserRejectedRequestError,\n  getAddress,\n  numberToHex,\n} from \"viem\";\n\n// This is a fork of wagmi's WalletConnect connector and adjusts when the `switchChain` call is made\n// TODO: remove once https://github.com/wevm/wagmi/pull/4691 lands\n\ntype WalletConnectConnector = Connector & {\n  onDisplayUri(uri: string): void;\n  onSessionDelete(data: { topic: string }): void;\n};\n\ntype EthereumProviderOptions = Parameters<(typeof EthereumProvider)[\"init\"]>[0];\n\n// TODO: export from wagmi?\ntype Compute<type> = { [key in keyof type]: type[key] } & unknown;\ntype ExactPartial<type> = { [key in keyof type]?: type[key] | undefined };\ntype StrictOmit<type, keys extends keyof type> = Pick<type, Exclude<keyof type, keys>>;\n\nexport type WalletConnectParameters = Compute<\n  {\n    /**\n     * If a new chain is added to a previously existing configured connector `chains`, this flag\n     * will determine if that chain should be considered as stale. A stale chain is a chain that\n     * WalletConnect has yet to establish a relationship with (e.g. the user has not approved or\n     * rejected the chain).\n     *\n     * This flag mainly affects the behavior when a wallet does not support dynamic chain authorization\n     * with WalletConnect v2.\n     *\n     * If `true` (default), the new chain will be treated as a stale chain. If the user\n     * has yet to establish a relationship (approved/rejected) with this chain in their WalletConnect\n     * session, the connector will disconnect upon the dapp auto-connecting, and the user will have to\n     * reconnect to the dapp (revalidate the chain) in order to approve the newly added chain.\n     * This is the default behavior to avoid an unexpected error upon switching chains which may\n     * be a confusing user experience (e.g. the user will not know they have to reconnect\n     * unless the dapp handles these types of errors).\n     *\n     * If `false`, the new chain will be treated as a potentially valid chain. This means that if the user\n     * has yet to establish a relationship with the chain in their WalletConnect session, wagmi will successfully\n     * auto-connect the user. This comes with the trade-off that the connector will throw an error\n     * when attempting to switch to the unapproved chain if the wallet does not support dynamic session updates.\n     * This may be useful in cases where a dapp constantly\n     * modifies their configured chains, and they do not want to disconnect the user upon\n     * auto-connecting. If the user decides to switch to the unapproved chain, it is important that the\n     * dapp handles this error and prompts the user to reconnect to the dapp in order to approve\n     * the newly added chain.\n     *\n     * @default true\n     */\n    isNewChainsStale?: boolean;\n  } & StrictOmit<\n    EthereumProviderOptions,\n    \"chains\" | \"events\" | \"optionalChains\" | \"optionalEvents\" | \"optionalMethods\" | \"methods\" | \"rpcMap\" | \"showQrModal\"\n  > &\n    ExactPartial<Pick<EthereumProviderOptions, \"showQrModal\">>\n>;\n\nwalletConnect.type = \"walletConnect\" as const;\nexport function walletConnect(parameters: WalletConnectParameters) {\n  const isNewChainsStale = parameters.isNewChainsStale ?? true;\n\n  type Provider = Awaited<ReturnType<(typeof EthereumProvider)[\"init\"]>>;\n  type Properties = {\n    connect(parameters?: {\n      chainId?: number | undefined;\n      isReconnecting?: boolean | undefined;\n      pairingTopic?: string | undefined;\n    }): Promise<{\n      accounts: readonly Address[];\n      chainId: number;\n    }>;\n    getNamespaceChainsIds(): number[];\n    getRequestedChainsIds(): Promise<number[]>;\n    isChainsStale(): Promise<boolean>;\n    onConnect(connectInfo: ProviderConnectInfo): void;\n    onDisplayUri(uri: string): void;\n    onSessionDelete(data: { topic: string }): void;\n    setRequestedChainsIds(chains: number[]): void;\n    requestedChainsStorageKey: `${string}.requestedChains`;\n  };\n  type StorageItem = {\n    [_ in Properties[\"requestedChainsStorageKey\"]]: number[];\n  };\n\n  let provider_: Provider | undefined;\n  let providerPromise: Promise<typeof provider_>;\n  const NAMESPACE = \"eip155\";\n\n  let accountsChanged: WalletConnectConnector[\"onAccountsChanged\"] | undefined;\n  let chainChanged: WalletConnectConnector[\"onChainChanged\"] | undefined;\n  let connect: WalletConnectConnector[\"onConnect\"] | undefined;\n  let displayUri: WalletConnectConnector[\"onDisplayUri\"] | undefined;\n  let sessionDelete: WalletConnectConnector[\"onSessionDelete\"] | undefined;\n  let disconnect: WalletConnectConnector[\"onDisconnect\"] | undefined;\n\n  return createConnector<Provider, Properties, StorageItem>((config) => ({\n    id: \"walletConnect\",\n    name: \"WalletConnect\",\n    type: walletConnect.type,\n    async setup() {\n      const provider = await this.getProvider().catch(() => null);\n      if (!provider) return;\n      if (!connect) {\n        connect = this.onConnect.bind(this);\n        provider.on(\"connect\", connect);\n      }\n      if (!sessionDelete) {\n        sessionDelete = this.onSessionDelete.bind(this);\n        provider.on(\"session_delete\", sessionDelete);\n      }\n    },\n    async connect({ chainId, ...rest } = {}) {\n      try {\n        const provider = await this.getProvider();\n        if (!provider) throw new ProviderNotFoundError();\n        if (!displayUri) {\n          displayUri = this.onDisplayUri;\n          provider.on(\"display_uri\", displayUri);\n        }\n\n        let targetChainId = chainId;\n        if (!targetChainId) {\n          const state = (await config.storage?.getItem(\"state\")) ?? {};\n          const isChainSupported = config.chains.some((x) => x.id === state.chainId);\n          if (isChainSupported) targetChainId = state.chainId;\n          else targetChainId = config.chains[0]?.id;\n        }\n        if (!targetChainId) throw new Error(\"No chains found on connector.\");\n\n        const isChainsStale = await this.isChainsStale();\n        // If there is an active session with stale chains, disconnect current session.\n        if (provider.session && isChainsStale) await provider.disconnect();\n\n        // If there isn't an active session or chains are stale, connect.\n        if (!provider.session || isChainsStale) {\n          const optionalChains = config.chains\n            .filter((chain) => chain.id !== targetChainId)\n            .map((optionalChain) => optionalChain.id);\n          await provider.connect({\n            optionalChains: [targetChainId, ...optionalChains],\n            ...(\"pairingTopic\" in rest ? { pairingTopic: rest.pairingTopic } : {}),\n          });\n\n          this.setRequestedChainsIds(config.chains.map((x) => x.id));\n        }\n\n        // If session exists and chains are authorized, enable provider for required chain\n        const accounts = (await provider.enable()).map((x) => getAddress(x));\n\n        // Switch to chain if provided\n        let currentChainId = await this.getChainId();\n        if (chainId && currentChainId !== chainId) {\n          const chain = await this.switchChain!({ chainId }).catch((error) => {\n            if (error.code === UserRejectedRequestError.code) throw error;\n            return { id: currentChainId };\n          });\n          currentChainId = chain?.id ?? currentChainId;\n        }\n\n        if (displayUri) {\n          provider.removeListener(\"display_uri\", displayUri);\n          displayUri = undefined;\n        }\n        if (connect) {\n          provider.removeListener(\"connect\", connect);\n          connect = undefined;\n        }\n        if (!accountsChanged) {\n          accountsChanged = this.onAccountsChanged.bind(this);\n          provider.on(\"accountsChanged\", accountsChanged);\n        }\n        if (!chainChanged) {\n          chainChanged = this.onChainChanged.bind(this);\n          provider.on(\"chainChanged\", chainChanged);\n        }\n        if (!disconnect) {\n          disconnect = this.onDisconnect.bind(this);\n          provider.on(\"disconnect\", disconnect);\n        }\n        if (!sessionDelete) {\n          sessionDelete = this.onSessionDelete.bind(this);\n          provider.on(\"session_delete\", sessionDelete);\n        }\n\n        return { accounts, chainId: currentChainId };\n      } catch (error) {\n        if (/(user rejected|connection request reset)/i.test((error as ProviderRpcError)?.message)) {\n          throw new UserRejectedRequestError(error as Error);\n        }\n        throw error;\n      }\n    },\n    async disconnect() {\n      const provider = await this.getProvider();\n      try {\n        await provider?.disconnect();\n      } catch (error) {\n        if (!/No matching key/i.test((error as Error).message)) throw error;\n      } finally {\n        if (chainChanged) {\n          provider?.removeListener(\"chainChanged\", chainChanged);\n          chainChanged = undefined;\n        }\n        if (disconnect) {\n          provider?.removeListener(\"disconnect\", disconnect);\n          disconnect = undefined;\n        }\n        if (!connect) {\n          connect = this.onConnect.bind(this);\n          provider?.on(\"connect\", connect);\n        }\n        if (accountsChanged) {\n          provider?.removeListener(\"accountsChanged\", accountsChanged);\n          accountsChanged = undefined;\n        }\n        if (sessionDelete) {\n          provider?.removeListener(\"session_delete\", sessionDelete);\n          sessionDelete = undefined;\n        }\n\n        this.setRequestedChainsIds([]);\n      }\n    },\n    async getAccounts() {\n      const provider = await this.getProvider();\n      return provider.accounts.map((x) => getAddress(x));\n    },\n    async getProvider() {\n      async function initProvider() {\n        const optionalChains = config.chains.map((x) => x.id) as [number];\n        if (!optionalChains.length) return;\n        const { EthereumProvider } = await import(\"@walletconnect/ethereum-provider\");\n        return await EthereumProvider.init({\n          ...parameters,\n          disableProviderPing: true,\n          optionalChains,\n          projectId: parameters.projectId,\n          rpcMap: Object.fromEntries(\n            config.chains.map((chain) => {\n              const [url] = extractRpcUrls({\n                chain,\n                transports: config.transports,\n              });\n              return [chain.id, url];\n            }),\n          ),\n          showQrModal: parameters.showQrModal ?? true,\n        });\n      }\n\n      if (!provider_) {\n        if (!providerPromise) providerPromise = initProvider();\n        provider_ = await providerPromise;\n        provider_?.events.setMaxListeners(Number.POSITIVE_INFINITY);\n      }\n      return provider_!;\n    },\n    async getChainId() {\n      const provider = await this.getProvider();\n      return provider.chainId;\n    },\n    async isAuthorized() {\n      try {\n        const [accounts, provider] = await Promise.all([this.getAccounts(), this.getProvider()]);\n\n        // If an account does not exist on the session, then the connector is unauthorized.\n        if (!accounts.length) return false;\n\n        // If the chains are stale on the session, then the connector is unauthorized.\n        const isChainsStale = await this.isChainsStale();\n        if (isChainsStale && provider.session) {\n          await provider.disconnect().catch(() => {});\n          return false;\n        }\n        return true;\n      } catch {\n        return false;\n      }\n    },\n    async switchChain({ addEthereumChainParameter, chainId }) {\n      const provider = await this.getProvider();\n      if (!provider) throw new ProviderNotFoundError();\n\n      const chain = config.chains.find((x) => x.id === chainId);\n      if (!chain) throw new SwitchChainError(new ChainNotConfiguredError());\n\n      try {\n        await Promise.all([\n          new Promise<void>((resolve) => {\n            const listener = ({ chainId: currentChainId }: { chainId?: number | undefined }) => {\n              if (currentChainId === chainId) {\n                config.emitter.off(\"change\", listener);\n                resolve();\n              }\n            };\n            config.emitter.on(\"change\", listener);\n          }),\n          provider.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [{ chainId: numberToHex(chainId) }],\n          }),\n        ]);\n\n        const requestedChains = await this.getRequestedChainsIds();\n        this.setRequestedChainsIds([...requestedChains, chainId]);\n\n        return chain;\n      } catch (err) {\n        const error = err as RpcError;\n\n        if (/(user rejected)/i.test(error.message)) throw new UserRejectedRequestError(error);\n\n        // Indicates chain is not added to provider\n        try {\n          let blockExplorerUrls: string[] | undefined;\n          if (addEthereumChainParameter?.blockExplorerUrls)\n            blockExplorerUrls = addEthereumChainParameter.blockExplorerUrls;\n          else blockExplorerUrls = chain.blockExplorers?.default.url ? [chain.blockExplorers?.default.url] : [];\n\n          let rpcUrls: readonly string[];\n          if (addEthereumChainParameter?.rpcUrls?.length) rpcUrls = addEthereumChainParameter.rpcUrls;\n          else rpcUrls = [...chain.rpcUrls.default.http];\n\n          const addEthereumChain = {\n            blockExplorerUrls,\n            chainId: numberToHex(chainId),\n            chainName: addEthereumChainParameter?.chainName ?? chain.name,\n            iconUrls: addEthereumChainParameter?.iconUrls,\n            nativeCurrency: addEthereumChainParameter?.nativeCurrency ?? chain.nativeCurrency,\n            rpcUrls,\n          } satisfies AddEthereumChainParameter;\n\n          await provider.request({\n            method: \"wallet_addEthereumChain\",\n            params: [addEthereumChain],\n          });\n\n          const requestedChains = await this.getRequestedChainsIds();\n          this.setRequestedChainsIds([...requestedChains, chainId]);\n          return chain;\n        } catch (error) {\n          throw new UserRejectedRequestError(error as Error);\n        }\n      }\n    },\n    onAccountsChanged(accounts) {\n      if (accounts.length === 0) this.onDisconnect();\n      else\n        config.emitter.emit(\"change\", {\n          accounts: accounts.map((x) => getAddress(x)),\n        });\n    },\n    onChainChanged(chain) {\n      const chainId = Number(chain);\n      config.emitter.emit(\"change\", { chainId });\n    },\n    async onConnect(connectInfo) {\n      const chainId = Number(connectInfo.chainId);\n      const accounts = await this.getAccounts();\n      config.emitter.emit(\"connect\", { accounts, chainId });\n    },\n    async onDisconnect(_error) {\n      this.setRequestedChainsIds([]);\n      config.emitter.emit(\"disconnect\");\n\n      const provider = await this.getProvider();\n      if (accountsChanged) {\n        provider.removeListener(\"accountsChanged\", accountsChanged);\n        accountsChanged = undefined;\n      }\n      if (chainChanged) {\n        provider.removeListener(\"chainChanged\", chainChanged);\n        chainChanged = undefined;\n      }\n      if (disconnect) {\n        provider.removeListener(\"disconnect\", disconnect);\n        disconnect = undefined;\n      }\n      if (sessionDelete) {\n        provider.removeListener(\"session_delete\", sessionDelete);\n        sessionDelete = undefined;\n      }\n      if (!connect) {\n        connect = this.onConnect.bind(this);\n        provider.on(\"connect\", connect);\n      }\n    },\n    onDisplayUri(uri) {\n      config.emitter.emit(\"message\", { type: \"display_uri\", data: uri });\n    },\n    onSessionDelete() {\n      this.onDisconnect();\n    },\n    getNamespaceChainsIds() {\n      if (!provider_) return [];\n      const chainIds = provider_.session?.namespaces[NAMESPACE]?.accounts?.map((account) =>\n        Number.parseInt(account.split(\":\")[1] || \"\"),\n      );\n      return chainIds ?? [];\n    },\n    async getRequestedChainsIds() {\n      return (await config.storage?.getItem(this.requestedChainsStorageKey)) ?? [];\n    },\n    /**\n     * Checks if the target chains match the chains that were\n     * initially requested by the connector for the WalletConnect session.\n     * If there is a mismatch, this means that the chains on the connector\n     * are considered stale, and need to be revalidated at a later point (via\n     * connection).\n     *\n     * There may be a scenario where a dapp adds a chain to the\n     * connector later on, however, this chain will not have been approved or rejected\n     * by the wallet. In this case, the chain is considered stale.\n     */\n    async isChainsStale() {\n      if (!isNewChainsStale) return false;\n\n      const connectorChains = config.chains.map((x) => x.id);\n      const namespaceChains = this.getNamespaceChainsIds();\n      if (namespaceChains.length && !namespaceChains.some((id) => connectorChains.includes(id))) return false;\n\n      const requestedChains = await this.getRequestedChainsIds();\n      return !connectorChains.every((id) => requestedChains.includes(id));\n    },\n    async setRequestedChainsIds(chains) {\n      await config.storage?.setItem(this.requestedChainsStorageKey, chains);\n    },\n    get requestedChainsStorageKey() {\n      return `${this.id}.requestedChains` as Properties[\"requestedChainsStorageKey\"];\n    },\n  }));\n}\n\ntype ExtractRpcUrlsParameters = {\n  transports?: Record<string, Transport> | undefined;\n  chain: Chain;\n};\n\nexport function extractRpcUrls(parameters: ExtractRpcUrlsParameters) {\n  const { chain } = parameters;\n  const fallbackUrl = chain.rpcUrls.default.http[0];\n\n  if (!parameters.transports) return [fallbackUrl];\n\n  const transport = parameters.transports?.[chain.id]?.({ chain });\n  const transports = (transport?.value?.transports as NonNullable<typeof transport>[]) || [transport];\n  return transports.map(({ value }) => value?.url || fallbackUrl);\n}\n","import { CreateConnectorFn } from \"wagmi\";\nimport { injected, coinbaseWallet, safe } from \"wagmi/connectors\";\nimport { walletConnect } from \"./connectors/walletConnect\";\n\nexport type GetDefaultConnectorsOptions = {\n  /**\n   * WalletConnect project ID, obtained from your WalletConnect dashboard.\n   */\n  // TODO: make optional and hide wallet options if so?\n  readonly walletConnectProjectId: string;\n  readonly appName: string;\n};\n\nexport function getDefaultConnectors(config: GetDefaultConnectorsOptions): readonly CreateConnectorFn[] {\n  // TODO: return ConnectKit's default connectors once https://github.com/wevm/wagmi/pull/4691 lands\n  const connectors: CreateConnectorFn[] = [];\n\n  // If we're in an iframe, include the SafeConnector\n  const shouldUseSafeConnector = !(typeof window === \"undefined\") && window?.parent !== window;\n  if (shouldUseSafeConnector) {\n    connectors.push(\n      safe({\n        allowedDomains: [/gnosis-safe.io$/, /app.safe.global$/],\n      }),\n    );\n  }\n\n  connectors.push(\n    injected({ target: \"metaMask\" }),\n    coinbaseWallet({\n      appName: config.appName,\n      overrideIsMetaMask: false,\n    }),\n  );\n\n  if (config.walletConnectProjectId) {\n    connectors.push(\n      walletConnect({\n        showQrModal: false,\n        projectId: config.walletConnectProjectId,\n      }),\n    );\n  }\n\n  return connectors;\n}\n","import { Chain, Transport } from \"viem\";\nimport { Config, CreateConfigParameters, CreateConnectorFn, createConfig } from \"wagmi\";\nimport { getDefaultConfig } from \"connectkit\";\nimport { getDefaultConnectors } from \"./getDefaultConnectors\";\n\nexport type CreateWagmiConfigOptions<\n  chains extends readonly [Chain, ...Chain[]] = readonly [Chain, ...Chain[]],\n  transports extends Record<chains[number][\"id\"], Transport> = Record<chains[number][\"id\"], Transport>,\n  connectorFns extends readonly CreateConnectorFn[] = readonly CreateConnectorFn[],\n> = {\n  readonly chainId: number;\n  readonly chains: chains;\n  readonly transports: transports;\n  /**\n   * WalletConnect project ID, obtained from your WalletConnect dashboard.\n   */\n  // TODO: make optional and hide wallet options if so?\n  readonly walletConnectProjectId: string;\n  readonly appName: string;\n} & Pick<CreateConfigParameters<chains, transports, connectorFns>, \"pollingInterval\" | \"connectors\">;\n\nexport function createWagmiConfig<\n  const chains extends readonly [Chain, ...Chain[]],\n  transports extends Record<chains[number][\"id\"], Transport>,\n  const connectorFns extends readonly CreateConnectorFn[] = readonly CreateConnectorFn[],\n>(config: CreateWagmiConfigOptions<chains, transports, connectorFns>): Config<chains, transports, connectorFns> {\n  const connectors = config.connectors ?? getDefaultConnectors(config);\n\n  const configParams = getDefaultConfig({\n    chains: config.chains,\n    transports: config.transports,\n    pollingInterval: config.pollingInterval,\n    appName: config.appName,\n    walletConnectProjectId: config.walletConnectProjectId,\n    enableFamily: false,\n    connectors,\n  });\n\n  return createConfig(configParams) as never;\n}\n","import { Chain, createClient, http } from \"viem\";\nimport { cachedFeesPerGas } from \"../actions/cachedFeesPerGas\";\n\ntype WithFeeCacheOptions = {\n  refreshInterval?: number;\n};\n\nexport function withFeeCache<chain extends Chain>(\n  chain: chain,\n  options: WithFeeCacheOptions = { refreshInterval: 10_000 },\n): chain {\n  if (chain.fees?.estimateFeesPerGas) {\n    throw new Error(\"withFeeCache: estimateFeesPerGas already defined in chain config\");\n  }\n\n  const client = createClient({\n    chain,\n    transport: http(),\n  });\n\n  return {\n    ...chain,\n    fees: {\n      ...chain.fees,\n      estimateFeesPerGas: cachedFeesPerGas(client, options),\n    },\n  };\n}\n","import { Address, Client } from \"viem\";\nimport { readContract } from \"viem/actions\";\nimport { getDelegation } from \"./onboarding/getDelegation\";\n\n/**\n * @internal\n */\nexport async function internal_validateSigner({\n  client,\n  worldAddress,\n  userAddress,\n  sessionAddress,\n  signerAddress,\n}: {\n  client: Client;\n  worldAddress: Address;\n  userAddress: Address;\n  sessionAddress: Address;\n  signerAddress: Address;\n}) {\n  const ownerAddress = await readContract(client, {\n    address: sessionAddress,\n    abi: simpleAccountAbi,\n    functionName: \"owner\",\n  });\n\n  if (ownerAddress.toLowerCase() !== signerAddress.toLowerCase()) {\n    throw new Error(`Session account owner (${ownerAddress}) does not match message signer (${signerAddress}).`);\n  }\n\n  const hasDelegation = await getDelegation({\n    client,\n    worldAddress,\n    sessionAddress,\n    userAddress,\n    blockTag: \"latest\",\n  });\n\n  if (!hasDelegation) {\n    throw new Error(`Session account (${sessionAddress}) does not have delegation for user account (${userAddress}).`);\n  }\n}\n\n// TODO: import ABI once we can get strongly typed JSON or expose `getOwner` or similar method on smart account\nconst simpleAccountAbi = [\n  {\n    inputs: [],\n    name: \"owner\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n] as const;\n"]}